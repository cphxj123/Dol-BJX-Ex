:: Widgets Text [widget]

<<widget "setLocalPronouns">>
	<<run App.Utils.setLocalPronouns(_args[0], _args[1])>>
<</widget>>

<<widget "capitalise">><<silently>>
	<<set _text_output to _text_output.toLocaleUpperFirst()>>
<</silently>>_text_output<</widget>>

<<widget "catcall">>
	"<<print either("Hey beautiful.",
	"Hey gorgeous.",
	"Looking good.",
	"Looking fine.",
	"You look sumptuous, <<girl>>.",
	"You look ravishing, <<girl>>.",
	"You look stunning, <<girl>>.",
	"You look superb, <<girl>>.",
	"Hey <<girl>>, want some of this?",
	"Nice butt.",
	"I'd love a taste of you.")>>"
<</widget>>

<<widget "lewdcatcall">>
	"<<print either("Looks like someone wants to be raped.",
	"What a slut!",
	"What a whore!",
	"Why would you dress like that?",
	"That's one way to get attention.",
	"You can't complain if someone hurts you while walking around like that.",
	"L-lewd!")>>"
<</widget>>

<<widget "schoolcatcall">>
	"<<print either("Hey sexy.",
	"Hey <<girl>>.",
	"Looking good.",
	"Looking fine.",
	"You look cute, <<girl>>.",
	"You look ravishing, <<girl>>.",
	"You look stunning, <<girl>>.",
	"You look superb, <<girl>>.",
	"Hey <<girl>>, want some of this?",
	"Nice butt.",
	"You look tasty.")>>"
<</widget>>

<<widget "anticatcall">>
	"<<print either("Do you talk to your family that way?",
	"What is your problem?",
	"Is that the best you can do?",
	"At least one of us looks good.",
	"Leave me alone, you creep.",
	"Idiot. Never speak to me like that again.",
	"Go away.",
	"Has that line ever worked for you?",
	"You're pitiful.")>>"
<</widget>>

<<widget "hairmapcolourtext">>
	<<if _args[0] in setup.colours.hair_map>>
		<<print setup.colours.hair_map[_args[0]].name>>
	<<elseif _args[0] and !_colour>>
		<<print _args[0]>>
	<<else>>
		<<print _colour>>
	<</if>>
<</widget>>

<<widget "haircolourtext">>
	<<if $hairColourStyle == "gradient">>
		<<print "two-toned">>
	<<else>>
		<<hairmapcolourtext $haircolour>>
	<</if>>
<</widget>>

<<widget "hairfringecolourtext">>
	<<if $hairFringeColourStyle == "gradient">>
		<<print "two-toned">>
	<<else>>
		<<hairmapcolourtext $hairfringecolour>>
	<</if>>
<</widget>>

<<widget "charles">><<silently>>
	<<if $wraith.mimic is "Morgan" and $wraith.state is "haunt" and random(1,3) is 1>>
		<<set _text_output to "graverobber">>
	<<else>>
		<<set _text_output to ($player.gender_appearance is "m" ? "Charles" : "Charlene")>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "npcexposetext">><<silently>>
	<<person>><<set _person to _text_output>>
	<<his>><<set _his to _text_output>>
	<<if $pronoun is "m">>
		<<set _text_output to "The " + _person + " unzips " + _his + " fly, ">>
	<<else>>
		<<set _text_output to "The " + _person + " lifts up " + _his + " skirt, ">>
	<</if>>
	<<if $NPCList[0].penis isnot "none">>
		<<set _text_output to _text_output + "revealing " + _his + " erect penis.">>
	<<else>>
		<<set _text_output to _text_output + "revealing " + _his + " moist pussy.">>
	<</if>>
<</silently>>_text_output<</widget>>

<!-- Commented out for deprecation. Use: ?bodypart
			See 03-JavaScript/Templates/..
<<widget "bodyparts">>
	<<print either("hands", "feet", "thighs", "legs", "tummy", "cheek", "bottom", "chest", "face", "arms", "shoulder", "back")>>
<</widget>>
-->

<!-- Commented out for deprecation. Use: ?lowerbodypart
			See 03-JavaScript/Templates/..
<<widget "lowerbodyparts">>
	<<print either("hands", "feet", "thighs", "bottom")>>
<</widget>>
-->

<<widget "word">><<silently>>
	/* usage example: <<word "upper">> */
	<<set _text_output to "">>
	<<if _args[0]>>
		<<set $_result to setup.clothes[_args[0]][clothesIndex(_args[0],$worn[_args[0]])].word>>
		<<set _text_output to ($_result isnot "n" ? $_result : "")>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "genitalsword">><<word "genitals">><</widget>>

<<widget "plural">><<silently>>
	<<if setup.clothes[_args[0]][clothesIndex(_args[0],$worn[_args[0]])].plural is 1>>
		<<set _text_output to "are">>
	<<else>>
		<<set _text_output to "is">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "overupperplural">>
	<<plural "over_upper">>
<</widget>>
<<widget "overlowerplural">>
	<<plural "over_lower">>
<</widget>>
<<widget "upperplural">>
	<<plural "upper">>
<</widget>>
<<widget "lowerplural">>
	<<plural "lower">>
<</widget>>
<<widget "underupperplural">>
	<<plural "under_upper">>
<</widget>>
<<widget "underlowerplural">>
	<<plural "under_lower">>
<</widget>>
<<widget "genitalsplural">>
	<<plural "genitals">>
<</widget>>

<<widget "itis">><<silently>>
	<<if setup.clothes[_args[0]][clothesIndex(_args[0],$worn[_args[0]])].plural is 1>>
		<<set _text_output to "they are">>
	<<else>>
		<<set _text_output to "it is">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "overupperitis">>
	<<itis "over_upper">>
<</widget>>
<<widget "overloweritis">>
	<<itis "over_lower">>
<</widget>>
<<widget "upperitis">>
	<<itis "upper">>
<</widget>>
<<widget "loweritis">>
	<<itis "lower">>
<</widget>>
<<widget "underupperitis">>
	<<itis "under_upper">>
<</widget>>
<<widget "underloweritis">>
	<<itis "under_lower">>
<</widget>>

<<widget "it">><<silently>>
	<<if setup.clothes[_args[0]][clothesIndex(_args[0],$worn[_args[0]])].plural is 1>>
		<<set _text_output to "them">>
	<<else>>
		<<set _text_output to "it">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "overupperit">>
	<<it "over_upper">>
<</widget>>
<<widget "overlowerit">>
	<<it "over_lower">>
<</widget>>
<<widget "upperit">>
	<<it "upper">>
<</widget>>
<<widget "lowerit">>
	<<it "lower">>
<</widget>>
<<widget "underupperit">>
	<<it "under_upper">>
<</widget>>
<<widget "underlowerit">>
	<<it "under_lower">>
<</widget>>
<<widget "feetit">>
	<<it "feet">>
<</widget>>
<<widget "legsit">>
	<<it "legs">>
<</widget>>
<<widget "handsit">>
	<<it "hands">>
<</widget>>

<<widget "has">><<silently>>
	<<if setup.clothes[_args[0]][clothesIndex(_args[0],$worn[_args[0]])].plural is 1>>
		<<set _text_output to "have">>
	<<else>>
		<<set _text_output to "has">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "overupperhas">>
	<<has "over_upper">>
<</widget>>
<<widget "overlowerhas">>
	<<has "over_lower">>
<</widget>>
<<widget "upperhas">>
	<<has "upper">>
<</widget>>
<<widget "lowerhas">>
	<<has "lower">>
<</widget>>
<<widget "underupperhas">>
	<<has "under_upper">>
<</widget>>
<<widget "underlowerhas">>
	<<has "under_lower">>
<</widget>>

<<widget "that">><<silently>>
	<<if setup.clothes[_args[0]][clothesIndex(_args[0],$worn[_args[0]])].plural is 1>>
		<<set _text_output to "those">>
	<<else>>
		<<set _text_output to "that">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "overupperthat">>
	<<that "over_upper">>
<</widget>>
<<widget "overlowerthat">>
	<<that "over_lower">>
<</widget>>
<<widget "upperthat">>
	<<that "upper">>
<</widget>>
<<widget "lowerthat">>
	<<that "lower">>
<</widget>>
<<widget "underupperthat">>
	<<that "under_upper">>
<</widget>>
<<widget "underlowerthat">>
	<<that "under_lower">>
<</widget>>
<<widget "genitalsthat">>
	<<that "genitals">>
<</widget>>
<<widget "feetthat">>
	<<that "feet">>
<</widget>>
<<widget "legsthat">>
	<<that "legs">>
<</widget>>
<<widget "handsthat">>
	<<that "hands">>
<</widget>>

<<widget "generatePronouns">>
	<<if _args[0]>>
		<<set _args[0].pronouns to {}>>
		<<switch _args[0].pronoun>>
			<<case "m">>
				<<set _args[0].pronouns.he = "he">>
				<<set _args[0].pronouns.his = "his">>
				<<set _args[0].pronouns.hers = "his">>
				<<set _args[0].pronouns.him = "him">>
				<<set _args[0].pronouns.himself = "himself">>
				<<set _args[0].pronouns.man = "man">>
				<<set _args[0].pronouns.boy = "boy">>
				<<set _args[0].pronouns.men = "men">>
			<<case "f">>
				<<set _args[0].pronouns.he = "she">>
				<<set _args[0].pronouns.his = "her">>
				<<set _args[0].pronouns.hers = "hers">>
				<<set _args[0].pronouns.him = "her">>
				<<set _args[0].pronouns.himself = "herself">>
				<<set _args[0].pronouns.man = "woman">>
				<<set _args[0].pronouns.boy = "girl">>
				<<set _args[0].pronouns.men = "women">>
			<<case "i">>
				<<set _args[0].pronouns.he = "it">>
				<<set _args[0].pronouns.his = "its">>
				<<set _args[0].pronouns.hers = "its">>
				<<set _args[0].pronouns.him = "it">>
				<<set _args[0].pronouns.himself = "itself">>
				<<set _args[0].pronouns.man = "man">>
				<<set _args[0].pronouns.boy = "boy">>
				<<set _args[0].pronouns.men = "men">>
			<<case "n">>
				<<set _args[0].pronouns.he = "one">>
				<<set _args[0].pronouns.his = "the">>
				<<set _args[0].pronouns.hers = "its">>
				<<set _args[0].pronouns.him = "them">>
				<<set _args[0].pronouns.himself = "themselves">>
				<<set _args[0].pronouns.man = "man">>
				<<set _args[0].pronouns.boy = "k">>
				<<set _args[0].pronouns.men = "men">>
			<<case "t">>
				<<set _args[0].pronouns.he = "they">>
				<<set _args[0].pronouns.his = "their">>
				<<set _args[0].pronouns.hers = "they">>
				<<set _args[0].pronouns.him = "them">>
				<<set _args[0].pronouns.himself = "themselves">>
				<<set _args[0].pronouns.man = "man">>
				<<set _args[0].pronouns.boy = "boy">>
				<<set _args[0].pronouns.men = "men">>
		<</switch>>
	<</if>>
<</widget>>

<<widget "clearPronouns">>
	<<if _args[0]>>
		<<set _args[0].pronouns.he = 0>>
		<<set _args[0].pronouns.his = 0>>
		<<set _args[0].pronouns.hers = 0>>
		<<set _args[0].pronouns.him = 0>>
		<<set _args[0].pronouns.himself = 0>>
		<<set _args[0].pronouns.man = 0>>
		<<set _args[0].pronouns.boy = 0>>
		<<set _args[0].pronouns.men = 0>>
	<</if>>
<</widget>>

<!-- [0] - string
	 prints string [0] prepended with an indefinite article based on the [0]'s first character -->
<<widget "a">><<silently>>
	<<if ["a","e","i","o","u","A","E","I","O","U"].includes(_args[0][0])>>
		<<set _text_output to "an " + _args[0]>>
	<<else>>
		<<set _text_output to "a " + _args[0]>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "A">><<silently>>
	<<a _args[0]>><<capitalise>>
<</silently>>_text_output<</widget>>

<<widget "theowner">><<silently>>
	<<if $enemyno gte 2 and $enemytype is "man">>
		<<set _text_output to "the owner">>
	<<else>>
		<<he>>
	<</if>>
<</silently>>_text_output<</widget>>


<<widget "someones">>
	<<if _args[0] is "two">>
		their
	<<elseif _args[0] isnot undefined>>
		<<set $_target to _args[0]>>
		<<hisselect $_target>>
	<<else>>
		<<his>>
	<</if>>
<</widget>>

<<widget "someone">><<silently>>
	<<if _args[0] isnot undefined>>
		<<set $_target to _args[0]>>
		<<personselect $_target>><<him>>
	<<else>>
		<<him>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "their">>
	<<if _args[0] isnot undefined>>
		<<set $_target to _args[0]>>
		<<hisselect $_target>>
	<<elseif $enemyno gte 2 and $enemytype is "man">>
		their
	<<else>>
		<<his>>
	<</if>>
<</widget>>

<<widget "ohe">><<silently>>
	<<if $enemytype is "beast">>
		<<bhe>>
	<<else>>
		<<he>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "he">><<silently>>
	<!-- Add the option to call for named NPCs individually -->
	<<if _args[0]>>
		<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<</if>>
	<<if $pronoun is "m">>
		<<set _text_output to "he">>
	<<elseif $pronoun is "f">>
		<<set _text_output to "she">>
	<<elseif $pronoun is "i">>
		<<set _text_output to "it">>
	<<elseif $pronoun is "n">>
		<<set _text_output to "one">>
	<<elseif $pronoun is "t">>
		<<set _text_output to "they">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "bHe">><<silently>>
	<<if typeof _args[0] is "number">>
		<<set _na to _args[0]>>
	<<elseif $enemyno gte 0>>
		<<set _na to $enemyno-1>>
	<<else>>
		<<set _na to 0>>
	<</if>>
	<<if $NPCList[_na].monster is "monster">>
		<<set _text_output to ($NPCList[_na].pronoun is "m" ? "He" : "She")>>
	<<else>>
		<<set _text_output to "It">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "bhe">><<silently>>
	<<if typeof _args[0] is "number">>
		<<set _na to _args[0]>>
	<<elseif $enemyno gte 0>>
		<<set _na to $enemyno-1>>
	<<else>>
		<<set _na to 0>>
	<</if>>
	<<if $NPCList[_na].monster is "monster">>
		<<set _text_output to ($NPCList[_na].pronoun is "m" ? "he" : "she")>>
	<<else>>
		<<set _text_output to "it">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "bHis">><<silently>>
	<<if typeof _args[0] is "number">>
		<<set _na to _args[0]>>
	<<elseif $enemyno gte 0>>
		<<set _na to $enemyno-1>>
	<<else>>
		<<set _na to 0>>
	<</if>>
	<<if $NPCList[_na].monster is "monster">>
		<<set _text_output to ($NPCList[_na].pronoun is "m" ? "His" : "Her")>>
	<<else>>
		<<set _text_output to "Its">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "bhis">><<silently>>
	<<if typeof _args[0] is "number">>
		<<set _na to _args[0]>>
	<<elseif $enemyno gte 0>>
		<<set _na to $enemyno-1>>
	<<else>>
		<<set _na to 0>>
	<</if>>
	<<if $NPCList[_na].monster is "monster">>
		<<set _text_output to ($NPCList[_na].pronoun is "m" ? "his" : "her")>>
	<<else>>
		<<set _text_output to "its">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "bhers">><<silently>>
	<<if typeof _args[0] is "number">>
		<<set _na to _args[0]>>
	<<elseif $enemyno gte 0>>
		<<set _na to $enemyno-1>>
	<<else>>
		<<set _na to 0>>
	<</if>>
	<<if $NPCList[_na].monster is "monster">>
		<<set _text_output to ($NPCList[_na].pronoun is "m" ? "his" : "hers")>>
	<<else>>
		<<set _text_output to "its">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "bHim">><<silently>>
	<<if typeof _args[0] is "number">>
		<<set _na to _args[0]>>
	<<elseif $enemyno gte 0>>
		<<set _na to $enemyno-1>>
	<<else>>
		<<set _na to 0>>
	<</if>>
	<<if $NPCList[_na].monster is "monster">>
		<<set _text_output to ($NPCList[_na].pronoun is "m" ? "Him" : "Her")>>
	<<else>>
		<<set _text_output to "It">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "bhim">><<silently>>
	<<if typeof _args[0] is "number">>
		<<set _na to _args[0]>>
	<<elseif $enemyno gte 0>>
		<<set _na to $enemyno-1>>
	<<else>>
		<<set _na to 0>>
	<</if>>
	<<if $NPCList[_na].monster is "monster">>
		<<set _text_output to ($NPCList[_na].pronoun is "m" ? "him" : "her")>>
	<<else>>
		<<set _text_output to "it">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "bhimself">><<silently>>
	<<if typeof _args[0] is "number">>
		<<set _na to _args[0]>>
	<<elseif $enemyno gte 0>>
		<<set _na to $enemyno-1>>
	<<else>>
		<<set _na to 0>>
	<</if>>
	<<if $NPCList[_na].monster is "monster">>
		<<set _text_output to ($NPCList[_na].pronoun is "m" ? "himself" : "herself")>>
	<<else>>
		<<set _text_output to "itself">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "bHimself">><<silently>>
	<<if typeof _args[0] is "number">>
		<<bhimself _args[0]>>
	<<else>>
		<<bhimself>>
	<</if>>
	<<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "bhes">><<silently>>
	<<if typeof _args[0] is "number">>
		<<set _na to _args[0]>>
	<<elseif $enemyno gte 0>>
		<<set _na to $enemyno-1>>
	<<else>>
		<<set _na to 0>>
	<</if>>
	<<if $NPCList[_na].monster is "monster">>
		<<set _text_output to ($NPCList[_na].pronoun is "m" ? "he's" : "she's")>>
	<<else>>
		<<set _text_output to "it's">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "bHes">><<silently>>
	<<if typeof _args[0] is "number">>
		<<bhes _args[0]>>
	<<else>>
		<<bhes>>
	<</if>>
	<<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "hes">><<silently>>
	<!-- Add the option to call for named NPCs individually -->
	<<if _args[0]>>
		<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<</if>>
	<<if $pronoun is "m">>
		<<set _text_output to "he's">>
	<<elseif $pronoun is "f">>
		<<set _text_output to "she's">>
	<<elseif $pronoun is "i">>
		<<set _text_output to "it's">>
	<<elseif $pronoun is "n">>
		<<set _text_output to "one is">>
	<<elseif $pronoun is "t">>
		<<set _text_output to "they are">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "his">><<silently>>
	<!-- Add the option to call for named NPCs individually -->
	<<if _args[0]>>
		<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<</if>>
	<<if $pronoun is "m">>
		<<set _text_output to "his">>
	<<elseif $pronoun is "f">>
		<<set _text_output to "her">>
	<<elseif $pronoun is "i">>
		<<set _text_output to "its">>
	<<elseif $pronoun is "n">>
		<<set _text_output to "the">>
	<<elseif $pronoun is "t">>
		<<set _text_output to "their">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "hers">><<silently>>
	<!-- Add the option to call for named NPCs individually -->
	<<if _args[0]>>
		<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<</if>>
	<<if $pronoun is "m">>
		<<set _text_output to "his">>
	<<elseif $pronoun is "f">>
		<<set _text_output to "hers">>
	<<elseif $pronoun is "i">>
		<<set _text_output to "its">>
	<<elseif $pronoun is "n">>
		<<set _text_output to "the">>
	<<elseif $pronoun is "t">>
		<<set _text_output to "theirs">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "He">><<silently>>
	<<if _args[0]>>
		<!-- Add the option to call for a named NPC's name -->
		<<if $NPCNameList.includes(_args[0])>>
			<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
		<<else>>
			<<if Number.isInteger(_args[0]) and between(_args[0],0,5)>>
				<<personselect _args[0]>>
			<</if>>
		<</if>>
	<</if>>

	<<if $NPCList[$index].intro is 1>>
		<<set $NPCList[$index].intro to 0>>
		<<if $npcrow.includes($index)>>
			<<if $npc.includes("Black Wolf") or $npc.includes("Great Hawk")>>
				<<set _text_output to "The " + $npc[$npcrow.indexOf($index)]>>
			<<elseif $npc.includes("Ivory Wraith")>>
				<<set _text_output to "The pale figure">>
			<<else>>
				<<set _text_output to $npc[$npcrow.indexOf($index)]>>
			<</if>>
		<<else>>
			<<if $enemytype is "beast">>
				<<beasttype>><<set _text_output to "The " + _text_output>>
			<<elseif $NPCList[$index].name_known is 1>>
				<<set _text_output to $NPCList[$index].name>>
			<<elseif $NPCList[$index].role is "normal">>
				<<person>><<set _text_output to "The " + _text_output>>
			<<else>>
				<<set _text_output to "The " + $NPCList[$index].description + " " + $NPCList[$index].role>>
			<</if>>
		<</if>>
	<<else>>
		<<if $pronoun>>
			<<he>><<capitalise>>
		<<else>>
			<<set _text_output to `<span class="red">[ERROR: undefined pronoun in "He"]</span>`>>
		<</if>>
	<</if>>
<</silently>>_text_output<</widget>>

<!-- Use when you want to force just the pronoun "He" and skip the .intro nonsense.-->
<<widget "He_Short">><<silently>>
	<<if $pronoun>>
		<<he>><<capitalise>>
	<<else>>
		<<set _text_output to `<span class="red">[ERROR: undefined pronoun in "He_Short"]</span>`>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "His">><<silently>>
	<!-- Add the option to call for named NPCs individually -->
	<<if _args[0]>>
		<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<</if>>
	<<if $pronoun is "m">>
		<<set _text_output to "His">>
	<<elseif $pronoun is "f">>
		<<set _text_output to "Her">>
	<<elseif $pronoun is "i">>
		<<set _text_output to "Its">>
	<<elseif $pronoun is "n">>
		<<set _text_output to "The">>
	<<elseif $pronoun is "t">>
		<<set _text_output to "Their">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "Hers">><<silently>>
	<!-- Add the option to call for named NPCs individually -->
	<<if _args[0]>>
		<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<</if>>
	<<if $pronoun is "m">>
		<<set _text_output to "His">>
	<<elseif $pronoun is "f">>
		<<set _text_output to "Hers">>
	<<elseif $pronoun is "i">>
		<<set _text_output to "Its">>
	<<elseif $pronoun is "n">>
		<<set _text_output to "The">>
	<<elseif $pronoun is "t">>
		<<set _text_output to "Theirs">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "Hes">><<silently>>
	<!-- Add the option to call for named NPCs individually -->
	<<if _args[0]>>
		<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<</if>>
	<<if $pronoun is "m">>
		<<set _text_output to "He's">>
	<<elseif $pronoun is "f">>
		<<set _text_output to "She's">>
	<<elseif $pronoun is "i">>
		<<set _text_output to "It's">>
	<<elseif $pronoun is "n">>
		<<set _text_output to "One is">>
	<<elseif $pronoun is "t">>
		<<set _text_output to "They are">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "him">><<silently>>
	<!-- Add the option to call for named NPCs individually -->
	<<if _args[0]>>
		<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<</if>>
	<<if $pronoun is "m">>
		<<set _text_output to "him">>
	<<elseif $pronoun is "f">>
		<<set _text_output to "her">>
	<<elseif $pronoun is "i">>
		<<set _text_output to "it">>
	<<elseif $pronoun is "n">>
		<<set _text_output to "them">>
	<<elseif $pronoun is "t">>
		<<set _text_output to "them">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "Him">><<silently>>
	<<him>><<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "hisselect">>
	<!-- Note calls range from 0-5 corresponding to NPCs 1-6. This was done to simplify FOR loops -->
	<<set _n to _args[0]>>
	<<if $enemytype is "man" and $enemyno gte 2>>
		<<personselect _n>>
		<!-- NPC's name will only appear if they are selected -->
		<<if $NPCList[_n].intro is 1>>
			<<if $npcrow.includes(_n)>>
				<<print $npc[$npcrow.indexOf(_n)]>>'s
			<<else>>
				the <<persons>>
			<</if>>
			<<set $NPCList[_n].intro to 0>>
		<<else>>
			<<his>>
		<</if>>
	<<elseif $enemytype is "beast">>
		<<bhis>>
	<<else>>
		<<his>>
	<</if>>
<</widget>>

<!-- Keeping his1-6 for legacy support as of v2.3 -->
<<widget "his1">>
	<<person1>><<his>>
<</widget>>

<<widget "his2">>
	<<person2>><<his>>
<</widget>>

<<widget "his3">>
	<<person3>><<his>>
<</widget>>

<<widget "his4">>
	<<person4>><<his>>
<</widget>>

<<widget "his5">>
	<<person5>><<his>>
<</widget>>

<<widget "his6">>
	<<person6>><<his>>
<</widget>>

<<widget "himself">><<silently>>
	<!-- Add the option to call for named NPCs individually -->
	<<if _args[0]>>
		<<set $pronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<</if>>
	<<if $pronoun is "m">>
		<<set _text_output to "himself">>
	<<elseif $pronoun is "i">>
		<<set _text_output to "itself">>
	<<else>>
		<<set _text_output to "herself">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "people">><<silently>>
	<<if maleChance() is 100>>
		<<set _text_output to "men">>
	<<elseif maleChance() is 0>>
		<<set _text_output to "women">>
	<<else>>
		<<set _text_output to "men and women">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "peopley">><<silently>>
	<<if maleChance() is 100>>
		<<set _text_output to "boys">>
	<<elseif maleChance() is 0>>
		<<set _text_output to "girls">>
	<<else>>
		<<set _text_output to "boys and girls">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "persony">><<silently>>
	<<rng>>
	<<set _text_output to ($rng lte maleChance()? "boy" : "girl")>>
<</silently>><<print _text_output>><</widget>>

<<widget "group">><<silently>>
	<<if $enemyno gte 3 or ($combat is 1 and $enemynomax gte 3)>>
		<<for _g to 0; _g lt $NPCList.length; _g++>>
			<<if $NPCList[_g].pronoun is "m">>
				<<set $_group_man to true>>
			<<elseif $NPCList[_g].pronoun is "f">>
				<<set $_group_woman to true>>
			<</if>>
		<</for>>
		<<if $_group_man and $_group_woman>>
			<<set _text_output to ($NPCList[0].teen is 1? "girls and boys" : "men and women")>>
		<<elseif $_group_man and !$_group_woman>>
			<<set _text_output to ($NPCList[0].teen is 1? "boys" : "men")>>
		<<elseif !$_group_man and $_group_woman>>
			<<set _text_output to ($NPCList[0].teen is 1? "girls" : "women")>>
		<</if>>
	<<elseif $enemyno is 2 or ($combat is 1 and $enemynomax is 2)>>
		<<if $NPCList[0].pronoun isnot $NPCList[1].pronoun>>
			<<set _text_output to ($NPCList[0].teen is 1? "girl and boy" : "man and woman")>>
		<<elseif $NPCList[0].pronoun is "m">>
			<<set _text_output to ($NPCList[0].teen is 1? "boys" : "men")>>
		<<elseif $NPCList[0].pronoun is "f">>
			<<set _text_output to ($NPCList[0].teen is 1? "girls" : "women")>>
		<</if>>
	<<else>>
		<<person>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "fullGroup">><<silently>>
	<<set $_person to []>>
	<<for _fg to 0; _fg lt $enemyno; _fg++>>
		<<personselect _fg>><<person>>
		<<set $_person.push(_text_output)>>
	<</for>>
	<<set _text_output to formatList($_person, "and", true)>>
	<<if _args[0] is "cap">><<set _text_output to _text_output.toLocaleUpperFirst()>><</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "enumeratedGroup">><<silently>>
	<<set $_menCount to $NPCList.countWith(npc => npc.pronoun is "m")>>
	<<set $_womenCount to $NPCList.countWith(npc => npc.pronoun is "f")>>
	<<silently>>
		<<number $_menCount>><<set $_men to _text_output + " " + ($_menCount is 1 ? "man" : "men")>>
		<<number $_womenCount>><<set $_women to _text_output + " " + ($_womenCount is 1 ? "woman" : "women")>>
	<</silently>>

	<<set [$_first, $_second, $_secondCount] to ($_menCount gte $_womenCount ? [$_men, $_women, $_womenCount] : [$_women, $_men, $_menCount])>>

	<<set _text_output to $_first>>
	<<if $_secondCount gt 0>>
		<<set _text_output += " and " + $_second>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "EnumeratedGroup">><<silently>>
	<<enumeratedGroup>><<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "gendercheck">>
	<<if !["m", "f"].includes($player.gender_appearance)>><<set _text_output to "<span class=\"red\">ERROR: Unexpected $$player.gender_appearance: [$player.gender_appearance]</span>">><</if>>
<</widget>>

<<widget "pshe">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "he" : "she")>><<gendercheck>>
<</silently>>_text_output<</widget>>

<<widget "pShe">><<silently>>
	<<pshe>><<capitalise>>
<</silently>>_text_output<</widget>>

<<widget "pshes">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "he's" : "she's")>><<gendercheck>>
<</silently>>_text_output<</widget>>

<<widget "pShes">><<silently>>
	<<pshes>><<capitalise>>
<</silently>>_text_output<</widget>>

<<widget "pher">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "his" : "her")>><<gendercheck>>
<</silently>>_text_output<</widget>>

<<widget "phers">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "his" : "hers")>><<gendercheck>>
<</silently>>_text_output<</widget>>

<<widget "pHer">><<silently>>
	<<pher>><<capitalise>>
<</silently>>_text_output<</widget>>

<<widget "phim">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "him" : "her")>><<gendercheck>>
<</silently>>_text_output<</widget>>

<<widget "pHim">><<silently>>
	<<phim>><<capitalise>>
<</silently>>_text_output<</widget>>

<<widget "pherself">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "himself" : "herself")>><<gendercheck>>
<</silently>>_text_output<</widget>>

<<widget "pHerself">><<silently>>
	<<pherself>><<capitalise>>
<</silently>>_text_output<</widget>>

<<widget "psir">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "sir" : "ma'am")>><<gendercheck>>
<</silently>>_text_output<</widget>>

<<widget "pSir">><<silently>>
	<<psir>><<capitalise>>
<</silently>>_text_output<</widget>>

<<widget "pmother">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "father" : "mother")>><<gendercheck>>
<</silently>>_text_output<</widget>>

<<widget "pMother">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "Father" : "Mother")>><<gendercheck>>
<</silently>>_text_output<</widget>>

<!-- Commented out for deprecation. Use: ?animals
			See 03-JavaScript/Templates/..
<<widget "animals">>
	<<print either("bees", "elephants", "bunnies", "octopi", "chimps", "squid", "molluscs", "monkeys", "wasps", "baboons", "wolves", "bears", "elk", "seals", "dolphins", "whales", "jellyfish", "cats", "lions", "tigers", "cheetahs", "wild dogs", "panthers", "moles", "badgers", "honey badgers", "ducks", "geese", "sparrows", "robins", "perch", "pike", "salmon", "sturgeon", "frogs", "newts", "crocodiles", "toads", "hawks", "eagles", "cuttlefish", "pythons", "anacondas", "adders", "cobras", "sturgeon", "trout", "salmon", "tuna", "deer", "robins")>>
<</widget>>
-->

<!-- Commented out for deprecation. Use: ?garden
			See 03-JavaScript/Templates/..
<<widget "garden">>
	<<print either("prune flowers", "prune trees", "prune bushes", "water flowers", "remove weeds")>>
<</widget>>
-->

<!--_args[0] - uses "pc", the named npc's name, or a number-->
<!--_args[1] - forces the pregnancy description-->
<<widget "bellyDescription">><<silently>>
	<<if !isNaN(_args[0])>>
		<<set $_size to _args[0]>>
	<<elseif _args[0] is "pc">>
		<<set $_size to $bellySizeDebug || playerBellySize()>>
		<<set $_pregnant to ($bellySizeDebug isnot undefined) || playerIsPregnant()>>
	<<elseif C.npc[_args[0]]>>
		<<set $_size to npcBellySize(_args[0])>>
		<<set $_pregnant to npcIsPregnant(_args[0])>>
	<</if>>

	<<if $_pregnant or _args[1]>>
		<<switch $_size>>
			<<case 7 8 9 10 11>><<set $_text_output to "baby bump">>
			<<case 12 13 14>><<set $_text_output to "growing baby bump">>
			<<case 15 16 17 18>><<set $_text_output to "pregnant belly">>
			<<case 19 20 21 22 23 24>><<set $_text_output to "heavily pregnant belly">>
			<<default>><<set $_text_output to "belly">>
		<</switch>>
	<<else>>
		<<switch $_size>>
			<<case 7 8 9 10 11>><<set $_text_output to "belly bump">>
			<<case 12 13 14>><<set $_text_output to "swollen belly">>
			<<case 15 16 17 18>><<set $_text_output to "large belly">>
			<<case 19 20 21 22 23 24>><<set $_text_output to "bulging belly">>
			<<default>><<set $_text_output to "belly">>
		<</switch>>
	<</if>>
<</silently>><<if $_text_output>>$_text_output<</if>><</widget>>

<<widget "semen">><<silently>>
	<<if $player.penisExist>>
		<<set _text_output to "semen">>
	<<else>>
		<<set _text_output to "lewd fluid">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "mouthsensitivity">><<silently>>
	<<if $mouthsensitivity > 3.5>>
		<<set _text_output2 to "sensitive ">>
	<<elseif $mouthsensitivity >= 2.5>>
		<<set _text_output2 to "tender ">>
	<<elseif $mouthsensitivity >= 1.5>>
		<<set _text_output2 to "receptive ">>
	<<else>>
		<<set _text_output2 to "">>
	<</if>>
<</silently>><<print _text_output2>><</widget>>

<<widget "breastsensitivity">><<silently>>
	<<if $breastsensitivity > 3.5>>
		<<set _text_output2 to "sensitive ">>
	<<elseif $breastsensitivity >= 2.5>>
		<<set _text_output2 to "tender ">>
	<<elseif $breastsensitivity >= 1.5>>
		<<set _text_output2 to "receptive ">>
	<<else>>
		<<set _text_output2 to "">>
	<</if>>
<</silently>><<print _text_output2>><</widget>>

<<widget "bottomsensitivity">><<silently>>
	<<if $bottomsensitivity > 3.5>>
		<<set _text_output2 to "sensitive ">>
	<<elseif $bottomsensitivity >= 2.5>>
		<<set _text_output2 to "tender ">>
	<<elseif $bottomsensitivity >= 1.5>>
		<<set _text_output2 to "receptive ">>
	<<else>>
		<<set _text_output2 to "">>
	<</if>>
<</silently>><<print _text_output2>><</widget>>

<<widget "nipple">>
	<<breastsensitivity>><<print "nipple">>
<</widget>>

<<widget "nipples">>
	<<nipple>>s
<</widget>>

<<widget "breastsizedesc">><<silently>>
	<<set $_breastsize to (_args[0] isnot undefined ? _args[0] : $player.breastsize)>>
	<<if Number.isInteger($_breastsize)>>
		<<set _text_output to setup.breastsizes[$_breastsize]>>
	<<elseif $options.debugdisable is "f">>
		<<set _text_output to "<span class='red'>ERROR - breastsizedesc is not a number: _args[0]</span>">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "breasts">><<silently>>
	<<if Number.isInteger($player.breastsize)>>
		<<if $player.breastsize lte 0>>
			<<set _text_output to "nipples">>
		<<else>>
			<<set _text_output to setup.breastsizes[$player.breastsize] + " breasts">>
		<</if>>
	<<elseif $options.debugdisable is "f">>
		<<set _text_output to "ERROR - $$player.breastsize is not a number: $player.breastsize">>
	<</if>>
<</silently>><<breastsensitivity>><<print _text_output>><</widget>>

<<widget "breastssimple">><<silently>>
	<<if Number.isInteger($player.breastsize)>>
		<<if $player.breastsize lte 0>>
			<<set _text_output to "nipples">>
		<<else>>
			<<set _text_output to "breasts">>
		<</if>>
	<<elseif $options.debugdisable is "f">>
		<<set _text_output to "ERROR - $$player.breastsize is not a number: $player.breastsize">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "chest">><<silently>>
	<<if Number.isInteger($player.breastsize)>>
		<<if $player.breastsize lte 0>>
			<<set _text_output to "chest">>
		<<else>>
			<<set _text_output to setup.breastsizes[$player.breastsize] + " breasts">>
		<</if>>
	<<elseif $options.debugdisable is "f">>
		<<set _text_output to "ERROR - $$player.breastsize is not a number: $player.breastsize">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "chestsimple">><<silently>>
	<<if Number.isInteger($player.breastsize)>>
		<<if $player.breastsize lte 0>>
			<<set _text_output to "chest">>
		<<else>>
			<<set _text_output to "breasts">>
		<</if>>
	<<elseif $options.debugdisable is "f">>
		<<set _text_output to "ERROR - $$player.breastsize is not a number: $player.breastsize">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "mouth">><<silently>>
	<<set _text_output to "lips">>
<</silently>><<mouthsensitivity>><<print _text_output>><</widget>>

<<widget "undertop">><<silently>>
	<<if $worn.under_upper.exposed lte 0>>
		<<set _text_output to $worn.under_upper.name>>
	<<else>>
		<<breasts>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "underoutfit">><<silently>>
	<<outfitChecks>>
	<<undies>><<set $_secondhalf to _text_output>>
	<<undertop>>
	<!-- _text_output now has top (either worn under_upper name, or breasts desc) -->

	<<if !_underOutfit>> <!-- Two separate items, not an outfit -->
		<<set _text_output += " and " + $_secondhalf>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "genitalstate">><<silently>>
	<<set _text_output to "">>
	<<if $args[0] is "penis" and $player.gender is "f" and $parasite.clit.name is "parasite">>
		<<set _text_output to "parasitic ">>
	<<elseif $args[0] is "penis" and $earSlime.focus is "impregnation" and $earSlime.growth gte 100>>
		<<set _text_output to "dripping ">>
	<<elseif $args[0] is "pussy" and $earSlime.focus is "pregnancy" and $earSlime.growth gte 100>>
		<<set _text_output to "dripping ">>
	<<elseif $orgasmcount gte 23>>
		<<if $orgasmdown gte 1>>
			<<set _text_output to "tortured ">>
		<<else>>
			<<set _text_output to "spent ">>
		<</if>>
	<<elseif $orgasmcount gte 9>>
		<<if $orgasmdown gte 1>>
			<<set _text_output to "twitching ">>
		<<else>>
			<<set _text_output to "tired ">>
		<</if>>
	<<else>>
		<<if $orgasmdown gte 1>>
			<<set _text_output to "twitching ">>
		<<else>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				<<set _text_output to "tingling ">>
			<<elseif $arousal gte ($arousalmax / 5) * 3>>
				<<set _text_output to "">>
			<<elseif $arousal gte ($arousalmax / 5) * 2>>
				<<set _text_output to "">>
			<<elseif $arousal gte $arousalmax / 5>>
				<<set _text_output to "">>
			<<else>>
				<<set _text_output to "">>
			<</if>>
			/* ^^^ placeholders for later if people want to fill them out */
		<</if>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "bottom">><<silently>>
	<<set _text_output to ["slender", "slim", "modest", "cushioned", "soft", "round", "plump", "large", "huge"][Math.clamp(0, 8, $player.bottomsize)]>>
	/* _args[0] is a flag to prevent .pluck() from altering state random when calling from overlays */
	<<set _text_output to _text_output + [" ass", " bum", " butt"].pluck(_args[0])>>
<</silently>><<bottomsensitivity>><<print _text_output>><</widget>>

<!-- Too small and too big outputs are intended as error messages
	so that it's more obvious what's wrong when people report bugs -->
<<widget "penissize">><<silently>>
	<<set $_size to $combat or $playerHasStraponOverride ? playerPenisSize() : $player.penissize>>
	<<switch $_size>>
		<<case -2>><<set _text_output to "micro">>
		<<case -1>><<set _text_output to "mini">>
		<<case 0>><<set _text_output to "tiny">>
		<<case 1>><<set _text_output to "small">>
		<<case 2>><<set _text_output to "">>
		<<case 3>><<set _text_output to "large">>
		<<case 4>><<set _text_output to "enormous">>
		<<default>><<set _text_output to "[Widget 'penissize' - Invalid Penis Value of - " + $_size + ($playerHasStraponOverride ? " - $playerHasStraponOverride is set" : "") + "]">>
	<</switch>>
<</silently>><<print _text_output>><</widget>>

<!-- [0] - if truthy, genital sensitivity is omitted -->
<<widget "pussy">><<silently>>
	<<genitalstate "pussy">><<set _genital_state_text to _text_output>>
	<<set _text_output to "">>
	<<if !_args[0]>>
		<<genitalsensitivity>>
	<</if>>
	/* _args[1] is a flag to prevent .pluck() from altering state random when calling from overlays */
	<<set _text_output += _genital_state_text + ["pussy","pussy","pussy","quim"].pluck(_args[1])>>
<</silently>><<print _text_output>><</widget>>

<!-- [0] - if truthy, genital sensitivity is omitted -->
<<widget "clit">><<silently>>
	<<if $player.penisExist>>
		<<penis>>
	<<else>>
		<<set _text_output to "">>
		<<if !_args[0]>>
			<<genitalsensitivity>>
		<</if>>
		<<set _text_output += "clit">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<!-- [0] - if truthy, genital sensitivity is omitted -->
<<widget "penis">><<silently>>
	<<penissize>><<set _penissize_text to _text_output>>
	<<if _penissize_text isnot "">>
		<<set _penissize_text to _penissize_text + " ">>
	<</if>>
	<<genitalstate "penis">><<set _genital_state_text to _text_output>>
	<<set _text_output to "">>
	<<if !_args[0]>>
		<<genitalsensitivity>>
	<</if>>
	<<set _text_output += _penissize_text + _genital_state_text + "penis">>

	<<if playerHasStrapon()>>
		<<if _args[0] isnot undefined and _args[0] is "strap-on" and $player.penisExist>>
			<!-- Do nothing. This is an override for wacky cases such as player masturbation -->
		<<else>>
			<<set _text_output to _penissize_text + "strap-on">>
		<</if>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "reveal">>
	<<if _args[0]>>
		<<if _args[0] gte 900>>
			<span class="red">lewd</span>
		<<elseif _args[0] gte 700>>
			<span class="pink">risqué</span>
		<<elseif _args[0] gte 500>>
			<span class="purple">seductive</span>
		<<elseif _args[0] gte 300>>
			<span class="blue">comfy</span>
		<<elseif _args[0] gte 200>>
			<span class="lblue">tasteful</span>
		<<elseif _args[0] gte 100>>
			<span class="teal">smart</span>
		<<else>>
			<span class="green">unassuming</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "integrity">>
	<<if _args[0]>>
		<<if _args[1] is "cap">>
			<<if _args[0] gte 900>>
				<span class="green">Tough</span>
			<<elseif _args[0] gte 500>>
				<span class="teal">Sturdy</span>
			<<elseif _args[0] gte 200>>
				<span class="lblue">Firm</span>
			<<elseif _args[0] gte 100>>
				<span class="blue">Fine</span>
			<<elseif _args[0] gte 50>>
				<span class="purple">Delicate</span>
			<<elseif _args[0] gte 20>>
				<span class="pink">Fragile</span>
			<<else>>
				<span class="red">Flimsy</span>
			<</if>>

		<<else>>
			<<if _args[0] gte 900>>
				<span class="green">tough</span>
			<<elseif _args[0] gte 500>>
				<span class="teal">sturdy</span>
			<<elseif _args[0] gte 200>>
				<span class="lblue">firm</span>
			<<elseif _args[0] gte 100>>
				<span class="blue">fine</span>
			<<elseif _args[0] gte 50>>
				<span class="purple">delicate</span>
			<<elseif _args[0] gte 20>>
				<span class="pink">fragile</span>
			<<else>>
				<span class="red">flimsy</span>
			<</if>>
		<</if>>
	<</if>>
<</widget>>

<<widget "warmth">>
	<<if _args[0] gte 75>>
		Very warm.
	<<elseif _args[0] gte 50>>
		Warm and snug.
	<<elseif _args[0] gte 25>>
		Should help keep the chill off.
	<<elseif _args[0] gte 10>>
		Should help keep the chill off.
	<<elseif _args[0] gte 1>>
		Light and cool.
	<<else>>
		No effect on warmth.
	<</if>>
	<<if $options.images is 1>>
		(<span class="cold-resist-icon">_args[0]</span>)
	<<else>>
		(Warmth rating: _args[0])
	<</if>>
<</widget>>

<<widget "strokes">>
	<<if $enemyanger gte ($enemyangermax / 5) * 4>>
		<<if $enemyarousal gte ($enemyarousalmax / 5) * 4>>
			savagely toys with
		<<elseif $enemyarousal gte ($enemyarousalmax / 5) * 2>>
			viciously toys with
		<<else>>
			brutally rubs
		<</if>>
	<<elseif $enemyanger gte ($enemyangermax / 5) * 2>>
		<<if $enemyarousal gte ($enemyarousalmax / 5) * 4>>
			roughly rubs
		<<elseif $enemyarousal gte ($enemyarousalmax / 5) * 2>>
			firmly strokes
		<<else>>
			passionately strokes
		<</if>>
	<<else>>
		<<if $enemyarousal gte ($enemyarousalmax / 5) * 2>>
			vigorously strokes
		<<else>>
			gently caresses
		<</if>>
	<</if>>
<</widget>>

<<widget "male">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "male" : "female")>>
<</silently>><<print _text_output>><</widget>>

<<widget "personsimple">><<silently>>
	<<set _text_output to (!$NPCList[$index].type or $NPCList[$index].type is "human" or _args[0] is "normal" ? "" : $NPCList[$index].type)>>
	<<if $role and $role isnot "normal" and _args[0] isnot "normal">>
		<<set _text_output += $role>>
	<<elseif $npcadult is 1>>
		<<set _text_output += ($pronoun is "m" ? "man" : "woman")>>
	<<else>>
		<<set _text_output += ($pronoun is "m" ? "boy" : "girl")>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "personname">><<silently>>
	<<set _text_output to $NPCList[$index].name>>
<</silently>><<print _text_output>><</widget>>

<<widget "person">><<silently>>
	<<set _text_output to $description + " ">>
	<<if ($NPCList[$index].type and $NPCList[$index].type isnot "human") and _args[0] isnot "normal">>
		<<set _text_output += $NPCList[$index].type>>
	<</if>>
	<<if $npc_named is 1>>
		<<set _text_output to $description>>
	<<elseif $role and $role isnot "normal">>
		<<set _text_output += $role>>
	<<elseif $pronoun is "m">>
		<<set _text_output += ($npcadult is 1 ? "man" : "boy")>>
	<<elseif $pronoun is "f">>
		<<set _text_output += ($npcadult is 1 ? "woman" : "girl")>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "persons">><<silently>>
	<<person _args[0]>>
	<<set _text_output to _text_output + "'s">>
<</silently>><<print _text_output>><</widget>>

<<widget "combatperson">><<silently>>
	<<if $npc_named is 1 and $description isnot "pale figure">>
		<<set _text_output to $NPCList[$index].fullDescription>>
	<<elseif $NPCList[$index].name_known is 1>>
		<<set _text_output to $NPCList[$index].name>>
	<<elseif $enemytype is "beast">>
		<<set _text_output to "the " + $NPCList[$index].type>>
	<<elseif $role and $role isnot "normal">>
		<<set _text_output to "the " + $description + " " + $role>>
	<<elseif $npcadult is 1>>
		<<if $pronoun is "m">>
			<<set _text_output to "the " + $description+" man">>
		<<elseif $pronoun is "f">>
			<<set _text_output to "the " + $description+" woman">>
		<<else>>
			<<set _text_output to "the " + $description>>
		<</if>>
	<<else>>
		<<set _text_output to "the " + $NPCList[$index].fullDescription>>
<</if>><</silently>><<print _text_output>><</widget>>

<<widget "combatpersons">><<silently>>
	<<combatperson>>
	<<set _text_output to _text_output + "'s">>
<</silently>><<print _text_output>><</widget>>

<<widget "combatPerson">><<silently>>
	<<combatperson>><<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "genderswapPlayer">>
	<!-- Note: You'll want to call this again when you're done, because its effects are visible on the sidebar caption if you leave it swapped, and we don't want that. -->
	<!-- Note 2: gender_appearance is recalculated at the start of each passage, so don't expect the effects to stick around. -->
	<<set $player.gender_appearance to ($player.gender_appearance is "f" ? "m" : "f")>>
<</widget>>

<<widget "genderswap">>
	<!-- Changes the current pronoun, without modifying the NPC it's referencing. Useful for crossdressing NPC dialogue. -->
	<!-- Usage: <<person1>><<genderswap>><<he>> -->

	<!-- Cannot use genderswap when pronoun is anything other than "m" or "f". -->
	<<switch $pronoun>>
		<<case "m">> <<set $pronoun to "f">>
		<<case "f">> <<set $pronoun to "m">>
		<<default>> <<print `<span class="red">[ERROR: invalid pronoun in genderswap, `+ $pronoun +`]</span>`>>
	<</switch>>
<</widget>>

<<widget "personselect">>
	<!-- This replaces calls person1 person2 etc. Used for NPC object calls -->
	<!-- Note calls are 0-5 corresponding to NPCs 1-6 -->
	<<set _n to _args[0]>>
	<<set $index to _n>>

	<<if !$NPCList[_n] or !$NPCList[_n].pronoun>>
		<<error {
			message: "Undefined NPC in personselect " + _n + ".",
			source: Utils.GetStack(),
			depth: 0,
			exportable: false,
		}>>
		<!-- <<print `<span class="red">[ERROR: undefined NPC in personselect `+ _n +`]</span>`>> -->
	<<else>>
		<<set $npcadult to $NPCList[_n].adult>>
		<<set $pronoun to $NPCList[_n].pronoun>>
		<<if $npcrow.includes(_n)>>
			<<set $description to $NPCName[$npcnum[$npcrow.indexOf(_n)]].title>>
			<<set $role to "normal">>
			<<set $npc_named to 1>>
			<<if $NPCName[$npcnum[$npcrow.indexOf(_n)]].nam is "Ivory Wraith">>
				<<set $description to "pale figure">>
			<</if>>
		<<else>>
			<<set $description to $NPCList[_n].description>>
			<<set $role to $NPCList[_n].role>>
			<<set $npc_named to 0>>
		<</if>>
	<</if>>
<</widget>>

<!-- Leaving person1-6 in place for legacy support as of v2.3-->
<<widget "person1">>
	<<personselect 0>>
<</widget>>

<<widget "person2">>
	<<personselect 1>>
<</widget>>

<<widget "person3">>
	<<personselect 2>>
<</widget>>

<<widget "person4">>
	<<personselect 3>>
<</widget>>

<<widget "person5">>
	<<personselect 4>>
<</widget>>

<<widget "person6">>
	<<personselect 5>>
<</widget>>

<<widget "personpenis">><<silently>>
	<<if $NPCList[0].penis isnot "none">>
		<<set _text_output to "penis">>
	<<else>>
		<<set _text_output to "clit">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "spouse">><<silently>>
	<<if maleChance($pronoun) gte random(1,100)>>
		<<set _text_output to ($pronoun is "m" ? "husband" : "wife")>>
	<<else>>
		<<set _text_output to ($pronoun is "m" ? "wife" : "husband")>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "father">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "father" : "mother")>>
<</silently>><<print _text_output>><</widget>>

<<widget "Father">><<silently>>
	<<father>><<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "mummy">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "daddy" : "mummy")>>
<</silently>><<print _text_output>><</widget>>

<<widget "Mummy">><<silently>>
	<<mummy>><<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "actor">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "actor" : "actress")>>
<</silently>><<print _text_output>><</widget>>

<<widget "actorAroused">><<silently>>
	<<set $_npcGen to (_args[0] ? _args[0] : $index)>>
	<<if $NPCList[$_npcGen].penis isnot "none">>
		<<set _text_output to "flaunting a very obvious erection.">>
	<<else>>
		<<set _text_output to "being very obviously aroused.">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "girl">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "boy" : "girl")>>
<</silently>><<print _text_output>><</widget>>

<<widget "girlfriend">><<silently>>
	<<girl>><<set _text_output to _text_output + "friend">>
<</silently>><<print _text_output>><</widget>>

<<widget "girls">><<silently>>
	<<girl>><<set _text_output to _text_output + "s">>
<</silently>><<print _text_output>><</widget>>

<<widget "wife">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "husband" : "wife")>>
<</silently>><<print _text_output>><</widget>>

<<widget "Wife">><<silently>>
	<<wife>><<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "sister">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m" ? "brother" : "sister")>>
<</silently>><<print _text_output>><</widget>>

<<widget "Sister">><<silently>>
	<<sister>><<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "sister_npc">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "brother" : "sister")>>
<</silently>><<print _text_output>><</widget>>

<<widget "Sister_npc">><<silently>>
	<<sister_npc>><<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "victimgirl">>
	<<if $malevictimchance is 0>>
		<<set _text_output to "girl">>
	<<elseif $malevictimchance is 100>>
		<<set _text_output to "boy">>
	<<elseif $player.gender_appearance is "m">>
		<<set _text_output to "boy">>
	<<else>>
		<<set _text_output to "girl">>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "victimgirls">>
	<<if $malevictimchance is 0>>
		<<set _text_output to "girls">>
	<<elseif $malevictimchance is 100>>
		<<set _text_output to "boys">>
	<<elseif $player.gender_appearance is "m">>
		<<set _text_output to "boys">>
	<<else>>
		<<set _text_output to "girls">>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "lass">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m"? "lad" : "lass")>>
<</silently>><<print _text_output>><</widget>>

<<widget "gender">><<silently>>
	<<switch $player.gender>>
	<<case "f">><<set _text_output to "girl">>
	<<case "m">><<set _text_output to "boy">>
	<<case "h">><<set _text_output to "hermaphrodite">>
	<</switch>>
<</silently>><<print _text_output>><</widget>>

<<widget "gender_posture">><<silently>>
	<<switch $player.gender_posture>>
	<<case "f">><<set _text_output to "girl">>
	<<case "m">><<set _text_output to "boy">>
	<<default>><<set _text_output to "orphan">>
	<</switch>>
<</silently>><<print _text_output>><</widget>>

<<widget "genitals_are">><<silently>>
	<<if _args[0] is undefined>>
		<<genitals>>
	<<else>>
		<<genitals 1>>
	<</if>>
	<<if $player.penisExist and $player.vaginaExist and (!playerChastity() or _args[0] isnot undefined)>>
		<<set _text_output += " are">>
	<<else>>
		<<set _text_output += " is">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "genitalsensitivity">><<silently>>
	<<if $genitalsensitivity > 3.5>>
		<<set _text_output to "sensitive ">>
	<<elseif $genitalsensitivity >= 2.5>>
		<<set _text_output to "tender ">>
	<<elseif $genitalsensitivity >= 1.5>>
		<<set _text_output to "receptive ">>
	<<else>>
		<<set _text_output to "">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<!--
	Optional parameter [0] possible values:
	0 or omitted or null - display chastity and virginity
	1 - omit chastity, display virginity
	2 - omit chastity, omit virginity
 -->
<<widget "genitals">><<silently>>
	<<if playerChastity("hidden") and !_args[0] and _chastityBreak isnot 1>>
		<<set _text_output to $worn.genitals.name>>
	<<else>>
		<<genitalsensitivity>>
		<<if $player.penisExist>>
			<<if $worn.genitals.name is "chastity parasite">>
				<<set _text_output += "sealed ">>
			<<elseif playerChastity("cage")>>
				<<set _text_output += "caged ">>
			<</if>>
			<<if $player.virginity.penile is true and _args[0] isnot 2>>
				<<set _text_output += "virgin ">>
			<</if>>
			<<if $player.gender is "f" and $parasite.clit.name is "parasite" and _args[0] isnot 2>>
				<<set _text_output += "parasitic ">>
			<</if>>
			<<set _text_output += "penis">>
		<</if>>
		<<if $player.vaginaExist>>
			<<if $player.penisExist>>
				<<set _text_output += " and ">>
			<</if>>
			<<if $player.virginity.vaginal is true and _args[0] isnot 2>>
				<<set _text_output += "virgin ">>
			<</if>>
			<<if $vaginaWetness gte 75 and $pbdisable is "f" and $pblevel gte 8>>
				<<set _text_output += "visibly aroused and bushy ">>
			<<elseif $vaginaWetness gte 75>>
				<<set _text_output += "visibly aroused ">>
			<<elseif $pbdisable is "f" and $pblevel gte 8>>
				<<set _text_output += "bushy ">>
			<</if>>
			/* _args[0] is a flag to prevent .pluck() from altering state random when calling from overlays */
			<<set _text_output += ["pussy", "pussy", "pussy", "quim"].pluck(_args[0])>>
		<</if>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<!-- optionally takes 2 parameters: what to add after the text for singular/plural -->
<<widget "genitalsandbreasts">>
	<<genitals>> <<if $player.breastsize gte 1>>and <<breasts>><</if>>
	<<if _args[0] isnot undefined and _args[1] isnot undefined>>
		<<if ($player.penisExist and $player.vaginaExist) or $player.breastsize gte 1>>
			_args[1]
		<<else>>
			_args[0]
		<</if>>
	<</if>>
<</widget>>

<<widget "lcorruption">>
	<<if $statdisable is "f">> |
		<span class="teal">- Corruption</span>
	<</if>>
<</widget>>

<<widget "llcorruption">>
	<<if $statdisable is "f">> |
		<span class="teal">- - Corruption</span>
	<</if>>
<</widget>>

<<widget "lllcorruption">>
	<<if $statdisable is "f">> |
		<span class="teal">- - - Corruption</span>
	<</if>>
<</widget>>

<<widget "gcorruption">>
	<<if $statdisable is "f">> |
		<span class="pink">+ Corruption</span>
	<</if>>
<</widget>>

<<widget "ggcorruption">>
	<<if $statdisable is "f">> |
		<span class="pink">+ + Corruption</span>
	<</if>>
<</widget>>

<<widget "gggcorruption">>
	<<if $statdisable is "f">> |
		<span class="pink">+ + +Corruption</span>
	<</if>>
<</widget>>

<<widget "lstress">>
	<<if $statdisable is "f">> |
		<span class="green">- Stress</span>
	<</if>>
<</widget>>

<<widget "llstress">>
	<<if $statdisable is "f">> |
		<span class="green">- - Stress</span>
	<</if>>
<</widget>>

<<widget "lllstress">>
	<<if $statdisable is "f">> |
		<span class="green">- - - Stress</span>
	<</if>>
<</widget>>

<<widget "gstress">>
	<<if $statdisable is "f">> |
		<span class="red">+ Stress</span>
	<</if>>
<</widget>>

<<widget "ggstress">>
	<<if $statdisable is "f">> |
		<span class="red">+ + Stress</span>
	<</if>>
<</widget>>

<<widget "gggstress">>
	<<if $statdisable is "f">> |
		<span class="red">+ + + Stress</span>
	<</if>>
<</widget>>

<<widget "ltiredness">>
	<<if $statdisable is "f">> |
		<span class="green">- Fatigue</span>
	<</if>>
<</widget>>

<<widget "lltiredness">>
	<<if $statdisable is "f">> |
		<span class="green">- - Fatigue</span>
	<</if>>
<</widget>>

<<widget "llltiredness">>
	<<if $statdisable is "f">> |
		<span class="green">- - - Fatigue</span>
	<</if>>
<</widget>>

<<widget "gtiredness">>
	<<if $statdisable is "f">> |
		<span class="red">+ Fatigue</span>
	<</if>>
<</widget>>

<<widget "ggtiredness">>
	<<if $statdisable is "f">> |
		<span class="red">+ + Fatigue</span>
	<</if>>
<</widget>>

<<widget "gggtiredness">>
	<<if $statdisable is "f">> |
		<span class="red">+ + + Fatigue</span>
	<</if>>
<</widget>>

<<widget "larousal">>
	<<if $statdisable is "f">> |
		<span class="green">- Arousal</span>
	<</if>>
<</widget>>

<<widget "llarousal">>
	<<if $statdisable is "f">> |
		<span class="green">- - Arousal</span>
	<</if>>
<</widget>>

<<widget "lllarousal">>
	<<if $statdisable is "f">> |
		<span class="green">- - - Arousal</span>
	<</if>>
<</widget>>

<<widget "garousal">>
	<<if $statdisable is "f">> |
		<span class="red">+ Arousal</span>
	<</if>>
<</widget>>

<<widget "ggarousal">>
	<<if $statdisable is "f">> |
		<span class="red">+ + Arousal</span>
	<</if>>
<</widget>>

<<widget "gggarousal">>
	<<if $statdisable is "f">> |
		<span class="red">+ + + Arousal</span>
	<</if>>
<</widget>>

<<widget "ltrauma">>
	<<if $statdisable is "f">> |
		<span class="green">- Trauma</span>
	<</if>>
<</widget>>

<<widget "lltrauma">>
	<<if $statdisable is "f">> |
		<span class="green">- - Trauma</span>
	<</if>>
<</widget>>

<<widget "llltrauma">>
	<<if $statdisable is "f">> |
		<span class="green">- - - Trauma</span>
	<</if>>
<</widget>>

<<widget "gtrauma">>
	<<if $statdisable is "f">> |
		<span class="red">+ Trauma</span>
	<</if>>
<</widget>>

<<widget "ggtrauma">>
	<<if $statdisable is "f">> |
		<span class="red">+ + Trauma</span>
	<</if>>
<</widget>>

<<widget "gggtrauma">>
	<<if $statdisable is "f">> |
		<span class="red">+ + + Trauma</span>
	<</if>>
<</widget>>

<<widget "gmystery">>
	<<if $statdisable is "f">> |
		<span class="red">+ ????</span>
	<</if>>
<</widget>>

<<widget "lrtrauma">>
	<<if $statdisable is "f" and ($NPCName[$NPCNameList.indexOf("Robin")].trauma gt 0 or _args[0] is true)>> |
		<span class="green">- Robin's Trauma</span>
	<</if>>
<</widget>>

<<widget "llrtrauma">>
	<<if $statdisable is "f" and ($NPCName[$NPCNameList.indexOf("Robin")].trauma gt 0 or _args[0] is true)>> |
		<span class="green">- - Robin's Trauma</span>
	<</if>>
<</widget>>

<<widget "lllrtrauma">>
	<<if $statdisable is "f" and ($NPCName[$NPCNameList.indexOf("Robin")].trauma gt 0 or _args[0] is true)>> |
		<span class="green">- - - Robin's Trauma</span>
	<</if>>
<</widget>>

<<widget "grtrauma">>
	<<if $statdisable is "f" and ($NPCName[$NPCNameList.indexOf("Robin")].trauma gte 20 or _args[0] is true)>> |
		<span class="red">+ Robin's Trauma</span>
	<</if>>
<</widget>>

<<widget "ggrtrauma">>
	<<if $statdisable is "f" and ($NPCName[$NPCNameList.indexOf("Robin")].trauma gte 20 or _args[0] is true)>> |
		<span class="red">+ + Robin's Trauma</span>
	<</if>>
<</widget>>

<<widget "gggrtrauma">>
	<<if $statdisable is "f" and ($NPCName[$NPCNameList.indexOf("Robin")].trauma gte 20 or _args[0] is true)>> |
		<span class="red">+ + + Robin's Trauma</span>
	<</if>>
<</widget>>

<<widget "glewdity">>
	<<if $statdisable is "f">> |
		<span class="lewd">+ Lewdity</span>
	<</if>>
<</widget>>

<<widget "gglewdity">>
	<<if $statdisable is "f">> |
		<span class="lewd">+ + Lewdity</span>
	<</if>>
<</widget>>

<<widget "ggglewdity">>
	<<if $statdisable is "f">> |
		<span class="lewd">+ + + Lewdity</span>
	<</if>>
<</widget>>

<<widget "llewdity">>
	<<if $statdisable is "f">> |
		<span class="lewd">- Lewdity</span>
	<</if>>
<</widget>>

<<widget "lllewdity">>
	<<if $statdisable is "f">> |
		<span class="lewd">- - Lewdity</span>
	<</if>>
<</widget>>

<<widget "llllewdity">>
	<<if $statdisable is "f">> |
		<span class="lewd">- - - Lewdity</span>
	<</if>>
<</widget>>

<<widget "gattention">>
	<<if (_args[0] is "prison" and !$daily.prison.attentionDay) and $statdisable is "f">> |
		<span class="lewd">+ Attention</span>
	<</if>>
<</widget>>

<<widget "ggattention">>
	<<if (_args[0] is "prison" and !$daily.prison.attentionDay) and $statdisable is "f">> |
		<span class="lewd">+ + Attention</span>
	<</if>>
<</widget>>

<<widget "gggattention">>
	<<if (_args[0] is "prison" and !$daily.prison.attentionDay) and $statdisable is "f">> |
		<span class="lewd">+ + + Attention</span>
	<</if>>
<</widget>>

<<widget "lattention">>
	<<if $statdisable is "f">> |
		<span class="lewd">- Attention</span>
	<</if>>
<</widget>>

<<widget "llattention">>
	<<if $statdisable is "f">> |
		<span class="lewd">- Attention</span>
	<</if>>
<</widget>>

<<widget "lllattention">>
	<<if $statdisable is "f">> |
		<span class="lewd">- Attention</span>
	<</if>>
<</widget>>

<<widget "lcontrol">>
	<<if $statdisable is "f">> |
		<span class="red">- Control</span>
	<</if>>
<</widget>>

<<widget "llcontrol">>
	<<if $statdisable is "f">> |
		<span class="red">- - Control</span>
	<</if>>
<</widget>>

<<widget "lllcontrol">>
	<<if $statdisable is "f">> |
		<span class="red">- - - Control</span>
	<</if>>
<</widget>>

<<widget "gcontrol">>
	<<if $statdisable is "f">> |
		<span class="green">+ Control</span>
	<</if>>
<</widget>>

<<widget "ggcontrol">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Control</span>
	<</if>>
<</widget>>

<<widget "gggcontrol">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Control</span>
	<</if>>
<</widget>>

<<widget "lcombatcontrol">>
	<<if $statdisable is "f">> |
		<span class="red">- Control</span> |
	<</if>>
<</widget>>

<<widget "llcombatcontrol">>
	<<if $statdisable is "f">> |
		<span class="red">- - Control</span> |
	<</if>>
<</widget>>

<<widget "lllcombatcontrol">>
	<<if $statdisable is "f">> |
		<span class="red">- - -Control</span> |
	<</if>>
<</widget>>

<<widget "gcombatcontrol">>
	<<if $control lt $controlstart and $statdisable is "f">> |
		<span class="green">+ Control</span> |
	<</if>>
<</widget>>

<<widget "ggcombatcontrol">>
	<<if $control lt $controlstart and $statdisable is "f">> |
		<span class="green">+ + Control</span> |
	<</if>>
<</widget>>

<<widget "gggcombatcontrol">>
	<<if $control lt $controlstart and $statdisable is "f">> |
		<span class="green">+ + + Control</span> |
	<</if>>
<</widget>>

<<widget "lpain">>
	<<if $statdisable is "f">> |
		<span class="green">- Pain</span>
	<</if>>
<</widget>>

<<widget "llpain">>
	<<if $statdisable is "f">> |
		<span class="green">- - Pain</span>
	<</if>>
<</widget>>

<<widget "lllpain">>
	<<if $statdisable is "f">> |
		<span class="green">- - - Pain</span>
	<</if>>
<</widget>>

<<widget "gpain">>
	<<if $statdisable is "f">> |
		<span class="red">+ Pain</span>
	<</if>>
<</widget>>

<<widget "ggpain">>
	<<if $statdisable is "f">> |
		<span class="red">+ + Pain</span>
	<</if>>
<</widget>>

<<widget "gggpain">>
	<<if $statdisable is "f">> |
		<span class="red">+ + + Pain</span>
	<</if>>
<</widget>>

<<widget "loxygen">>
	<<if $statdisable is "f">> |
		<span class="blue">- Air</span>
	<</if>>
<</widget>>

<<widget "goxygen">>
	<<if $statdisable is "f">> |
		<span class="teal">+ Air</span>
	<</if>>
<</widget>>

<<widget "lawareness">>
	<<if $statdisable is "f">> |
		<<if $innocencestate is 1>>
			<span class="blue">+ Innocence</span>
		<<else>>
			<span class="blue">- Awareness</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "llawareness">>
	<<if $statdisable is "f">> |
		<<if $innocencestate is 1>>
			<span class="blue">+ + Innocence</span>
		<<else>>
			<span class="blue">- - Awareness</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "lllawareness">>
	<<if $statdisable is "f">> |
		<<if $innocencestate is 1>>
			<span class="blue">+ + + Innocence</span>
		<<else>>
			<span class="blue">- - - Awareness</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "gawareness">>
	<<if $statdisable is "f">> |
		<<if $innocencestate is 1>>
			<span class="blue">- Innocence</span>
		<<else>>
			<span class="lblue">+ Awareness</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "ggawareness">>
	<<if $statdisable is "f">> |
		<<if $innocencestate is 1>>
			<span class="blue">- - Innocence</span>
		<<else>>
			<span class="lblue">+ + Awareness</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "gggawareness">>
	<<if $statdisable is "f">> |
		<<if $innocencestate is 1>>
			<span class="blue">- - - Innocence</span>
		<<else>>
			<span class="lblue">+ + + Awareness</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "gpurity">>
	<<if $statdisable is "f">> |
		<span class="green">+ Purity</span>
	<</if>>
<</widget>>

<<widget "ggpurity">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Purity</span>
	<</if>>
<</widget>>

<<widget "gggpurity">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Purity</span>
	<</if>>
<</widget>>

<<widget "lpurity">>
	<<if $statdisable is "f">> |
		<span class="red">- Purity</span>
	<</if>>
<</widget>>

<<widget "llpurity">>
	<<if $statdisable is "f">> |
		<span class="red">- - Purity</span>
	<</if>>
<</widget>>

<<widget "lllpurity">>
	<<if $statdisable is "f">> |
		<span class="red">- - - Purity</span>
	<</if>>
<</widget>>

<<widget "gspurity">>
	<<if $statdisable is "f">> |
		<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity gte 1>>
			<span class="teal">+ Sydney's Purity</span>
		<<else>>
			<span class="teal">- Sydney's Corruption</span>
		<</if>>
	<</if>>
	<<set _warnstate to 1>>
<</widget>>

<<widget "ggspurity">>
	<<if $statdisable is "f">> |
		<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity gte 1>>
			<span class="teal">+ + Sydney's Purity</span>
		<<else>>
			<span class="teal">- - Sydney's Corruption</span>
		<</if>>
	<</if>>
	<<set _warnstate to 2>>
<</widget>>

<<widget "gggspurity">>
	<<if $statdisable is "f">> |
		<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity gte 1>>
			<span class="teal">+ + + Sydney's Purity</span>
		<<else>>
			<span class="teal">- - - Sydney's Corruption</span>
		<</if>>
	<</if>>
	<<set _warnstate to 3>>
<</widget>>

<<widget "lspurity">>
	<<if $statdisable is "f">> |
		<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity gte 1>>
			<span class="purple">- Sydney's Purity</span>
		<<else>>
			<span class="purple">+ Sydney's Corruption</span>
		<</if>>
		<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity lte 50 and _lustincrdisplay isnot 1>>
			<<glust>>
		<</if>>
	<</if>>
	<<set _warnstate to -1>>
<</widget>>

<<widget "llspurity">>
	<<if $statdisable is "f">> |
		<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity gte 1>>
			<span class="purple">- - Sydney's Purity</span>
		<<else>>
			<span class="purple">+ + Sydney's Corruption</span>
		<</if>>
		<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity lte 50 and _lustincrdisplay isnot 1>>
			<<glust>>
		<</if>>
	<</if>>
	<<set _warnstate to -2>>
<</widget>>

<<widget "lllspurity">>
	<<if $statdisable is "f">> |
		<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity gte 1>>
			<span class="purple">- - - Sydney's Purity</span>
		<<else>>
			<span class="purple">+ + + Sydney's Corruption</span>
		<</if>>
		<<if $NPCName[$NPCNameList.indexOf("Sydney")].purity lte 50 and _lustincrdisplay isnot 1>>
			<<glust>>
		<</if>>
	<</if>>
	<<set _warnstate to -3>>
<</widget>>

<<widget "gslust">>
	<<if $statdisable is "f">> |
		<span class="lewd">+ Sydney's Lust</span>
	<</if>>
	<<set _lustincrdisplay to 1>>
<</widget>>

<<widget "ggslust">>
	<<if $statdisable is "f">> |
		<span class="lewd">+ + Sydney's Lust</span>
	<</if>>
	<<set _lustincrdisplay to 1>>
<</widget>>

<<widget "gggslust">>
	<<if $statdisable is "f">> |
		<span class="lewd">+ + + Sydney's Lust</span>
	<</if>>
	<<set _lustincrdisplay to 1>>
<</widget>>

<<widget "lslust">>
	<<if $statdisable is "f">> |
		<span class="teal">- Lust</span>
	<</if>>
	<<set _lustincrdisplay to 1>>
<</widget>>

<<widget "llslust">>
	<<if $statdisable is "f">> |
		<span class="teal">- - Lust</span>
	<</if>>
	<<set _lustincrdisplay to 1>>
<</widget>>

<<widget "lllslust">>
	<<if $statdisable is "f">> |
		<span class="teal">- - - Lust</span>
	<</if>>
	<<set _lustincrdisplay to 1>>
<</widget>>

<<widget "sydneyWarning">>
	<<if $statdisable is "f">>
		<<if _args[0] is "corrupt" and $corruptionEvent is 1 and $NPCName[$NPCNameList.indexOf("Sydney")].corruption is 0 and ($NPCName[$NPCNameList.indexOf("Sydney")].purity - 10) lt 0>>
			| <span class="purple">This action might corrupt Sydney</span>
		<<elseif _args[0] is "purify" and $purityEvent is 1 and $NPCName[$NPCNameList.indexOf("Sydney")].purity is 0 and ($NPCName[$NPCNameList.indexOf("Sydney")].corruption - 10) lt 0>>
			| <span class="teal">This action might purify Sydney</span>
		<<else>>
			<<switch _warnstate>>
				<<case 1>>
					<<if $purityEvent is 1 and $NPCName[$NPCNameList.indexOf("Sydney")].purity is 0 and ($NPCName[$NPCNameList.indexOf("Sydney")].corruption - 2) lt 0>>
						| <span class="teal">This action will purify Sydney</span>
					<</if>>
				<<case 2>>
					<<if $purityEvent is 1 and $NPCName[$NPCNameList.indexOf("Sydney")].purity is 0 and ($NPCName[$NPCNameList.indexOf("Sydney")].corruption - 5) lt 0>>
						| <span class="teal">This action will purify Sydney</span>
					<</if>>
				<<case 3>>
					<<if $purityEvent is 1 and $NPCName[$NPCNameList.indexOf("Sydney")].purity is 0 and ($NPCName[$NPCNameList.indexOf("Sydney")].corruption - 10) lt 0>>
						| <span class="teal">This action will purify Sydney</span>
					<</if>>
				<<case -1>>
					<<if $corruptionEvent is 1 and $NPCName[$NPCNameList.indexOf("Sydney")].corruption is 0 and ($NPCName[$NPCNameList.indexOf("Sydney")].purity - 2) lt 0>>
						| <span class="purple">This action will corrupt Sydney</span>
					<</if>>
				<<case -2>>
					<<if $corruptionEvent is 1 and $NPCName[$NPCNameList.indexOf("Sydney")].corruption is 0 and ($NPCName[$NPCNameList.indexOf("Sydney")].purity - 5) lt 0>>
						| <span class="purple">This action will corrupt Sydney</span>
					<</if>>
				<<case -3>>
					<<if $corruptionEvent is 1 and $NPCName[$NPCNameList.indexOf("Sydney")].corruption is 0 and ($NPCName[$NPCNameList.indexOf("Sydney")].purity - 10) lt 0>>
						| <span class="purple">This action will corrupt Sydney</span>
					<</if>>
			<</switch>>
		<</if>>
	<</if>>
<</widget>>

<<widget "gsydneytoy">>
	<<if $sydney_toy is undefined>>
		| <span class="purple">Sydney will keep the _args[0] for future use</span>
	<<elseif $sydney_toy isnot _args[0]>>
		| <span class="purple">Sydney will keep the _args[0] for future use, replacing their $sydney_toy</span>
	<</if>>
<</widget>>

<<widget "lscience">>
	<<if $statdisable is "f">> |
		<span class="red">- Science</span>
	<</if>>
<</widget>>

<<widget "gscience">>
	<<if $statdisable is "f">> |
		<span class="green">+ Science</span>
	<</if>>
	<<g_science_star>>
<</widget>>

<<widget "ggscience">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Science</span>
	<</if>>
	<<g_science_star>>
<</widget>>

<<widget "gggscience">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Science</span>
	<</if>>
	<<g_science_star>>
<</widget>>

<<widget "lmaths">>
	<<if $statdisable is "f">> |
		<span class="red">- Maths</span>
	<</if>>
<</widget>>

<<widget "gmaths">>
	<<if $statdisable is "f">> |
		<span class="green">+ Maths</span>
	<</if>>
	<<g_maths_star>>
<</widget>>

<<widget "ggmaths">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Maths</span>
	<</if>>
	<<g_maths_star>>
<</widget>>

<<widget "gggmaths">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Maths</span>
	<</if>>
	<<g_maths_star>>
<</widget>>

<<widget "lenglish">>
	<<if $statdisable is "f">> |
		<span class="red">- English</span>
	<</if>>
<</widget>>

<<widget "genglish">>
	<<if $statdisable is "f">> |
		<span class="green">+ English</span>
	<</if>>
	<<g_english_star>>
<</widget>>

<<widget "ggenglish">>
	<<if $statdisable is "f">> |
		<span class="green">+ + English</span>
	<</if>>
	<<g_english_star>>
<</widget>>

<<widget "gggenglish">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + English</span>
	<</if>>
	<<g_english_star>>
<</widget>>

<<widget "lhistory">>
	<<if $statdisable is "f">> |
		<span class="red">- History</span>
	<</if>>
<</widget>>

<<widget "ghistory">>
	<<if $statdisable is "f">> |
		<span class="green">+ History</span>
	<</if>>
	<<g_history_star>>
<</widget>>

<<widget "gghistory">>
	<<if $statdisable is "f">> |
		<span class="green">+ + History</span>
	<</if>>
	<<g_history_star>>
<</widget>>

<<widget "ggghistory">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + History</span>
	<</if>>
	<<g_history_star>>
<</widget>>

<<widget "gschool">>
	<<if $statdisable is "f">> |
		<span class="green">+ School</span>
	<</if>>
<</widget>>

<<widget "gswimming">>
	<<if $statdisable is "f">> |
		<span class="green">+ Swimming</span>
	<</if>>
<</widget>>

<<widget "ggswimming">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Swimming</span>
	<</if>>
<</widget>>

<<widget "gggswimming">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Swimming</span>
	<</if>>
<</widget>>

<<widget "gathletics">>
	<<if $statdisable is "f">> |
		<span class="green">+ Athletics</span>
	<</if>>
<</widget>>

<<widget "ggathletics">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Athletics</span>
	<</if>>
<</widget>>

<<widget "gggathletics">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Athletics</span>
	<</if>>
<</widget>>

<<widget "gtending">>
	<<if $statdisable is "f">> |
		<span class="green">+ Tending</span>
	<</if>>
<</widget>>

<<widget "ggtending">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Tending</span>
	<</if>>
<</widget>>

<<widget "gggtending">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Tending</span>
	<</if>>
<</widget>>

<<widget "ghousekeeping">>
	<<if _args[0] is undefined or $housekeeping lt _args[0]>>
		<<if $statdisable is "f">> |
			<span class="green">+ Housekeeping</span>
		<</if>>
	<<elseif $housekeeping gte _args[0]>>
		<<if $statdisable is "f">>
			<span class="blue">You're too skilled for this to improve your housekeeping.</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "gghousekeeping">>
	<<if _args[0] is undefined or $housekeeping lt _args[0]>>
		<<if $statdisable is "f">> |
			<span class="green">+ + Housekeeping</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "ggghousekeeping">>
	<<if _args[0] is undefined or $housekeeping lt _args[0]>>
		<<if $statdisable is "f">> |
			<span class="green">+ + + Housekeeping</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "gdanceskill">>
	<<if $statdisable is "f">> |
		<span class="green">+ Dance skill</span>
	<</if>>
<</widget>>

<<widget "ggdanceskill">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Dance skill</span>
	<</if>>
<</widget>>

<<widget "gggdanceskill">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Dance skill</span>
	<</if>>
<</widget>>

<<widget "lharass">>
	<<if $statdisable is "f">> |
		<span class="teal">Decreases chance of harassment</span>
	<</if>>
<</widget>>

<<widget "gharass">>
	<<if $statdisable is "f">> |
		<span class="pink">Increases chance of harassment</span>
	<</if>>
<</widget>>

<<widget "noharass">>
	<<if $statdisable is "f">> |
		<span class="green">No chance of harassment</span>
	<</if>>
<</widget>>

<<widget "ltreasure">>
	<<if $statdisable is "f">> |
		<span class="purple">Decreases chance of finding treasure</span>
	<</if>>
<</widget>>

<<widget "gtreasure">>
	<<if $statdisable is "f">> |
		<span class="green">Increases chance of finding treasure</span>
	<</if>>
<</widget>>

<<widget "gdelinquency">>
	<<if $statdisable is "f">> |
		<span class="red">+ Delinquency</span>
	<</if>>
<</widget>>

<<widget "ggdelinquency">>
	<<if $statdisable is "f">> |
		<span class="red">+ + Delinquency</span>
	<</if>>
<</widget>>

<<widget "gggdelinquency">>
	<<if $statdisable is "f">> |
		<span class="red">+ + + Delinquency</span>
	<</if>>
<</widget>>

<<widget "ldelinquency">>
	<<if $statdisable is "f">> |
		<span class="green">- Delinquency</span>
	<</if>>
<</widget>>

<<widget "lldelinquency">>
	<<if $statdisable is "f">> |
		<span class="green">- - Delinquency</span>
	<</if>>
<</widget>>

<<widget "llldelinquency">>
	<<if $statdisable is "f">> |
		<span class="green">- - - Delinquency</span>
	<</if>>
<</widget>>

<<widget "gcool">>
	<<if $statdisable is "f">> |
		<span class="green">+ Status</span>
	<</if>>
<</widget>>

<<widget "ggcool">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Status</span>
	<</if>>
<</widget>>

<<widget "gggcool">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Status</span>
	<</if>>
<</widget>>

<<widget "lcool">>
	<<if $statdisable is "f">> |
		<span class="red">- Status</span>
	<</if>>
<</widget>>

<<widget "llcool">>
	<<if $statdisable is "f">> |
		<span class="red">- - Status</span>
	<</if>>
<</widget>>

<<widget "lllcool">>
	<<if $statdisable is "f">> |
		<span class="red">- - - Status</span>
	<</if>>
<</widget>>

<<widget "gsaltiness">>
	<<if $statdisable is "f">> |
		<span class="green">+ Saltiness</span>
	<</if>>
<</widget>>

<<widget "ggsaltiness">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Saltiness</span>
	<</if>>
<</widget>>

<<widget "gggsaltiness">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Saltiness</span>
	<</if>>
<</widget>>

<<widget "lsaltiness">>
	<<if $statdisable is "f">> |
		<span class="red">- Saltiness</span>
	<</if>>
<</widget>>

<<widget "llsaltiness">>
	<<if $statdisable is "f">> |
		<span class="red">- - Saltiness</span>
	<</if>>
<</widget>>

<<widget "lllsaltiness">>
	<<if $statdisable is "f">> |
		<span class="red">- - - Saltiness</span>
	<</if>>
<</widget>>

<<widget "gchaos">>
	<<if $statdisable is "f">> |
		<span class="green">+ Chaos</span>
	<</if>>
<</widget>>

<<widget "ggchaos">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Chaos</span>
	<</if>>
<</widget>>

<<widget "gggchaos">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Chaos</span>
	<</if>>
<</widget>>

<<widget "lchaos">>
	<<if $statdisable is "f">> |
		<span class="red">- Chaos</span>
	<</if>>
<</widget>>

<<widget "llchaos">>
	<<if $statdisable is "f">> |
		<span class="red">- - Chaos</span>
	<</if>>
<</widget>>

<<widget "lllchaos">>
	<<if $statdisable is "f">> |
		<span class="red">- - - Chaos</span>
	<</if>>
<</widget>>

<<widget "gtrust">>
	<<if $statdisable is "f">> |
		<span class="green">+ Trust</span>
	<</if>>
<</widget>>

<<widget "ggtrust">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Trust</span>
	<</if>>
<</widget>>

<<widget "gggtrust">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Trust</span>
	<</if>>
<</widget>>

<<widget "ltrust">>
	<<if $statdisable is "f">> |
		<span class="red">- Trust</span>
	<</if>>
<</widget>>

<<widget "lltrust">>
	<<if $statdisable is "f">> |
		<span class="red">- - Trust</span>
	<</if>>
<</widget>>

<<widget "llltrust">>
	<<if $statdisable is "f">> |
		<span class="red">- - - Trust</span>
	<</if>>
<</widget>>

<<widget "glove">>
	<<if $statdisable is "f">> |
		<<if _args[0]>>
			<span class="green">+ _args[0]'s Love</span>
		<<else>>
			<span class="green">+ Love</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "gglove">>
	<<if $statdisable is "f">> |
		<<if _args[0]>>
			<span class="green">+ + _args[0]'s Love</span>
		<<else>>
			<span class="green">+ + Love</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "ggglove">>
	<<if $statdisable is "f">> |
		<<if _args[0]>>
			<span class="green">+ + + _args[0]'s Love</span>
		<<else>>
			<span class="green">+ + + Love</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "llove">>
	<<if $statdisable is "f">> |
		<<if _args[0]>>
			<span class="red">- _args[0]'s Love</span>
		<<else>>
			<span class="red">- Love</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "lllove">>
	<<if $statdisable is "f">> |
		<<if _args[0]>>
			<span class="red">- - _args[0]'s Love</span>
		<<else>>
			<span class="red">- - Love</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "llllove">>
	<<if $statdisable is "f">> |
		<<if _args[0]>>
			<span class="red">- - - _args[0]'s Love</span>
		<<else>>
			<span class="red">- - - Love</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "glust">>
	<<if $statdisable is "f">> |
		<<if _args[0]>>
			<span class="lewd">+ _args[0]'s Lust</span>
		<<else>>
			<span class="lewd">+ Lust</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "gglust">>
	<<if $statdisable is "f">> |
		<<if _args[0]>>
			<span class="lewd">+ + _args[0]'s Lust</span>
		<<else>>
			<span class="lewd">+ + Lust</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "ggglust">>
	<<if $statdisable is "f">> |
		<<if _args[0]>>
			<span class="lewd">+ + + _args[0]'s Lust</span>
		<<else>>
			<span class="lewd">+ + + Lust</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "llust">>
	<<if $statdisable is "f">> |
		<<if _args[0]>>
			<span class="teal">- _args[0]'s Lust</span>
		<<else>>
			<span class="teal">- Lust</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "lllust">>
	<<if $statdisable is "f">> |
		<<if _args[0]>>
			<span class="teal">- - _args[0]'s Lust</span>
		<<else>>
			<span class="teal">- - Lust</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "llllust">>
	<<if $statdisable is "f">> |
		<<if _args[0]>>
			<span class="teal">- - - _args[0]'s Lust</span>
		<<else>>
			<span class="teal">- - - Lust</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "gdom">>
	<<if $statdisable is "f">> |
		<<if ($npc.includes("Robin") and _args[0] is undefined) or _args[0] is "Robin">>
			<span class="purple">+ Robin's Confidence</span>
		<<elseif _args[0] isnot undefined>>
			<span class="purple">+ _args[0]'s Dominance</span>
		<<elseif $npc.length isnot 0>>
			<span class="purple">+ $npc[0]'s Dominance</span>
		<<else>>
			<span class="purple">+ NPC Dominance</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "ggdom">>
	<<if $statdisable is "f">> |
		<<if ($npc.includes("Robin") and _args[0] is undefined) or _args[0] is "Robin">>
			<span class="purple">+ + Robin's Confidence</span>
		<<elseif _args[0] isnot undefined>>
			<span class="purple">+ + _args[0]'s Dominance</span>
		<<elseif $npc.length isnot 0>>
			<span class="purple">+ + $npc[0]'s Dominance</span>
		<<else>>
			<span class="purple">+ + NPC Dominance</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "gggdom">>
	<<if $statdisable is "f">> |
		<<if ($npc.includes("Robin") and _args[0] is undefined) or _args[0] is "Robin">>
			<span class="purple">+ + + Robin's Confidence</span>
		<<elseif _args[0] isnot undefined>>
			<span class="purple">+ + + _args[0]'s Dominance</span>
		<<elseif $npc.length isnot 0>>
			<span class="purple">+ + + $npc[0]'s Dominance</span>
		<<else>>
			<span class="purple">+ + + NPC Dominance</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "ldom">>
	<<if $statdisable is "f">> |
		<<if ($npc.includes("Robin") and _args[0] is undefined) or _args[0] is "Robin">>
			<span class="lblue">- Robin's Confidence</span>
		<<elseif _args[0] isnot undefined>>
			<span class="lblue">- _args[0]'s Dominance</span>
		<<elseif $npc.length isnot 0>>
			<span class="lblue">- $npc[0]'s Dominance</span>
		<<else>>
			<span class="lblue">- NPC Dominance</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "lldom">>
	<<if $statdisable is "f">> |
		<<if ($npc.includes("Robin") and _args[0] is undefined) or _args[0] is "Robin">>
			<span class="lblue">- - Robin's Confidence</span>
		<<elseif _args[0] isnot undefined>>
			<span class="lblue">- - _args[0]'s Dominance</span>
		<<elseif $npc.length isnot 0>>
			<span class="lblue">- - $npc[0]'s Dominance</span>
		<<else>>
			<span class="lblue">- - NPC Dominance</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "llldom">>
	<<if $statdisable is "f">> |
		<<if ($npc.includes("Robin") and _args[0] is undefined) or _args[0] is "Robin">>
			<span class="lblue">- - - Robin's Confidence</span>
		<<elseif _args[0] isnot undefined>>
			<span class="lblue">- - - _args[0]'s Dominance</span>
		<<elseif $npc.length isnot 0>>
			<span class="lblue">- - - $npc[0]'s Dominance</span>
		<<else>>
			<span class="lblue">- - - NPC Dominance</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "grespect">>
	<<if $statdisable is "f">> |
		<span class="green">+ Respect</span>
	<</if>>
<</widget>>

<<widget "ggrespect">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Respect</span>
	<</if>>
<</widget>>

<<widget "gggrespect">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Respect</span>
	<</if>>
<</widget>>

<<widget "lrespect">>
	<<if $statdisable is "f">> |
		<span class="red">- Respect</span>
	<</if>>
<</widget>>

<<widget "llrespect">>
	<<if $statdisable is "f">> |
		<span class="red">- - Respect</span>
	<</if>>
<</widget>>

<<widget "lllrespect">>
	<<if $statdisable is "f">> |
		<span class="red">- - - Respect</span>
	<</if>>
<</widget>>

<<widget "gadeviancy">>
	<<if $statdisable is "f">> |
		<span class="red">+ Alex's Deviancy</span>
	<</if>>
<</widget>>

<<widget "ggadeviancy">>
	<<if $statdisable is "f">> |
		<span class="red">+ + Alex's Deviancy</span>
	<</if>>
<</widget>>

<<widget "gggadeviancy">>
	<<if $statdisable is "f">> |
		<span class="red">+ + + Alex's Deviancy</span>
	<</if>>
<</widget>>

<<widget "ladeviancy">>
	<<if $statdisable is "f">> |
		<span class="green">- Alex's Deviancy</span>
	<</if>>
<</widget>>

<<widget "lladeviancy">>
	<<if $statdisable is "f">> |
		<span class="green">- - Alex's Deviancy</span>
	<</if>>
<</widget>>

<<widget "llladeviancy">>
	<<if $statdisable is "f">> |
		<span class="green">- - - Alex's Deviancy</span>
	<</if>>
<</widget>>

<<widget "gaggro">>
	<<if $statdisable is "f">> |
		<span class="red">+ Remy's Encroachment</span>
	<</if>>
<</widget>>

<<widget "ggaggro">>
	<<if $statdisable is "f">> |
		<span class="red">+ + Remy's Encroachment</span>
	<</if>>
<</widget>>

<<widget "gggaggro">>
	<<if $statdisable is "f">> |
		<span class="red">+ + + Remy's Encroachment</span>
	<</if>>
<</widget>>

<<widget "laggro">>
	<<if $statdisable is "f">> |
		<span class="green">- Remy's Encroachment</span>
	<</if>>
<</widget>>

<<widget "llaggro">>
	<<if $statdisable is "f">> |
		<span class="green">- - Remy's Encroachment</span>
	<</if>>
<</widget>>

<<widget "lllaggro">>
	<<if $statdisable is "f">> |
		<span class="green">- - - Remy's Encroachment</span>
	<</if>>
<</widget>>

<<widget "gksuspicion">>
	<<if $statdisable is "f">> |
		<span class="red">+ Jealousy</span>
	<</if>>
<</widget>>

<<widget "ggksuspicion">>
	<<if $statdisable is "f">> |
		<span class="red">+ + Jealousy</span>
	<</if>>
<</widget>>

<<widget "gggksuspicion">>
	<<if $statdisable is "f">> |
		<span class="red">+ + + Jealousy</span>
	<</if>>
<</widget>>

<<widget "lksuspicion">>
	<<if $statdisable is "f">> |
		<span class="green">- Jealousy</span>
	<</if>>
<</widget>>

<<widget "llksuspicion">>
	<<if $statdisable is "f">> |
		<span class="green">- - Jealousy</span>
	<</if>>
<</widget>>

<<widget "lllksuspicion">>
	<<if $statdisable is "f">> |
		<span class="green">- - - Jealousy</span>
	<</if>>
<</widget>>

<<widget "gsuspicion">>
	<<if $statdisable is "f">> |
		<span class="red">+ Suspicion</span>
	<</if>>
<</widget>>

<<widget "ggsuspicion">>
	<<if $statdisable is "f">> |
		<span class="red">+ + Suspicion</span>
	<</if>>
<</widget>>

<<widget "gggsuspicion">>
	<<if $statdisable is "f">> |
		<span class="red">+ + + Suspicion</span>
	<</if>>
<</widget>>

<<widget "lsuspicion">>
	<<if $statdisable is "f">> |
		<span class="green">- Suspicion</span>
	<</if>>
<</widget>>

<<widget "llsuspicion">>
	<<if $statdisable is "f">> |
		<span class="green">- - Suspicion</span>
	<</if>>
<</widget>>

<<widget "lllsuspicion">>
	<<if $statdisable is "f">> |
		<span class="green">- - - Suspicion</span>
	<</if>>
<</widget>>

<<widget "garage">>
	<<if $averyragerevealed is 1 and $statdisable is "f">> |
		<span class="red">+ Rage</span>
	<</if>>
<</widget>>

<<widget "ggarage">>
	<<if $averyragerevealed is 1 and $statdisable is "f">> |
		<span class="red">+ + Rage</span>
	<</if>>
<</widget>>

<<widget "gggarage">>
	<<if $averyragerevealed is 1 and $statdisable is "f">> |
		<span class="red">+ + + Rage</span>
	<</if>>
<</widget>>

<<widget "larage">>
	<<if $averyragerevealed is 1 and $statdisable is "f">> |
		<span class="green">- Rage</span>
	<</if>>
<</widget>>

<<widget "llarage">>
	<<if $averyragerevealed is 1 and $statdisable is "f">> |
		<span class="green">- - Rage</span>
	<</if>>
<</widget>>

<<widget "lllarage">>
	<<if $averyragerevealed is 1 and $statdisable is "f">> |
		<span class="green">- - - Rage</span>
	<</if>>
<</widget>>

<<widget "gendear">>
	<<if $statdisable is "f">> |
		<span class="teal">+ Endearment</span>
	<</if>>
<</widget>>

<<widget "ggendear">>
	<<if $statdisable is "f">> |
		<span class="teal">+ + Endearment</span>
	<</if>>
<</widget>>

<<widget "gggendear">>
	<<if $statdisable is "f">> |
		<span class="teal">+ + + Endearment</span>
	<</if>>
<</widget>>

<<widget "lendear">>
	<<if $statdisable is "f">> |
		<span class="pink">- Endearment</span>
	<</if>>
<</widget>>

<<widget "llendear">>
	<<if $statdisable is "f">> |
		<span class="pink">- - Endearment</span>
	<</if>>
<</widget>>

<<widget "lllendear">>
	<<if $statdisable is "f">> |
		<span class="pink">- - - Endearment</span>
	<</if>>
<</widget>>

<<widget "ghope">>
	<<if $statdisable is "f">> |
		<span class="teal">+ Hope</span>
	<</if>>
<</widget>>

<<widget "gghope">>
	<<if $statdisable is "f">> |
		<span class="teal">+ + Hope</span>
	<</if>>
<</widget>>

<<widget "ggghope">>
	<<if $statdisable is "f">> |
		<span class="teal">+ + + Hope</span>
	<</if>>
<</widget>>

<<widget "lhope">>
	<<if $statdisable is "f">> |
		<span class="pink">- Hope</span>
	<</if>>
<</widget>>

<<widget "llhope">>
	<<if $statdisable is "f">> |
		<span class="pink">- - Hope</span>
	<</if>>
<</widget>>

<<widget "lllhope">>
	<<if $statdisable is "f">> |
		<span class="pink">- - - Hope</span>
	<</if>>
<</widget>>

<<widget "greb">>
	<<if $statdisable is "f">> |
		<span class="def">+ Rebelliousness</span>
	<</if>>
<</widget>>

<<widget "ggreb">>
	<<if $statdisable is "f">> |
		<span class="def">+ + Rebelliousness</span>
	<</if>>
<</widget>>

<<widget "gggreb">>
	<<if $statdisable is "f">> |
		<span class="def">+ + + Rebelliousness</span>
	<</if>>
<</widget>>

<<widget "lreb">>
	<<if $statdisable is "f">> |
		<span class="blue">- Rebelliousness</span>
	<</if>>
<</widget>>

<<widget "llreb">>
	<<if $statdisable is "f">> |
		<span class="blue">- - Rebelliousness</span>
	<</if>>
<</widget>>

<<widget "lllreb">>
	<<if $statdisable is "f">> |
		<span class="blue">- - - Rebelliousness</span>
	<</if>>
<</widget>>

<<widget "ghandskill">>
	<<if $statdisable is "f">> |
		<span class="green">+ Hand skill</span>
	<</if>>
<</widget>>

<<widget "goralskill">>
	<<if $statdisable is "f">> |
		<span class="green">+ Oral skill</span>
	<</if>>
<</widget>>

<<widget "gthighskill">>
	<<if $statdisable is "f">> |
		<span class="green">+ Thigh skill</span>
	<</if>>
<</widget>>

<<widget "gbottomskill">>
	<<if $statdisable is "f">> |
		<span class="green">+ Ass skill</span>
	<</if>>
<</widget>>

<<widget "gvaginalskill">>
	<<if $statdisable is "f">> |
		<span class="green">+ Vaginal skill</span>
	<</if>>
<</widget>>

<<widget "gpenileskill">>
	<<if $statdisable is "f">> |
		<span class="green">+ Penile skill</span>
	<</if>>
<</widget>>

<<widget "ganalskill">>
	<<if $statdisable is "f">> |
		<span class="green">+ Anal skill</span>
	<</if>>
<</widget>>

<<widget "gfeetskill">>
	<<if $statdisable is "f">> |
		<span class="green">+ Feet skill</span>
	<</if>>
<</widget>>

<<widget "gchestskill">>
	<<if $statdisable is "f">> |
		<span class="green">+ Chest skill</span>
	<</if>>
<</widget>>

<<widget "gstockholm">>
	<<if $statdisable is "f">> |
		<span class="blue">+ Stockholm Syndrome</span>
	<</if>>
<</widget>>

<<widget "ggstockholm">>
	<<if $statdisable is "f">> |
		<span class="blue">+ + Stockholm Syndrome</span>
	<</if>>
<</widget>>

<<widget "gggstockholm">>
	<<if $statdisable is "f">> |
		<span class="blue">+ + + Stockholm Syndrome</span>
	<</if>>
<</widget>>

<<widget "lstockholm">>
	<<if $statdisable is "f">> |
		<span class="lblue">- Stockholm Syndrome</span>
	<</if>>
<</widget>>

<<widget "llstockholm">>
	<<if $statdisable is "f">> |
		<span class="lblue">- - Stockholm Syndrome</span>
	<</if>>
<</widget>>

<<widget "lllstockholm">>
	<<if $statdisable is "f">> |
		<span class="lblue">- - - Stockholm Syndrome</span>
	<</if>>
<</widget>>

<<widget "gshame">>
	<<if $statdisable is "f">> |
		<span class="red">+ Shame</span>
	<</if>>
<</widget>>

<<widget "ggshame">>
	<<if $statdisable is "f">> |
		<span class="red">+ + Shame</span>
	<</if>>
<</widget>>

<<widget "gggshame">>
	<<if $statdisable is "f">> |
		<span class="red">+ + + Shame</span>
	<</if>>
<</widget>>

<<widget "lshame">>
	<<if $statdisable is "f">> |
		<span class="green">- Shame</span>
	<</if>>
<</widget>>

<<widget "llshame">>
	<<if $statdisable is "f">> |
		<span class="green">- - Shame</span>
	<</if>>
<</widget>>

<<widget "lllshame">>
	<<if $statdisable is "f">> |
		<span class="green">- - - Shame</span>
	<</if>>
<</widget>>

<<widget "gfarm">>
	<<if $statdisable is "f">> |
		<span class="green">+ Farm yield</span>
	<</if>>
<</widget>>

<<widget "ggfarm">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Farm yield</span>
	<</if>>
<</widget>>

<<widget "gggfarm">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Farm yield</span>
	<</if>>
<</widget>>

<<widget "lfarm">>
	<<if $statdisable is "f">> |
		<span class="red">- Farm yield</span>
	<</if>>
<</widget>>

<<widget "llfarm">>
	<<if $statdisable is "f">> |
		<span class="red">- - Farm yield</span>
	<</if>>
<</widget>>

<<widget "lllfarm">>
	<<if $statdisable is "f">> |
		<span class="red">- - - Farm yield</span>
	<</if>>
<</widget>>

<<widget "gnet">>
	<<if $statdisable is "f">> |
		<span class="green">+ Net proficiency</span>
	<</if>>
<</widget>>

<<widget "gbaton">>
	<<if $statdisable is "f">> |
		<span class="green">+ Baton proficiency</span>
	<</if>>
<</widget>>

<<widget "ggbaton">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Baton proficiency</span>
	<</if>>
<</widget>>

<<widget "gggbaton">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Baton proficiency</span>
	<</if>>
<</widget>>

<<widget "gwhip">>
	<<if $statdisable is "f">> |
		<span class="green">+ Whip proficiency</span>
	<</if>>
<</widget>>

<<widget "ggwhip">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Whip proficiency</span>
	<</if>>
<</widget>>

<<widget "gggwhip">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Whip proficiency</span>
	<</if>>
<</widget>>

<<widget "gsecurity">>
	<<if $statdisable is "f">> |
		<span class="red">+ Security</span>
	<</if>>
<</widget>>

<<widget "ggsecurity">>
	<<if $statdisable is "f">> |
		<span class="red">+ + Security</span>
	<</if>>
<</widget>>

<<widget "gggsecurity">>
	<<if $statdisable is "f">> |
		<span class="red">+ + + Security</span>
	<</if>>
<</widget>>

<<widget "lsecurity">>
	<<if $statdisable is "f">> |
		<span class="green">- Security</span>
	<</if>>
<</widget>>

<<widget "llsecurity">>
	<<if $statdisable is "f">> |
		<span class="green">- - Security</span>
	<</if>>
<</widget>>

<<widget "lllsecurity">>
	<<if $statdisable is "f">> |
		<span class="green">- - - Security</span>
	<</if>>
<</widget>>

<<widget "gimpatience">>
	<<if $statdisable is "f">> |
		<span class="red">+ Impatience</span>
	<</if>>
<</widget>>

<<widget "ggimpatience">>
	<<if $statdisable is "f">> |
		<span class="red">+ + Impatience</span>
	<</if>>
<</widget>>

<<widget "gggimpatience">>
	<<if $statdisable is "f">> |
		<span class="red">+ + + Impatience</span>
	<</if>>
<</widget>>

<<widget "limpatience">>
	<<if $statdisable is "f">> |
		<span class="red">- Impatience</span>
	<</if>>
<</widget>>

<<widget "llimpatience">>
	<<if $statdisable is "f">> |
		<span class="red">- - Impatience</span>
	<</if>>
<</widget>>

<<widget "lllimpatience">>
	<<if $statdisable is "f">> |
		<span class="red">- - - Impatience</span>
	<</if>>
<</widget>>

<<widget "ginterest">>
	<<if $statdisable is "f">> |
		<span class="green">+ Interest</span>
	<</if>>
<</widget>>

<<widget "gginterest">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Interest</span>
	<</if>>
<</widget>>

<<widget "ggginterest">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Interest</span>
	<</if>>
<</widget>>

<<widget "linterest">>
	<<if $statdisable is "f">> |
		<span class="red">- Interest</span>
	<</if>>
<</widget>>

<<widget "llinterest">>
	<<if $statdisable is "f">> |
		<span class="red">- - Interest</span>
	<</if>>
<</widget>>

<<widget "lllinterest">>
	<<if $statdisable is "f">> |
		<span class="red">- - - Interest</span>
	<</if>>
<</widget>>

<<widget "gdaring">>
	<<if $statdisable is "f">> |
		<span class="green">+ Daring</span>
	<</if>>
<</widget>>

<<widget "ggdaring">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Daring</span>
	<</if>>
<</widget>>

<<widget "gggdaring">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Daring</span>
	<</if>>
<</widget>>

<<widget "ldaring">>
	<<if $statdisable is "f">> |
		<span class="red">- Daring</span>
	<</if>>
<</widget>>

<<widget "lldaring">>
	<<if $statdisable is "f">> |
		<span class="red">- - Daring</span>
	<</if>>
<</widget>>

<<widget "llldaring">>
	<<if $statdisable is "f">> |
		<span class="red">- - - Daring</span>
	<</if>>
<</widget>>

<<widget "gknowledge">>
	<<if $statdisable is "f">> |
		<span class="green">+ Knowledge</span>
	<</if>>
<</widget>>

<<widget "gbodywriting">>
	<<if $statdisable is "f">> |
		<span class="purple">+ Bodywriting</span>
	<</if>>
<</widget>>

<<widget "ggbodywriting">>
	<<if $statdisable is "f">> |
		<span class="purple">+ + Bodywriting</span>
	<</if>>
<</widget>>

<<widget "gggbodywriting">>
	<<if $statdisable is "f">> |
		<span class="purple">+ + + Bodywriting</span>
	<</if>>
<</widget>>

<<widget "ghallucinogens">>
	<<if $statdisable is "f">> |
		<span class="lewd">+ Hallucinogens</span>
	<</if>>
<</widget>>

<<widget "gghallucinogens">>
	<<if $statdisable is "f">> |
		<span class="lewd">+ + Hallucinogens</span>
	<</if>>
<</widget>>

<<widget "ggghallucinogens">>
	<<if $statdisable is "f">> |
		<span class="lewd">+ + + Hallucinogens</span>
	<</if>>
<</widget>>

<<widget "flight_text">>
	<<if $statdisable is "f">> |
		/* 北极星模组 */
		<<if !$options.bjx_animal and ($harpy gte 6 and $birdFly gte 1) or $options.bjx_animal and ($transformationParts.bird.wings isnot "disabled" and $birdFly gte 1 or $transformationParts.dragon.wings isnot "disabled")>>
			<span class="gold">强健的翅膀</span>
		<<elseif !$options.bjx_animal and ($angel gte 6 or $demon gte 6 or $fallenangel gte 2 or $harpy gte 6) or $options.bjx_animal and ($transformationParts.angel.wings isnot "disabled" or $transformationParts.fallenAngel.wings isnot "disabled" or $transformationParts.demon.wings isnot "disabled" or $transformationParts.bee.wings isnot "disabled" or $transformationParts.bird.wings isnot "disabled")>>
			<span class="gold">翅膀</span>
		<</if>>
		/* 北极星 */
	<</if>>
<</widget>>

<<widget "ginsecurity">>
	<<if $statdisable is "f">>
		<<if _args[0] is "penis_tiny">>
			<<if $acceptance_penis_tiny lte 999>>
				| <span class="red">+ Insecurity</span>
			<</if>>
		<<elseif _args[0] is "penis_small">>
			<<if $acceptance_penis_small lte 999>>
				| <span class="red">+ Insecurity</span>
			<</if>>
		<<elseif _args[0] is "penis_big">>
			<<if $acceptance_penis_big lte 999>>
				| <span class="red">+ Insecurity</span>
			<</if>>
		<<elseif _args[0] is "breasts_tiny">>
			<<if $acceptance_breasts_tiny lte 999 and $player.gender is "f">>
				| <span class="red">+ Insecurity</span>
			<</if>>
		<<elseif _args[0] is "breasts_small">>
			<<if $acceptance_breasts_small lte 999>>
				| <span class="red">+ Insecurity</span>
			<</if>>
		<<elseif _args[0] is "breasts_big">>
			<<if $acceptance_breasts_big lte 999>>
				| <span class="red">+ Insecurity</span>
			<</if>>
		<<elseif _args[0] is "pregnancy">>
			<<if $acceptance_pregnancy lte 999>>
				| <span class="red">+ Insecurity</span>
			<</if>>
		<</if>>
	<</if>>
<</widget>>

<<widget "lgrace">>
	<<if $statdisable is "f" and $temple_rank isnot undefined and $temple_rank isnot "prospective">>
		<<if _args[0] is "monk">>
			<<if $temple_rank is "initiate">> |
				<span class="red">- Grace</span>
			<<else>>
			<</if>>
		<<elseif _args[0] is "priest">>
			<<if $temple_rank is "initiate" or $temple_rank is "monk">> |
				<span class="red">- Grace</span>
			<<else>>
			<</if>>
		<<elseif _args[0] is "bishop">>
			<<if $temple_rank is "initiate" or $temple_rank is "monk" or $temple_rank is "priest">> |
				<span class="red">- Grace</span>
			<<else>>
			<</if>>
		<<else>> |
			<span class="red">- Grace</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "llgrace">>
	<<if $statdisable is "f" and $temple_rank isnot undefined and $temple_rank isnot "prospective">>
		<<if _args[0] is "monk">>
			<<if $temple_rank is "initiate">> |
				<span class="red">- - Grace</span>
			<<else>>
			<</if>>
		<<elseif _args[0] is "priest">>
			<<if $temple_rank is "initiate" or $temple_rank is "monk">> |
				<span class="red">- - Grace</span>
			<<else>>
			<</if>>
		<<elseif _args[0] is "bishop">>
			<<if $temple_rank is "initiate" or $temple_rank is "monk" or $temple_rank is "priest">> |
				<span class="red">- - Grace</span>
			<<else>>
			<</if>>
		<<else>> |
			<span class="red">- - Grace</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "lllgrace">>
	<<if $statdisable is "f" and $temple_rank isnot undefined and $temple_rank isnot "prospective">>
		<<if _args[0] is "monk">>
			<<if $temple_rank is "initiate">> |
				<span class="red">- - - Grace</span>
			<<else>>
			<</if>>
		<<elseif _args[0] is "priest">>
			<<if $temple_rank is "initiate" or $temple_rank is "monk">> |
				<span class="red">- - - Grace</span>
			<<else>>
			<</if>>
		<<elseif _args[0] is "bishop">>
			<<if $temple_rank is "initiate" or $temple_rank is "monk" or $temple_rank is "priest">> |
				<span class="red">- - - Grace</span>
			<<else>>
			<</if>>
		<<else>> |
			<span class="red">- - - Grace</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "ggrace">>
	<<if $statdisable is "f">>
		<<if _args[0] is "monk">>
			<<if $temple_rank is "initiate">> |
				<span class="green">+ Grace</span>
			<<else>>
			<</if>>
		<<elseif _args[0] is "priest">>
			<<if $temple_rank is "initiate" or $temple_rank is "monk">> |
				<span class="green">+ Grace</span>
			<<else>>
			<</if>>
		<<elseif _args[0] is "bishop">>
			<<if $temple_rank is "initiate" or $temple_rank is "monk" or $temple_rank is "priest">> |
				<span class="green">+ Grace</span>
			<<else>>
			<</if>>
		<<else>> |
			<span class="green">+ Grace</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "gggrace">>
	<<if $statdisable is "f">>
		<<if _args[0] is "monk">>
			<<if $temple_rank is "initiate">> |
				<span class="green">+ + Grace</span>
			<<else>>
			<</if>>
		<<elseif _args[0] is "priest">>
			<<if $temple_rank is "initiate" or $temple_rank is "monk">> |
				<span class="green">+ + Grace</span>
			<<else>>
			<</if>>
		<<elseif _args[0] is "bishop">>
			<<if $temple_rank is "initiate" or $temple_rank is "monk" or $temple_rank is "priest">> |
				<span class="green">+ + Grace</span>
			<<else>>
			<</if>>
		<<else>> |
			<span class="green">+ + Grace</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "ggggrace">>
	<<if $statdisable is "f">>
		<<if _args[0] is "monk">>
			<<if $temple_rank is "initiate">> |
				<span class="green">+ + + Grace</span>
			<<else>>
			<</if>>
		<<elseif _args[0] is "priest">>
			<<if $temple_rank is "initiate" or $temple_rank is "monk">> |
				<span class="green">+ + + Grace</span>
			<<else>>
			<</if>>
		<<elseif _args[0] is "bishop">>
			<<if $temple_rank is "initiate" or $temple_rank is "monk" or $temple_rank is "priest">> |
				<span class="green">+ + + Grace</span>
			<<else>>
			<</if>>
		<<else>> |
			<span class="green">+ + + Grace</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "lobey">>
	<<if $statdisable is "f">> |
		<span class="red">- Obedience</span>
	<</if>>
<</widget>>

<<widget "llobey">>
	<<if $statdisable is "f">> |
		<span class="red">- - Obedience</span>
	<</if>>
<</widget>>

<<widget "lllobey">>
	<<if $statdisable is "f">> |
		<span class="red">- - - Obedience</span>
	<</if>>
<</widget>>

<<widget "gobey">>
	<<if $statdisable is "f">> |
		<span class="pink">+ Obedience</span>
	<</if>>
<</widget>>

<<widget "ggobey">>
	<<if $statdisable is "f">> |
		<span class="pink">+ + Obedience</span>
	<</if>>
<</widget>>

<<widget "gggobey">>
	<<if $statdisable is "f">> |
		<span class="pink">+ + + Obedience</span>
	<</if>>
<</widget>>

<<widget "lhunger">>
	<<if $statdisable is "f">> |
		<span class="green">- Hunger</span>
	<</if>>
<</widget>>

<<widget "llhunger">>
	<<if $statdisable is "f">> |
		<span class="green">- - Hunger</span>
	<</if>>
<</widget>>

<<widget "lllhunger">>
	<<if $statdisable is "f">> |
		<span class="green">- - - Hunger</span>
	<</if>>
<</widget>>

<<widget "ghunger">>
	<<if $statdisable is "f">> |
		<span class="red">+ Hunger</span>
	<</if>>
<</widget>>

<<widget "gghunger">>
	<<if $statdisable is "f">> |
		<span class="red">+ + Hunger</span>
	<</if>>
<</widget>>

<<widget "ggghunger">>
	<<if $statdisable is "f">> |
		<span class="red">+ + + Hunger</span>
	<</if>>
<</widget>>

<<widget "gacceptance">>
	<<if $statdisable is "f">> |
		<span class="green">+ Acceptance</span>
	<</if>>
<</widget>>

<<widget "gwillpower">>
	<<if $statdisable is "f">> |
		<span class="green">+ Willpower</span>
	<</if>>
<</widget>>

<<widget "ggwillpower">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Willpower</span>
	<</if>>
<</widget>>

<<widget "gggwillpower">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Willpower</span>
	<</if>>
<</widget>>

<<widget "gphysique">>
	<<if $statdisable is "f">> |
		<span class="green">+ Physique</span>
	<</if>>
<</widget>>

<<widget "ggphysique">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Physique</span>
	<</if>>
<</widget>>

<<widget "gggphysique">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Physique</span>
	<</if>>
<</widget>>

<<widget "lphysique">>
	<<if $statdisable is "f">> |
		<span class="red">- Physique</span>
	<</if>>
<</widget>>

<<widget "llphysique">>
	<<if $statdisable is "f">> |
		<span class="red">- - Physique</span>
	<</if>>
<</widget>>

<<widget "lllphysique">>
	<<if $statdisable is "f">> |
		<span class="red">- - - Physique</span>
	<</if>>
<</widget>>

<!-- Awareness -->

<<widget "combataware">>
	<<if $statdisable is "f">>
		<<set _color to ["","teal","lblue","blue","purple","pink"][_args[0]]>>
		<span @class="_color">Awareness _args[0]</span>
	<</if>>
<</widget>>

<!-- Exhibitionism -->

<<widget "exhibitionist">>
	<<if $statdisable is "f">> |
		<<set _color to ["","teal","lblue","blue","purple","pink","red"][_args[0]]>>
		<span @class="_color">Exhibitionism _args[0]</span>
	<</if>>
<</widget>>

<<widget "exhibitionist1">>
	<<if $statdisable is "f">> |
		<span class="teal">Exhibitionism 1</span>
	<</if>>
<</widget>>

<<widget "exhibitionist2">>
	<<if $statdisable is "f">> |
		<span class="lblue">Exhibitionism 2</span>
	<</if>>
<</widget>>

<<widget "exhibitionist3">>
	<<if $statdisable is "f">> |
		<span class="blue">Exhibitionism 3</span>
	<</if>>
<</widget>>

<<widget "exhibitionist4">>
	<<if $statdisable is "f">> |
		<span class="purple">Exhibitionism 4</span>
	<</if>>
<</widget>>

<<widget "exhibitionist5">>
	<<if $statdisable is "f">> |
		<span class="pink">Exhibitionism 5</span>
	<</if>>
<</widget>>

<<widget "exhibitionist6">>
	<<if $statdisable is "f">> |
		<span class="red">!Exhibitionism 6!</span>
	<</if>>
<</widget>>

<<widget "combatexhibitionist">>
	<<if $statdisable is "f">>
		<<set _color to ["","teal","lblue","blue","purple","pink","red"][_args[0]]>>
		<span @class="_color">Exhibitionism _args[0]</span>
	<</if>>
<</widget>>

<<widget "combatexhibitionist1">>
	<<if $statdisable is "f">>
		<span class="teal">Exhibitionism 1</span>
	<</if>>
<</widget>>

<<widget "combatexhibitionist2">>
	<<if $statdisable is "f">>
		<span class="lblue">Exhibitionism 2</span>
	<</if>>
<</widget>>

<<widget "combatexhibitionist3">>
	<<if $statdisable is "f">>
		<span class="blue">Exhibitionism 3</span>
	<</if>>
<</widget>>

<<widget "combatexhibitionist4">>
	<<if $statdisable is "f">>
		<span class="purple">Exhibitionism 4</span>
	<</if>>
<</widget>>

<<widget "combatexhibitionist5">>
	<<if $statdisable is "f">>
		<span class="pink">Exhibitionism 5</span>
	<</if>>
<</widget>>

<<widget "combatexhibitionist6">>
	<<if $statdisable is "f">>
		<span class="red">!Exhibitionism 6!</span>
	<</if>>
<</widget>>

<!-- Promiscuity -->

<<widget "promiscuous">>
	<<if $statdisable is "f">> |
		<<set _color to ["","teal","lblue","blue","purple","pink","red"][_args[0]]>>
		<span @class="_color">Promiscuity _args[0]</span>
	<</if>>
<</widget>>

<<widget "promiscuous1">>
	<<if $statdisable is "f">> |
		<span class="teal">Promiscuity 1</span>
	<</if>>
<</widget>>

<<widget "promiscuous2">>
	<<if $statdisable is "f">> |
		<span class="lblue">Promiscuity 2</span>
	<</if>>
<</widget>>

<<widget "promiscuous3">>
	<<if $statdisable is "f">> |
		<span class="blue">Promiscuity 3</span>
	<</if>>
<</widget>>

<<widget "promiscuous4">>
	<<if $statdisable is "f">> |
		<span class="purple">Promiscuity 4</span>
	<</if>>
<</widget>>

<<widget "promiscuous5">>
	<<if $statdisable is "f">> |
		<span class="pink">Promiscuity 5</span>
	<</if>>
<</widget>>

<<widget "promiscuous6">>
	<<if $statdisable is "f">> |
		<span class="red">!Promiscuity 6!</span>
	<</if>>
<</widget>>

<<widget "combatpromiscuous">>
	<<if $consensual is 1 and !$promiscuityIgnore and $statdisable is "f">>
		<<set _color to ["","teal","lblue","blue","purple","pink","red"][_args[0]]>>
		<span @class="_color"><<print ($enemytype is "man" ? "- Promiscuity" : "- Deviancy")>> _args[0]</span>
	<</if>>
<</widget>>

<<widget "combatpromiscuous1">>
	<<if $consensual is 1 and !$promiscuityIgnore and $statdisable is "f">>
		<span class="teal"><<print ($enemytype is "man" ? "- Promiscuity" : "- Deviancy")>> 1</span>
	<</if>>
<</widget>>

<<widget "combatpromiscuous2">>
	<<if $consensual is 1 and !$promiscuityIgnore and $statdisable is "f">>
		<span class="lblue"><<print ($enemytype is "man" ? "- Promiscuity" : "- Deviancy")>> 2</span>
	<</if>>
<</widget>>

<<widget "combatpromiscuous3">>
	<<if $consensual is 1 and !$promiscuityIgnore and $statdisable is "f">>
		<span class="blue"><<print ($enemytype is "man" ? "- Promiscuity" : "- Deviancy")>> 3</span>
	<</if>>
<</widget>>

<<widget "combatpromiscuous4">>
	<<if $consensual is 1 and !$promiscuityIgnore and $statdisable is "f">>
		<span class="purple"><<print ($enemytype is "man" ? "- Promiscuity" : "- Deviancy")>> 4</span>
	<</if>>
<</widget>>

<<widget "combatpromiscuous5">>
	<<if $consensual is 1 and !$promiscuityIgnore and $statdisable is "f">>
		<span class="pink"><<print ($enemytype is "man" ? "- Promiscuity" : "- Deviancy")>> 5</span>
	<</if>>
<</widget>>

<<widget "combatpromiscuous6">>
	<<if !$promiscuityIgnore and $statdisable is "f">>
		<span class="red">!<<print ($enemytype is "man" ? "Promiscuity" : "Deviancy")>> 6!</span>
	<</if>>
<</widget>>

<!-- Deviancy -->

<<widget "deviant">> |
	<<if $statdisable is "f">> |
		<<set _color to ["","teal","lblue","blue","purple","pink","red"][_args[0]]>>
		<span @class="_color">Deviancy _args[0]</span>
	<</if>>
<</widget>>

<<widget "deviant1">>
	<<if $statdisable is "f">> |
		<span class="teal">Deviancy 1</span>
	<</if>>
<</widget>>

<<widget "deviant2">>
	<<if $statdisable is "f">> |
		<span class="lblue">Deviancy 2</span>
	<</if>>
<</widget>>

<<widget "deviant3">>
	<<if $statdisable is "f">> |
		<span class="blue">Deviancy 3</span>
	<</if>>
<</widget>>

<<widget "deviant4">>
	<<if $statdisable is "f">> |
		<span class="purple">Deviancy 4</span>
	<</if>>
<</widget>>

<<widget "deviant5">>
	<<if $statdisable is "f">> |
		<span class="pink">Deviancy 5</span>
	<</if>>
<</widget>>

<<widget "deviant6">>
	<<if $statdisable is "f">> |
		<span class="red">!Deviancy 6!</span>
	<</if>>
<</widget>>

<<widget "combatdeviant">>
	<<if $consensual is 1 and $statdisable is "f">>
		<<set _color to ["","teal","lblue","blue","purple","pink","red"][_args[0]]>>
		<span @class="_color">Deviancy _args[0]</span>
	<</if>>
<</widget>>

<<widget "combatdeviant1">>
	<<if $consensual is 1 and $statdisable is "f">>
		<span class="teal">Deviancy 1</span>
	<</if>>
<</widget>>

<<widget "combatdeviant2">>
	<<if $consensual is 1 and $statdisable is "f">>
		<span class="lblue">Deviancy 2</span>
	<</if>>
<</widget>>

<<widget "combatdeviant3">>
	<<if $consensual is 1 and $statdisable is "f">>
		<span class="blue">Deviancy 3</span>
	<</if>>
<</widget>>

<<widget "combatdeviant4">>
	<<if $consensual is 1 and $statdisable is "f">>
		<span class="purple">Deviancy 4</span>
	<</if>>
<</widget>>

<<widget "combatdeviant5">>
	<<if $consensual is 1 and $statdisable is "f">>
		<span class="pink">Deviancy 5</span>
	<</if>>
<</widget>>

<<widget "combatdeviant6">>
	<<if $consensual is 1 and $statdisable is "f">>
		<span class="red">!Deviancy 6!</span>
	<</if>>
<</widget>>

<!-- Commented out for deprecation. Use: ?admires
			See 03-JavaScript/Templates/..
<<widget "admires">>
	<<print either("leers at", "admires", "ogles", "eyes up")>>
<</widget>>
-->

<<widget "crime">>
	<<if $statdisable is "f">> |
		<span class="red">Crime</span>
		<<if _args[0]>>
			<<crimeType _args[0]>>
		<</if>>
	<</if>>
<</widget>>

<<widget "crimes">>
	<<if $statdisable is "f">> |
		<span class="red">Crime</span>
		<<if _args[0]>>
			<<set $_crimeTypes to _args>>
			<<set $_crimeDisplay to []>>
			<<for $_crimeKey range $_crimeTypes>>
				<<if !setup.crimeNames[$_crimeKey]>>
					<<run Errors.report("Extra-Illegal crimes displayed; " + $_crimeKey)>>
				<<else>>
					<<set $_crimeDisplay.push(toTitleCase(setup.crimeNames[$_crimeKey]))>>
				<</if>>
			<</for>>
			<span class="red">(<<print formatList($_crimeDisplay)>>)</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "combatcrime">>
	<<if $statdisable is "f">>
		<span class="red">Crime</span>
		<<if _args[0]>>
			<<crimeType _args[0]>>
		<</if>>
	<</if>>
<</widget>>

<<widget "gcrime">>
	<<if $statdisable is "f">> |
		<span class="red">+ Crime</span>
		<<if _args[0]>>
			<<crimeType _args[0]>>
		<</if>>
	<</if>>
<</widget>>

<<widget "ggcrime">>
	<<if $statdisable is "f">> |
		<span class="red">+ + Crime</span>
		<<if _args[0]>>
			<<crimeType _args[0]>>
		<</if>>
	<</if>>
<</widget>>

<<widget "gggcrime">>
	<<if $statdisable is "f">> |
		<span class="red">+ + + Crime</span>
		<<if _args[0]>>
			<<crimeType _args[0]>>
		<</if>>
	<</if>>
<</widget>>

<<widget "crimeType">>
	<<if _args[0]>>
		<<set $_crimeType to _args[0]>>
		<<if !setup.crimeNames[$_crimeType] and $_crimeType isnot "???">>
			<<run Errors.report("Extra-Illegal crime displayed; " + $_crimeType)>>
		<<else>>
			<<if $_crimeType isnot "???">>
				<<set $_crimeType to setup.crimeNames[$_crimeType].toUpperFirst()>>
			<</if>>
			<span class="red">($_crimeType)</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "gspray">>
	<<if $statdisable is "f">> |
		<span class="green">+ 1 pepper spray</span>
	<</if>>
<</widget>>

<<widget "gspraymax">>
	<<if $statdisable is "f">> |
		<span class="gold">+ 1 pepper spray capacity</span>
	<</if>>
<</widget>>

<<widget "gcondoms">>
	<<set $_condomGain to (_args[0] ? _args[0] : 1)>>
	<<if $condoms eq undefined>><<set $condoms to 0>><</if>>
	<<set $condoms += $_condomGain>>
	<<if $statdisable is "f">> |
		<span class="pink">+ $_condomGain Condom<<if $_condomGain gt 1>>s<</if>></span>
	<</if>>
<</widget>>

<<widget "defianttext">>
	<<if $statdisable is "f">> |
		<span class="def">Defiant</span>
	<</if>>
<</widget>>

<<widget "submissivetext">>
	<<if $statdisable is "f">> |
		<span class="sub">Submissive</span>
	<</if>>
<</widget>>

<<widget "gdef">>
	<<if $statdisable is "f">> |
		<span class="def">+ Defiance</span>
	<</if>>
<</widget>>

<<widget "ggdef">>
	<<if $statdisable is "f">> |
		<span class="def">+ + Defiance</span>
	<</if>>
<</widget>>

<<widget "gggdef">>
	<<if $statdisable is "f">> |
		<span class="def">+ + + Defiance</span>
	<</if>>
<</widget>>

<<widget "ldef">>
	<<if $statdisable is "f">> |
		<span class="sub">- Defiance</span>
	<</if>>
<</widget>>

<<widget "lldef">>
	<<if $statdisable is "f">> |
		<span class="sub">- - Defiance</span>
	<</if>>
<</widget>>

<<widget "llldef">>
	<<if $statdisable is "f">> |
		<span class="sub">- - Defiance</span>
	<</if>>
<</widget>>

<<widget "heat">>
	| <span class="pink">Heat</span>
<</widget>>

<<widget "rut">>
	| <span class="blue">Rut</span>
<</widget>>

<<widget "openinghours">>
	A sign reads "Opening hours: <<ampm 8 00>> - <<ampm 21 00>>"
	<br>
<</widget>>

<<widget "exposedupper">><<silently>>
	<<if $worn.over_upper.exposed is 0>>
		<<set _text_output to $worn.over_upper.name>>
	<<elseif $worn.upper.exposed is 0>>
		<<set _text_output to $worn.upper.name>>
	<<elseif $worn.under_upper.exposed is 0>>
		<<set _text_output to $worn.under_upper.name>>
	<<else>>
		<<breasts>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "exposedlower">><<silently>>
	<<if $worn.over_lower.exposed is 0>>
		<<set _text_output to $worn.over_lower.name>>
	<<elseif $worn.lower.exposed is 0>>
		<<set _text_output to $worn.lower.name>>
	<<elseif $worn.under_lower.exposed is 0>>
		<<set _text_output to $worn.under_lower.name>>
	<<else>>
		<<genitals>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "groin">><<silently>>
	<<genitals>>
	<<if !$worn.lower.type.includes("naked") and setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt isnot 1>>
		<<set _text_output to _text_output + " through your " + $worn.lower.name>>
	<<elseif !$worn.under_lower.type.includes("naked")>>
		<<set _text_output to _text_output + " through your " + $worn.under_lower.name>>
	<<else>>
		<<set _text_output to _text_output>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "crotch">><<silently>>
	<<if !$worn.over_lower.type.includes("naked")>>
		<<set _text_output to $worn.over_lower.name>>
	<<elseif !$worn.lower.type.includes("naked")>>
		<<set _text_output to $worn.lower.name>>
	<<elseif !$worn.under_lower.type.includes("naked")>>
		<<set _text_output to $worn.under_lower.name>>
	<<else>>
		<<genitals>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "undies">><<silently>>
	<<if !$worn.under_lower.type.includes("naked")>>
		<<set _text_output to $worn.under_lower.name>>
	<<elseif !$worn.genitals.type.includes("naked")>>
		<<set _text_output to $worn.genitals.name>>
	<<else>>
		<<genitals>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "bottoms">><<silently>>
	<<outfitChecks>>
	<<set _text_output to (_middleOutfit ? $worn.upper.name : $worn.lower.name)>>
<</silently>>_text_output<</widget>>

<<widget "underbottoms">><<silently>>
	<<outfitChecks>>
	<<set _text_output to (_underOutfit ? $worn.under_upper.name : $worn.under_lower.name)>>
<</silently>>_text_output<</widget>>

<<widget "allTops">>
	<<if $worn.over_upper.name isnot "naked">>
		$worn.over_upper.name\
	<</if>>
	<<if $worn.upper.name isnot "naked">>
		<<if $worn.over_upper.name isnot "naked">>
			and
		<</if>>
		$worn.upper.name\
	<</if>>
<</widget>>

<<widget "allBottoms">>
	<<if $worn.over_lower.name isnot "naked">>
		$worn.over_lower.name\
	<</if>>
	<<if $worn.lower.name isnot "naked">>
		<<if $worn.over_lower.name isnot "naked">>
			and
		<</if>>
		$worn.lower.name\
	<</if>>
<</widget>>

<<widget "allTopsUnderwear">><<silently>>
	<<set _tops to []>>
	<<if $worn.over_upper.name isnot "naked">>
		<<set _tops.push($worn.over_upper.name)>>
	<</if>>
	<<if $worn.upper.name isnot "naked">>
		<<set _tops.push($worn.upper.name)>>
	<</if>>
	<<if $worn.under_upper.name isnot "naked">>
		<<set _tops.push($worn.under_upper.name)>>
	<</if>>
	<<if _tops.length is 1>><<set _text_output to _tops[0]>><</if>>
	<<if _tops.length is 2>><<set _text_output to _tops[0] + " and " + _tops[1]>><</if>>
	<<if _tops.length is 3>><<set _text_output to _tops[0] + ", " + _tops[1] + " and " + _tops[2]>><</if>>
<</silently>>_text_output<</widget>>

<<widget "allBottomsUnderwear">><<silently>>
	<<set _bottoms to []>>
	<<if $worn.over_lower.name isnot "naked">>
		<<set _bottoms.push($worn.over_lower.name)>>
	<</if>>
	<<if $worn.lower.name isnot "naked">>
		<<set _bottoms.push($worn.lower.name)>>
	<</if>>
	<<if $worn.under_lower.name isnot "naked">>
		<<set _bottoms.push($worn.under_lower.name)>>
	<</if>>
	<<if _bottoms.length is 1>><<set _text_output to _bottoms[0]>><</if>>
	<<if _bottoms.length is 2>><<set _text_output to _bottoms[0] + " and " + _bottoms[1]>><</if>>
	<<if _bottoms.length is 3>><<set _text_output to _bottoms[0] + ", " + _bottoms[1] + " and " + _bottoms[2]>><</if>>
<</silently>>_text_output<</widget>>

<<widget "top">><<silently>>
	<<if !$worn.upper.type.includes("naked")>>
		<<set _text_output to $worn.upper.name>>
	<<elseif !$worn.under_upper.type.includes("naked")>>
		<<set _text_output to $worn.under_upper.name>>
	<<else>>
		<<set _text_output to "top">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "topaside">><<silently>>
	<<if $worn.upper.exposed lte 1>>
		<<set _text_output to $worn.upper.name>>
	<<elseif $worn.under_upper.exposed is 0>>
		<<set _text_output to $worn.under_upper.name>>
	<<else>>
		<<set _text_output to "top">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "breastsaside">><<silently>>
	<<if $worn.upper.exposed lte 1>>
		<<set _text_output to $worn.upper.name>>
	<<elseif $worn.under_upper.exposed is 0>>
		<<set _text_output to $worn.under_upper.name>>
	<<else>>
		<<breasts>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "bottomaside">><<silently>>
	<<if $worn.over_lower.exposed lte 1>>
		<<set _text_output to $worn.over_lower.name>>
	<<elseif $worn.lower.exposed lte 1>>
		<<set _text_output to $worn.lower.name>>
	<<elseif $worn.under_lower.exposed is 0>>
		<<set _text_output to $worn.under_lower.name>>
	<<else>>
		<<set _text_output to "bottom">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "outfit">><<silently>>
	<<outfitChecks>>
	<<if _middleOutfit>>
		<<set _text_output to $worn.upper.name>>
		<<set $stripset to 1>>
	<<else>>
		<<set $_clothes to [$worn.upper.name, $worn.lower.name].filter(a => a !== "naked")>>
		<<set _text_output to $_clothes.formatList()>>
		<<set $stripset to 0>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "nudity">><<silently>><<exposure>>
	<<genitals>>
	<<set _genitals to _text_output>>
	<<breasts>>
	<<set _breasts to _text_output>>
	<<if $worn.under_lower.type.includes("naked") and $worn.lower.type.includes("naked")>>
		<<if !$worn.upper.type.includes("naked")>>
		<<set _text_output to "<span class=\"lewd\">exposed " + _genitals + "</span>. Your covered chest makes your bare lower half feel more conspicuous">>
		<<elseif !$worn.under_upper.type.includes("naked")>>
			<<undertop>>
			<<set _undertop to _text_output>>
		<<set _text_output to "<span class=\"lewd\">exposed " + _genitals + " and " + _undertop + "</span>. Your somewhat covered chest makes your bare lower half feel more conspicuous">>
		<<else>>
		<<set _text_output to "<span class=\"lewd\">exposed</span> ">>
			<<if $player.breastsize gte 3>>
				<<if $player.gender is "m">>
				<<set _text_output to _text_output + "<span class=\"lewd\">" + _genitals + " and " + _breasts + "</span>">>
				<<else>>
				<<set _text_output to _text_output + "<span class=\"lewd\">" + _genitals + " and " + _breasts + "</span>">>
				<</if>>
			<<else>>
				<<if $player.gender is "m">>
					<<if $player.gender_appearance is "f">>
						<<set _text_output to _text_output + "<span class=\"lewd\">" + _genitals + " and " + _breasts + ", made salacious by your feminine demeanour</span>">>
					<<else>>
						<<set _text_output to _text_output + "<span class=\"lewd\">" + _genitals + "</span>">>
					<</if>>
				<<else>>
				<<set _text_output to _text_output + "<span class=\"lewd\">" + _genitals + " and " + _breasts + "</span>">>
				<</if>>
			<</if>>
		<</if>>
	<<elseif $worn.upper.type.includes("naked") and $player.gender_appearance is "f">>
		<<outfitChecks>>
		<<if $worn.under_upper.type.includes("naked")>>
			<<set _text_output to "<span class=\"lewd\">exposed " + _breasts + "</span>">>
				<<if $worn.lower.type.includes("naked") and _underOutfit is false>>
					<<set $_give to ($worn.under_lower.plural is 0 ? "gives" : "give")>>
					<<set _text_output to _text_output + ". Only your " + $worn.under_lower.name + " " + $_give + " you a shred of decency">>
				<</if>>
		<<else>>
			<<undertop>>
			<<set _undertop to _text_output>>
			<<if $worn.lower.type.includes("naked") and _underOutfit is false>>
				<<undies>>
				<<set _undies to _text_output>>
				<<set _text_output to "<span class=\"lewd\">exposed " + _undies + " and " + _undertop + "</span>">>
			<<else>>
				<<set _text_output to "<span class=\"lewd\">exposed " + _undertop + "</span>">>
			<</if>>
		<</if>>
	<<elseif $worn.lower.type.includes("naked")>>
		<<set _text_output to "<span class=\"lewd\">exposed " + $worn.under_lower.name + "</span>">>
	<<else>>
		<<set _text_output to "<span class=\"lewd\">lewd outfit</span>">>
		<<if $worn.lower.type.includes("naked") and _underOutfit is false>>
			<<set $_give to ($worn.under_lower.plural is 0 ? "gives" : "give")>>
			<<set _text_output to _text_output + ". Only your " + $worn.under_lower.name + " " + $_give + " you a shred of decency">>
		<</if>>
	<</if>>
	<<if $leftarm is "bound" and $rightarm is "bound" and $position isnot "wall">>
		<<set _text_output to _text_output + ". With your arms bound, you can't even cover yourself, leaving you feeling utterly helpless">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "boundBodyParts">><<silently>>
	<<set _boundparts to ($rightarm is "bound" or $leftarm is "bound" ? "arm" : "")>>
	<<set _boundparts += ($rightarm is "bound" and $leftarm is "bound" ? "s" : "")>>
	<<set _boundparts += ($feetuse is "bound" ? (_boundparts isnot "" ? " and legs" : "legs") : "")>>
	<<set _text_output to _boundparts>>
<</silently>>_text_output<</widget>>

<<widget "stripobject">>
	<<set $worn.upper.integrity -= $stripintegrity>><<set $worn.lower.integrity -= $stripintegrity>><<set $worn.under_lower.integrity -= $stripintegrity>>

	<<if !$worn.upper.type.includes("naked") and $worn.upper.integrity lte 0 and !$worn.lower.type.includes("naked") and $worn.lower.integrity lte 0 and !$worn.under_lower.type.includes("naked") and $worn.under_lower.integrity lte 0>>
	<span class="lewd">Your clothing snags on a $stripobject, tearing it from your body and leaving you totally bare!</span>

	<<elseif !$worn.upper.type.includes("naked") and $worn.upper.integrity lte 0 and !$worn.lower.type.includes("naked") and $worn.lower.integrity lte 0>>
	<span class="lewd">Your <<outfit>> <<if $stripset is 1>>snags on a $stripobject, and is torn clean off your body.<<else>>snag on a $stripobject, and are torn from your body.<</if>></span>

	<<elseif !$worn.upper.type.includes("naked") and $worn.upper.integrity lte 0 and !$worn.under_lower.type.includes("naked") and $worn.under_lower.integrity lte 0>>
	<span class="lewd">Your $worn.upper.name and $worn.under_lower.name snag on a $stripobject and are torn from your body.</span>

	<<elseif !$worn.lower.type.includes("naked") and $worn.lower.integrity lte 0 and !$worn.under_lower.type.includes("naked") and $worn.under_lower.integrity lte 0>>
	<span class="lewd">Your $worn.lower.name and $worn.under_lower.name snag on a $stripobject and are torn from your body.</span>

	<<elseif !$worn.upper.type.includes("naked") and $worn.upper.integrity lte 0>>
	<span class="lewd">Your $worn.upper.name snags on a $stripobject and is torn from your body.</span>

	<<elseif !$worn.lower.type.includes("naked") and $worn.lower.integrity lte 0>>
	<span class="lewd">Your $worn.lower.name <<if $worn.lower.plural is 1>>snag on a $stripobject and are torn from your body.<<else>>snags on a $stripobject and is torn from your body.<</if>></span>

	<<elseif !$worn.under_lower.type.includes("naked") and $worn.under_lower.integrity lte 0>>
	<span class="lewd">Your $worn.under_lower.name <<if $worn.under_lower.plural is 1>>snag on a $stripobject and are torn from your body.<<else>>snags on a $stripobject and is torn from your body.<</if>></span>

	<</if>>

	<<if $worn.upper.name isnot "naked">>
		<<if $worn.upper.integrity lte 0>><<upperruined>><<clothesruinstat>><<set $upperoff to 0>>
		<</if>>
	<</if>>
	<<if $worn.lower.name isnot "naked">>
		<<if $worn.lower.integrity lte 0>><<lowerruined>><<clothesruinstat>><<set $loweroff to 0>>
		<</if>>
	<</if>>
	<<if $worn.under_lower.name isnot "naked">>
		<<if $worn.under_lower.integrity lte 0>>
			<<set $worn.under_lower.type.push("broken")>>
			<<underlowerruined>><<clothesruinstat>><<set $underloweroff to 0>>
		<</if>>
	<</if>>
	<<if $worn.under_upper.name isnot "naked">>
		<<if $worn.under_upper.integrity lte 0>><<underupperruined>><<clothesruinstat>><<set $underupperoff to 0>>
		<</if>>
	<</if>>

	<<exposure>>

	<<if $exposed gte 1>>
		You can't help but be conscious of your <<nudity>>.
	<</if>>
<</widget>>

/* 北极星模组 */
<<widget "tearoptions">>
	<br><br>
	<<set $stripintegrity to 15>>
	<<updatesidebarimg>>
	<<clothestear>>
	<br><br>
	你看着自己的映像。
	<br><br>

	<<if $parasite.clit.name is "livingclothes" or $parasite.penis.name is "livingclothes" or
	$parasite.nipples.name is "livingclothes" or $parasite.bottom.name is "livingclothes">>
		这件奇怪的衣服需要换种方式脱掉。
		<br>
		撕扯它大概只会激怒其中的触手。
	<<else>>
		<<if $worn.upper.integrity gt 0 or $worn.lower.integrity gt 0 or $worn.under_lower.integrity gt 0 or $worn.under_upper.integrity gt 0>>
			你可以故意撕烂衣服，以看起来更顽皮。
			<br><br>
			只是别撕过头了，免得让衣服没法穿。 
			<br><br>
			<<if $worn.upper.integrity gt 0>>
			<<link [[撕扯上衣|$passage]]>><<set $worn.upper.integrity -= $stripintegrity>><</link>><br><br>
			<</if>>
			<<if $worn.lower.integrity gt 0>>
			<<link [[撕扯下装|$passage]]>><<set $worn.lower.integrity -= $stripintegrity>><</link>><br><br>
			<</if>>
			<<if $worn.under_upper.integrity gt 0>>
			<<link [[撕扯胸罩|$passage]]>><<set $worn.under_upper.integrity -= $stripintegrity>><</link>><br><br>
			<</if>>
			<<if $worn.under_lower.integrity gt 0>>
				<<if $worn.genitals.name is "chastity belt" or $worn.genitals.name is "gold chastity belt">>
					贞操带太坚固了，你扯不动。
				<<else>>
					<<link [[撕扯内裤|$passage]]>><<set $worn.under_lower.integrity -= $stripintegrity>><</link>><br><br>
				<</if>>
			<</if>> 
		<<elseif $leftarm is "bound" and $rightarm is "bound">>
			你可以故意撕烂衣服，以看起来更顽皮，但胳膊绑着没法撕。
		<<elseif $worn.upper.type.includes("naked") and $worn.upper.integrity lte 0 and $worn.lower.type.includes("naked") and $worn.lower.integrity lte 0 and $worn.under_lower.type.includes("naked") and $worn.under_lower.integrity lte 0 and $worn.under_upper.type.includes("naked") and $worn.under_upper.integrity lte 0>>
			你可以故意撕烂衣服，以看起来更顽皮，但首先你得至少有件衣服。
		<<else>>
			你可以故意撕烂衣服，以看起来更顽皮，但首先你得至少有件衣服。
		<</if>>
	<</if>>
<</widget>>

<<widget "clothestear">>
	<<if !$worn.upper.type.includes("naked") and $worn.upper.integrity lte 0 and !$worn.lower.type.includes("naked") and $worn.lower.integrity lte 0 and !$worn.under_lower.type.includes("naked") and $worn.under_lower.integrity lte 0>>
	<span class="lewd">你撕扯衣服本意想迎合你的口味，但由于你太粗心，直接把衣服撕坏了。</span>

	<<elseif !$worn.upper.type.includes("naked") and $worn.upper.integrity lte 0 and !$worn.lower.type.includes("naked") and $worn.lower.integrity lte 0>>
	<span class="lewd">你撕扯衣服本意想迎合你的口味，但由于你太粗心，直接把衣服撕坏了。</span>

	<<elseif !$worn.upper.type.includes("naked") and $worn.upper.integrity lte 0 and !$worn.under_lower.type.includes("naked") and $worn.under_lower.integrity lte 0>>
	<span class="lewd">你在撕扯$worn.upper.cn_name_cap和$worn.under_lower.cn_name_cap时太粗心，不小心直接撕烂了。</span>

	<<elseif !$worn.lower.type.includes("naked") and $worn.lower.integrity lte 0 and !$worn.under_lower.type.includes("naked") and $worn.under_lower.integrity lte 0>>
	<span class="lewd">你的$worn.lower.cn_name_cap和$worn.under_lower.cn_name_cap由于你撕扯得太用力直接扯坏了。</span>

	<<elseif !$worn.upper.type.includes("naked") and $worn.upper.integrity lte 0>>
	<span class="lewd">你的$worn.upper.cn_name_cap被你扯坏了。</span>

	<<elseif !$worn.lower.type.includes("naked") and $worn.lower.integrity lte 0>>
	<span class="lewd">你的$worn.lower.cn_name_cap被你扯坏了。</span>

	<<elseif !$worn.under_lower.type.includes("naked") and $worn.under_lower.integrity lte 0>>
	<span class="lewd">你的$worn.under_lower.cn_name_cap被你扯坏了。</span>

	<</if>>

	<<if $worn.upper.name isnot "naked">>
		<<if $worn.upper.integrity lte 0>><<upperruined>><<clothesruinstat>><<set $upperoff to 0>>
		<</if>>
	<</if>>
	<<if $worn.lower.name isnot "naked">>
		<<if $worn.lower.integrity lte 0>><<lowerruined>><<clothesruinstat>><<set $loweroff to 0>>
		<</if>>
	<</if>>
	<<if $worn.under_lower.name isnot "naked">>
		<<if $worn.under_lower.integrity lte 0>>
			<<set $worn.under_lower.type.push("broken")>>
			<<underlowerruined>><<clothesruinstat>><<set $underloweroff to 0>>
		<</if>>
	<</if>>
	<<if $worn.under_upper.name isnot "naked">>
		<<if $worn.under_upper.integrity lte 0>><<underupperruined>><<clothesruinstat>><<set $underupperoff to 0>>
		<</if>>
	<</if>>

	<<exposure>>

	<<if $exposed gte 1>>
		你无法不去在意你的<<nudity>>。
	<</if>>
<</widget>>
/* 北极星 */

<<widget "seductiontext">><<silently>>
	<<set $_skillText to currentSkillValue("seductionskill")>>
	<<if $_skillText lt 200>><<set _text_output to '<span class="pink">awkwardly</span>'>>
	<<elseif $_skillText lt 400>><<set _text_output to '<span class="purple">cautiously</span>'>>
	<<elseif $_skillText lt 600>><<set _text_output to '<span class="blue">rhythmically</span>'>>
	<<elseif $_skillText lt 800>><<set _text_output to '<span class="lblue">smoothly</span>'>>
	<<elseif $_skillText lt 1000>><<set _text_output to '<span class="teal">skilfully</span>'>>
	<<elseif $_skillText lt 1200>><<set _text_output to '<span class="green">expertly</span>'>>
	<<else>><<set _text_output to '<span class="gold">effortlessly</span>'>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "oraltext">><<silently>>
	<<set $_skillText to currentSkillValue("oralskill")>>
	<<if $_skillText lt 200>><<set _text_output to '<span class="pink">awkwardly</span>'>>
	<<elseif $_skillText lt 400>><<set _text_output to '<span class="purple">cautiously</span>'>>
	<<elseif $_skillText lt 600>><<set _text_output to '<span class="blue">rhythmically</span>'>>
	<<elseif $_skillText lt 800>><<set _text_output to '<span class="lblue">smoothly</span>'>>
	<<elseif $_skillText lt 1000>><<set _text_output to '<span class="teal">skilfully</span>'>>
	<<elseif $_skillText lt 1200>><<set _text_output to '<span class="green">expertly</span>'>>
	<<else>><<set _text_output to '<span class="gold">effortlessly</span>'>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "vaginaltext">><<silently>>
	<<set $_skillText to currentSkillValue("vaginalskill")>>
	<<if $_skillText lt 200>><<set _text_output to '<span class="pink">awkwardly</span>'>>
	<<elseif $_skillText lt 400>><<set _text_output to '<span class="purple">cautiously</span>'>>
	<<elseif $_skillText lt 600>><<set _text_output to '<span class="blue">rhythmically</span>'>>
	<<elseif $_skillText lt 800>><<set _text_output to '<span class="lblue">smoothly</span>'>>
	<<elseif $_skillText lt 1000>><<set _text_output to '<span class="teal">skilfully</span>'>>
	<<elseif $_skillText lt 1200>><<set _text_output to '<span class="green">expertly</span>'>>
	<<else>><<set _text_output to '<span class="gold">effortlessly</span>'>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "peniletext">><<silently>>
	<<set $_skillText to currentSkillValue("penileskill")>>
	<<if $_skillText lt 200>><<set _text_output to '<span class="pink">awkwardly</span>'>>
	<<elseif $_skillText lt 400>><<set _text_output to '<span class="purple">cautiously</span>'>>
	<<elseif $_skillText lt 600>><<set _text_output to '<span class="blue">rhythmically</span>'>>
	<<elseif $_skillText lt 800>><<set _text_output to '<span class="lblue">smoothly</span>'>>
	<<elseif $_skillText lt 1000>><<set _text_output to '<span class="teal">skilfully</span>'>>
	<<elseif $_skillText lt 1200>><<set _text_output to '<span class="green">expertly</span>'>>
	<<else>><<set _text_output to '<span class="gold">effortlessly</span>'>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "analtext">><<silently>>
	<<set $_skillText to currentSkillValue("analskill")>>
	<<if $_skillText lt 200>><<set _text_output to '<span class="pink">awkwardly</span>'>>
	<<elseif $_skillText lt 400>><<set _text_output to '<span class="purple">cautiously</span>'>>
	<<elseif $_skillText lt 600>><<set _text_output to '<span class="blue">rhythmically</span>'>>
	<<elseif $_skillText lt 800>><<set _text_output to '<span class="lblue">smoothly</span>'>>
	<<elseif $_skillText lt 1000>><<set _text_output to '<span class="teal">skilfully</span>'>>
	<<elseif $_skillText lt 1200>><<set _text_output to '<span class="green">expertly</span>'>>
	<<else>><<set _text_output to '<span class="gold">effortlessly</span>'>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "handtext">><<silently>>
	<<set $_skillText to currentSkillValue("handskill")>>
	<<if $_skillText lt 200>><<set _text_output to '<span class="pink">awkwardly</span>'>>
	<<elseif $_skillText lt 400>><<set _text_output to '<span class="purple">cautiously</span>'>>
	<<elseif $_skillText lt 600>><<set _text_output to '<span class="blue">rhythmically</span>'>>
	<<elseif $_skillText lt 800>><<set _text_output to '<span class="lblue">smoothly</span>'>>
	<<elseif $_skillText lt 1000>><<set _text_output to '<span class="teal">skilfully</span>'>>
	<<elseif $_skillText lt 1200>><<set _text_output to '<span class="green">expertly</span>'>>
	<<else>><<set _text_output to '<span class="gold">effortlessly</span>'>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "feettext">><<silently>>
	<<set $_skillText to currentSkillValue("feetskill")>>
	<<if $_skillText lt 200>><<set _text_output to '<span class="pink">awkwardly</span>'>>
	<<elseif $_skillText lt 400>><<set _text_output to '<span class="purple">cautiously</span>'>>
	<<elseif $_skillText lt 600>><<set _text_output to '<span class="blue">rhythmically</span>'>>
	<<elseif $_skillText lt 800>><<set _text_output to '<span class="lblue">smoothly</span>'>>
	<<elseif $_skillText lt 1000>><<set _text_output to '<span class="teal">skilfully</span>'>>
	<<elseif $_skillText lt 1200>><<set _text_output to '<span class="green">expertly</span>'>>
	<<else>><<set _text_output to '<span class="gold">effortlessly</span>'>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "bottomtext">><<silently>>
	<<set $_skillText to currentSkillValue("bottomskill")>>
	<<if $_skillText lt 200>><<set _text_output to '<span class="pink">awkwardly</span>'>>
	<<elseif $_skillText lt 400>><<set _text_output to '<span class="purple">cautiously</span>'>>
	<<elseif $_skillText lt 600>><<set _text_output to '<span class="blue">rhythmically</span>'>>
	<<elseif $_skillText lt 800>><<set _text_output to '<span class="lblue">smoothly</span>'>>
	<<elseif $_skillText lt 1000>><<set _text_output to '<span class="teal">skilfully</span>'>>
	<<elseif $_skillText lt 1200>><<set _text_output to '<span class="green">expertly</span>'>>
	<<else>><<set _text_output to '<span class="gold">effortlessly</span>'>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "thightext">><<silently>>
	<<set $_skillText to currentSkillValue("thighskill")>>
	<<if $_skillText lt 200>><<set _text_output to '<span class="pink">awkwardly</span>'>>
	<<elseif $_skillText lt 400>><<set _text_output to '<span class="purple">cautiously</span>'>>
	<<elseif $_skillText lt 600>><<set _text_output to '<span class="blue">rhythmically</span>'>>
	<<elseif $_skillText lt 800>><<set _text_output to '<span class="lblue">smoothly</span>'>>
	<<elseif $_skillText lt 1000>><<set _text_output to '<span class="teal">skilfully</span>'>>
	<<elseif $_skillText lt 1200>><<set _text_output to '<span class="green">expertly</span>'>>
	<<else>><<set _text_output to '<span class="gold">effortlessly</span>'>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "chesttext">><<silently>>
	<<set $_skillText to currentSkillValue("chestskill")>>
	<<if $_skillText lt 200>><<set _text_output to '<span class="pink">awkwardly</span>'>>
	<<elseif $_skillText lt 400>><<set _text_output to '<span class="purple">cautiously</span>'>>
	<<elseif $_skillText lt 600>><<set _text_output to '<span class="blue">rhythmically</span>'>>
	<<elseif $_skillText lt 800>><<set _text_output to '<span class="lblue">smoothly</span>'>>
	<<elseif $_skillText lt 1000>><<set _text_output to '<span class="teal">skilfully</span>'>>
	<<elseif $_skillText lt 1200>><<set _text_output to '<span class="green">expertly</span>'>>
	<<else>><<set _text_output to '<span class="gold">effortlessly</span>'>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "swimmingtext">>
	<<set $_swimmingskillText to currentSkillValue('swimmingskill')>>
	<<if $_swimmingskillText lt 200>><span class="pink">haphazardly</span>
	<<elseif $_swimmingskillText lt 400>><span class="purple">awkwardly</span>
	<<elseif $_swimmingskillText lt 600>><span class="blue">adequately</span>
	<<elseif $_swimmingskillText lt 800>><span class="lblue">smoothly</span>
	<<elseif $_swimmingskillText lt 1000>><span class="teal">skilfully</span>
	<<elseif $_swimmingskillText lt 1200>><span class="green">expertly</span>
	<<else>><span class="gold">effortlessly</span>
	<</if>>
<</widget>>

<<widget "tendingtext">>
	<<set $_tendingText to currentSkillValue('tending')>>
	<<if $_tendingText lt 200>><span class="pink">awkwardly</span>
	<<elseif $_tendingText lt 400>><span class="purple">cautiously</span>
	<<elseif $_tendingText lt 600>><span class="blue">rhythmically</span>
	<<elseif $_tendingText lt 800>><span class="lblue">smoothly</span>
	<<elseif $_tendingText lt 1000>><span class="teal">skilfully</span>
	<<elseif $_tendingText lt 1200>><span class="green">expertly</span>
	<<else>><span class="gold">effortlessly</span><</if>>
<</widget>>

<<widget "dancetext">>
	<<set $_danceskillText to currentSkillValue('danceskill')>>
	<<if $_danceskillText lt 200>><span class="pink">awkwardly</span>
	<<elseif $_danceskillText lt 400>><span class="purple">cautiously</span>
	<<elseif $_danceskillText lt 600>><span class="blue">rhythmically</span>
	<<elseif $_danceskillText lt 800>><span class="lblue">smoothly</span>
	<<elseif $_danceskillText lt 1000>><span class="teal">skilfully</span>
	<<elseif $_danceskillText lt 1200>><span class="green">expertly</span>
	<<else>><span class="gold">effortlessly</span><</if>>
<</widget>>

<<widget "housekeepingtext">>
<<set $_housekeepingText to currentSkillValue('housekeeping')>>
<<if $_housekeepingText lt 200>><span class="pink">awkwardly</span>
<<elseif $_housekeepingText lt 400>><span class="purple">cautiously</span>
<<elseif $_housekeepingText lt 600>><span class="blue">rhythmically</span>
<<elseif $_housekeepingText lt 800>><span class="lblue">smoothly</span>
<<elseif $_housekeepingText lt 1000>><span class="teal">skilfully</span>
<<elseif $_housekeepingText lt 1200>><span class="green">expertly</span>
<<else>><span class="gold">effortlessly</span><</if>>
<</widget>>

<<widget "nervously">><<silently>>
	<<if $exhibitionism lte 15>>
		<<set _text_output to "nervously">>
	<<elseif $exhibitionism lte 35>>
		<<set _text_output to "timidly">>
	<<elseif $exhibitionism lte 55>>
		<<set _text_output to "shyly">>
	<<elseif $exhibitionism lte 75>>
		<<set _text_output to "confidently">>
	<<elseif $exhibitionism lte 95>>
		<<set _text_output to "eagerly">>
	<<else>>
		<<set _text_output to "breathlessly">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "schoolday">>
	<<if $location isnot "prison" and $location isnot "asylum">>
		<<if !Time.schoolDay && Time.isSchoolDay(Time.tomorrow)>>
			You have school tomorrow.
		<<elseif Time.schoolDay>>
			It's a school day.
		<<else>>
			There's no school tomorrow.
		<</if>>
		<br>
	<</if>>
<</widget>>

/* 北极星模组 */
<<widget "support">>
    <span class="camouflage text">
      <a onclick="V.codeinput = 1">
        <span class='wraith'>
            北极星模组
        </span>
      </a>
    </span>
    <br>
<</widget>>
/* 北极星 */

<<widget "sir">><<silently>>
	<<if $pronoun is "m">>
		<<set _text_output to "sir">>
	<<else>>
		<<set _text_output to "miss">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "lewdness">><<silently>>
	<<exposure>>
	<<genitals>>
	<<set _genitals to _text_output>>
	<<undertop>>
	<<set _undertop to _text_output>>
	<<if $worn.under_lower.exposed gte 1 and $worn.lower.exposed gte 2 and $worn.upper.exposed lte 1>>
		<<set _text_output to '<span class="lewd">exposed _genitals</span>'>>
	<<elseif $worn.under_lower.exposed lte 0 and $worn.lower.exposed gte 2 and $worn.upper.exposed lte 1>>
		<<set _text_output to '<span class="lewd">exposed $worn.under_lower.name</span>'>>
	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed lte 1 and $player.gender_appearance is "m" and $player.gender is "m">>
		<<set _text_output to '<span class="lewd">lewdness</span>'>>
	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed lte 1>>
		<<set _text_output to '<span class="lewd">exposed _undertop</span>'>>
	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed lte 0 and $player.gender_appearance is "m" and $player.gender is "m">>
		<<set _text_output to '<span class="lewd">exposed $worn.under_lower.name</span>'>>
	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed lte 0>>
		<<set _text_output to '<span class="lewd">exposed _undertop and $worn.under_lower.name</span>'>>
	<<elseif $worn.under_lower.exposed gte 1 and $worn.lower.exposed gte 2 and $player.gender_appearance is "m" and $player.gender is "m">>
		<<set _text_output to '<span class="lewd">exposed _genitals</span>'>>
	<<elseif $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_lower.exposed gte 1>>
		<<if $player.penisExist and $player.vaginaExist>>
			<<set _text_output to '<span class="lewd">exposed _undertop, _genitals</span>'>>
		<<else>>
			<<set _text_output to '<span class="lewd">exposed _undertop and _genitals</span>'>>
		<</if>>
	<<else>>
		<<set _text_output to '<span class="lewd">lewdness</span>'>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "flaunting">>
	<<exposure>>/*Makes sure your clothing state is up to date*/
	<<if $uncomfortable.nude is false>>
		<<if $trauma gte (($traumamax / 5) * 4)>>
			<<if $stress gte (($stressmax / 5) * 4)>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					Dark tendrils threaten to peak your exposed body as
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					Dark tendrils caress your exposed body as
				<<else>>
					Feeling watched by countless eyes
				<</if>>
			<<elseif $stress gte (($stressmax / 5) * 1)>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					Afraid you'll climax on the spot
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					Feeling watched by countless eyes
				<<else>>
					Feeling threatened yet excited
				<</if>>
			<<else>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					A sick part of you hopes your audience help themselves to your body as
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					Feeling vulnerable and surrounded
				<<else>>
					Hoping people like what they see
				<</if>>
			<</if>>
		<<elseif $trauma gte (($traumamax / 5) * 1)>>
			<<if $stress gte (($stressmax / 5) * 4)>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					Feeling like a piece of meat
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					Exposed and vulnerable
				<<else>>
					You hope exposing yourself will save you from hurt as
				<</if>>
			<<elseif $stress gte (($stressmax / 5) * 1)>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					Your body trembles as
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					Excited yet afraid
				<<else>>
					Yearning for attention,
				<</if>>
			<<else>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					Shivering with arousal
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					Heart throbbing
				<<else>>
					You hope people like what they see as
				<</if>>
			<</if>>
		<<else>>
			<<if $stress gte (($stressmax / 5) * 4)>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					Tense and aroused,
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					Tense but exhilarated,
				<<else>>
					Enjoying the moment,
				<</if>>
			<<elseif $stress gte (($stressmax / 5) * 1)>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					Feeling naughty,
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					You enjoy the eyes on you as
				<<else>>
					You enjoy the adrenaline rush as
				<</if>>
			<<else>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					Thrilled to be so exposed
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					Shivering in delight,
				<<else>>
					Proud and free,
				<</if>>
			<</if>>
		<</if>>
	<<else>>
		<<if $trauma gte (($traumamax / 5) * 4)>>
			<<if $stress gte (($stressmax / 5) * 4)>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					Dark tendrils threaten to peak your exposed body as
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					Dark tendrils caress your exposed body as
				<<else>>
					Feeling watched by countless eyes
				<</if>>
			<<elseif $stress gte (($stressmax / 5) * 1)>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					Afraid you'll climax on the spot
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					Feeling watched by countless eyes
				<<else>>
					Feeling threatened and embarrassed
				<</if>>
			<<else>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					A sick part of you hopes your audience help themselves to your body as
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					Feeling vulnerable and surrounded
				<<else>>
					Hoping people like what they see
				<</if>>
			<</if>>
		<<elseif $trauma gte (($traumamax / 5) * 1)>>
			<<if $stress gte (($stressmax / 5) * 4)>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					Feeling like a piece of meat
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					Exposed and vulnerable
				<<else>>
					You hope exposing yourself will save you from hurt as
				<</if>>
			<<elseif $stress gte (($stressmax / 5) * 1)>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					Your body trembles as
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					Embarrassed and afraid
				<<else>>
					Yearning for attention,
				<</if>>
			<<else>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					Shivering with arousal
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					Heart throbbing
				<<else>>
					You hope people like what they see as
				<</if>>
			<</if>>
		<<else>>
			<<if $stress gte (($stressmax / 5) * 4)>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					Tense and aroused,
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					Tense but exhilarated,
				<<else>>
					Enjoying the moment,
				<</if>>
			<<elseif $stress gte (($stressmax / 5) * 1)>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					Feeling naughty,
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					You enjoy the eyes on you as
				<<else>>
					You enjoy the adrenaline rush as
				<</if>>
			<<else>>
				<<if $arousal gte (($arousalmax / 5) * 4)>>
					Thrilled to be so exposed
				<<elseif $arousal gte (($arousalmax / 5) * 1)>>
					Shivering in delight,
				<<else>>
					Blushing,
				<</if>>
			<</if>>
		<</if>>
	<</if>>
<</widget>>

<<widget "embarrassment">>
	<<if $arousal gte (($arousalmax / 10) * 9)>>
		Embarrassment dominates your mind and threatens to send you over the edge.
	<<elseif $arousal gte (($arousalmax / 10) * 8)>>
		Lewd shivers ripple through your body despite your embarrassment.
	<<elseif $arousal gte (($arousalmax / 10) * 7)>>
		The embarrassment leaves you lightheaded.
	<<elseif $arousal gte (($arousalmax / 10) * 6)>>
		You're so embarrassed. Your breath catches in your throat.
	<<elseif $arousal gte (($arousalmax / 10) * 5)>>
		You're so embarrassed. Your heart beats faster.
	<<elseif $arousal gte (($arousalmax / 10) * 4)>>
		You feel a warmth build despite the embarrassment.
	<<elseif $arousal gte (($arousalmax / 10) * 3)>>
		You're so embarrassed. Your heart skips a beat.
	<<elseif $arousal gte (($arousalmax / 10) * 2)>>
		You shiver with embarrassment.
	<<elseif $arousal gte (($arousalmax / 10) * 1)>>
		You're so embarrassed. Blood rushes to your face.
	<<else>>
		Your face reddens with embarrassment.
	<</if>>
<</widget>>

<<widget "covered">>
	<<exposure>>

	<<if $exposed gt 0>>

		/* calculating section */
		<<silently>>
			<<genitals>><<set _genitals_text to _text_output>>
			<<breasts>><<set _breasts_text to _text_output>>
		<</silently>>

		<<set _parts to "">>
		<<if $worn.upper.exposed gte 2>>
			<<if $player.gender_appearance is "m" and $player.gender is "m" and $worn.lower.exposed lte 0>>
				<<set _parts += "chest">>
			<<else>>
				<<set _parts += ($worn.under_upper.exposed gte 1 ? _breasts_text : $worn.under_upper.name)>>
			<</if>>
		<</if>>
		<<if $worn.lower.exposed gte 2>>
			<<if _parts isnot "">>
				<<set _parts += " and ">>
			<</if>>
			<<set _parts += ($worn.under_lower.exposed gte 1 ? _genitals_text : $worn.under_lower.name)>>
		<</if>>

		/* text output section */

		<<if $leftarm is "bound" and $rightarm is "bound" and $exposed gte 1>>
			With your arms bound, there's little you can do to shield your <<lewdness>> from prying eyes.
			<<if !$uncomfortable.nude and $exposed gte 2 and $exhibitionism gte 95>>
				You quiver with excitement.
			<<elseif !$uncomfortable.nude and $exposed is 1 and $exhibitionism gte 55>>
				You quiver with excitement.
			<</if>>
		<<elseif ($exposed gte 2 and ($exhibitionism lt 95 or $uncomfortable.nude))
			or ($exposed is 1 and ($exhibitionism lt 55 or $uncomfortable.nude))>>
			<<if _parts isnot "">>
				You cover your <span class="lewd">exposed _parts</span> with your hands.
			<<else>>
				You cover the <span class="lewd">lewder</span> parts of your outfit with your hands.
			<</if>>
		<<else>>
			<<if _parts isnot "">>
				You quiver with excitement from your <span class="lewd">exposed _parts</span>.
			<<else>>
				The <span class="lewd">lewder</span> parts of your outfit make you quiver with excitement.
			<</if>>
		<</if>>
		<<embarrassment>>
	<</if>>
<</widget>>

<<widget "passagestrip">>
	<<if $worn.upper.exposed gte 2 and $worn.lower.exposed gte 2 and $worn.under_upper.exposed gte 1 and $worn.under_lower.exposed gte 1>>
	<<else>>
		<<outfitChecks>>
		<<set _clothing_strip_sequence to 0>>
		<<if $worn.upper.exposed lte 1>>
			<<if _middleOutfit is true>>
				<<flaunting>> you shuffle out of your $worn.upper.name, exposing your <<undertop>> and <<undies>>.
			<<else>>
				<<flaunting>> you tug off your $worn.upper.name, exposing your <<undertop>>.
			<</if>>
		<<set _clothing_strip_sequence += 1>><<upperstrip>><<exposure>>
		<</if>>
		<<if $worn.lower.exposed lte 1>>
			<<if _clothing_strip_sequence is 0>>
				<<flaunting>> you tug off your $worn.lower.name, exposing your <<undies>>.
			<<else>>
				Your $worn.lower.name comes next, exposing your <<undies>>.
			<</if>>
		<<set _clothing_strip_sequence += 1>><<lowerstrip>><<exposure>>
		<</if>>
		<<if $worn.under_upper.exposed lte 0 and _args[0] isnot "undies">>
			<<if _underOutfit is true>>
				<<if _clothing_strip_sequence is 0>>
					<<flaunting>> you shuffle out of your $worn.under_upper.name, revealing your <<breasts>> and <<genitals>>.
				<<elseif _clothing_strip_sequence is 1>>
					Your $worn.under_upper.name comes next, revealing your <<breasts>> and <<genitals>>.
				<<else>>
					Finally, you peel off your $worn.under_upper.name, revealing your <<breasts>> and <<genitals>>.
				<</if>>
			<<else>>
				<<if _clothing_strip_sequence is 0>>
					<<flaunting>> you tug off your $worn.under_upper.name, revealing your <<breasts>>.
				<<elseif _clothing_strip_sequence is 1>>
					Your $worn.under_upper.name comes next, revealing your <<breasts>>.
				<<else>>
					<<if $worn.under_lower.exposed lte 0>>
						Your $worn.under_upper.name follows, revealing your <<breasts>>.
					<<else>>
						Finally, you peel off your $worn.under_upper.name, revealing your <<breasts>>.
					<</if>>
				<</if>>
			<</if>>
		<<set _clothing_strip_sequence += 1>><<underupperstrip>><<exposure>>
		<</if>>
		<<if $worn.under_lower.exposed lte 0 and _args[0] isnot "undies">>
			<<if _clothing_strip_sequence is 0>>
				<<flaunting>> you pull down your $worn.under_lower.name, displaying your <<genitals>>.
			<<elseif _clothing_strip_sequence is 1>>
				Your $worn.under_lower.name come next, displaying your <<genitals>>.
			<<else>>
				Finally, you peel off your $worn.under_lower.name, displaying your <<genitals>>.
			<</if>>
		<<set _clothing_strip_sequence += 1>><<underlowerstrip>><<exposure>>
		<</if>>
	<</if>>
	<<if !$worn.legs.type.includes("naked")>>
		You're still wearing your $worn.legs.name, but this somehow makes you feel even more exposed.
	<<else>>
	<</if>>
<</widget>>

<<widget "strippedtext">>
	<!-- Unused widget -->
	<<if $control gte (($controlmax / 5) * 4)>>
		<<if $trauma gte (($traumamax / 5) * 4)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<elseif $trauma gte (($traumamax / 5) * 3)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<elseif $trauma gte (($traumamax / 5) * 2)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<elseif $trauma gte (($traumamax / 5) * 1)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<else>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<</if>>
	<<elseif $control gte (($controlmax / 5) * 3)>>
		<<if $trauma gte (($traumamax / 5) * 4)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<elseif $trauma gte (($traumamax / 5) * 3)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<elseif $trauma gte (($traumamax / 5) * 2)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<elseif $trauma gte (($traumamax / 5) * 1)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<else>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<</if>>
	<<elseif $control gte (($controlmax / 5) * 2)>>
		<<if $trauma gte (($traumamax / 5) * 4)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<elseif $trauma gte (($traumamax / 5) * 3)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<elseif $trauma gte (($traumamax / 5) * 2)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<elseif $trauma gte (($traumamax / 5) * 1)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<else>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<</if>>
	<<elseif $control gte (($controlmax / 5) * 1)>>
		<<if $trauma gte (($traumamax / 5) * 4)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<elseif $trauma gte (($traumamax / 5) * 3)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<elseif $trauma gte (($traumamax / 5) * 2)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<elseif $trauma gte (($traumamax / 5) * 1)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<else>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<</if>>
	<<else>>
		<<if $trauma gte (($traumamax / 5) * 4)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<elseif $trauma gte (($traumamax / 5) * 3)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<elseif $trauma gte (($traumamax / 5) * 2)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<elseif $trauma gte (($traumamax / 5) * 1)>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<<else>>
			<<if $stress gte (($stressmax / 5) * 4)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<elseif $stress gte (($stressmax / 5) * 3)>>

			<<else>>

			<</if>>
		<</if>>
	<</if>>
<</widget>>

<<widget "prostate">><<silently>>
	<<if $player.vaginaExist>>
		<<set _text_output to "womb">>
	<<else>>
		<<set _text_output to "prostate">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "bitch">><<silently>>
	<<if $player.gender_appearance is "m">>
		<<set _text_output to "bitch">>
	<<else>>
		<<set _text_output to "bitch">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "bitch_pirate">><<silently>>
	<<if $player.gender_appearance is "m">>
		<<set _text_output to "dog">>
	<<else>>
		<<set _text_output to "bitch">>
	<</if>>
<</silently>>_text_output<</widget>>


<<widget "bastard">><<silently>>
	<<if $player.gender_appearance is "m">>
		<<set _text_output to "bastard">>
	<<else>>
		<<set _text_output to "whore">>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "tearful">>
	<<if $trauma gte $traumamax>>
		Eyes glazed and empty,
	<<elseif $trauma gte ($traumamax / 5) * 4>>
		<<if $stress gte ($stressmax / 5) * 4>>
			<<if $arousal gte ($arousalmax /5) * 4>>
				<<if $pain gte 100>>
					Tendrils of darkness whip and writhe against your skin as
				<<elseif $pain gte 40>>
					Tendrils of darkness writhe against your skin as
				<<else>>
					A strange mist closes around you and probes your most sensitive spots as
				<</if>>
			<<elseif $arousal gte $arousalmax / 5>>
				<<if $pain gte 100>>
					A mass of darkness follows you, prodding and spanking your behind as
				<<elseif $pain gte 40>>
					You hear phantom voices mocking you as
				<<else>>
					The shadows seem to close in on you as
				<</if>>
			<<else>>
				<<if $pain gte 100>>
					Tendrils of darkness whip and cut at your skin as
				<<elseif $pain gte 40>>
					Tendrils of darkness poke you as
				<<else>>
					You think you see eyes watching from the shadows as
				<</if>>
			<</if>>
		<<elseif $stress gte $stressmax / 5>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				<<if $pain gte 100>>
					Your tortured body and mind yearn for more punishment as
				<<elseif $pain gte 40>>
					Fantasies of violent sex intrude as
				<<else>>
					Your tortured mind yearns for more punishment as
				<</if>>
			<<elseif $arousal gte $arousalmax / 5>>
				<<if $pain gte 100>>
					Surprised that nothing is trying to hurt you,
				<<elseif $pain gte 40>>
					Surprised that nothing is trying to rape you,
				<<else>>
					Surprised that nothing is trying to fuck you,
				<</if>>
			<<else>>
				<<if $pain gte 100>>
					Feeling deserving of the pain you're in,
				<<elseif $pain gte 40>>
					You imagine figures stalking you as
				<<else>>
					You feel like you're being watched as
				<</if>>
			<</if>>
		<<else>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				<<if $pain gte 100>>
					Thoughts about being sexually tortured intrude as
				<<elseif $pain gte 40>>
					Thoughts about being restrained and whipped intrude as
				<<else>>
					Thoughts about being a sex slave intrude as
				<</if>>
			<<elseif $arousal gte $arousalmax / 5>>
				<<if $pain gte 100>>
					Thoughts about being violently raped intrude as
				<<elseif $pain gte 40>>
					Thoughts about being brutally raped intrude as
				<<else>>
					Thoughts about being raped intrude as
				<</if>>
			<<else>>
				<<if $pain gte 100>>
					Feeling entirely deserving of the pain you're in,
				<<elseif $pain gte 40>>
					Though mentally and physically tormented,
				<<else>>
					You feel utterly worthless as
				<</if>>
			<</if>>
		<</if>>
	<<elseif $trauma gte ($traumamax / 5) * 2>>
		<<if $stress gte ($stressmax / 5) * 4>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				<<if $pain gte 100>>
					A part of you savours the pain you're in as
				<<elseif $pain gte 40>>
					Tearful and worried that you're losing your mind,
				<<else>>
					Though worried that you're losing your mind,
				<</if>>
			<<elseif $arousal gte $arousalmax / 5>>
				<<if $pain gte 100>>
					Though afraid something will attack you,
				<<elseif $pain gte 40>>
					Though afraid something will jump you,
				<<else>>
					Feeling on the verge of panic,
				<</if>>
			<<else>>
				<<if $pain gte 100>>
					Though hurt and vulnerable,
				<<elseif $pain gte 40>>
					You feel self-conscious about the tears on your face as
				<<else>>
					You jump at every unexpected movement as
				<</if>>
			<</if>>
		<<elseif $stress gte $stressmax / 5>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				<<if $pain gte 100>>
					Hurt and ashamed,
				<<elseif $pain gte 40>>
					Despite your pain, a primal yearning swells within as
				<<else>>
					Shameful thoughts intrude as
				<</if>>
			<<elseif $arousal gte $arousalmax / 5>>
				<<if $pain gte 100>>
					You hope no one tries to assault you as
				<<elseif $pain gte 40>>
					Though afraid you're being followed,
				<<else>>
					You fear that someone is stalking you as
				<</if>>
			<<else>>
				<<if $pain gte 100>>
					You feel fragile and vulnerable as
				<<elseif $pain gte 40>>
					You sob as
				<<else>>
					You try to keep it together as
				<</if>>
			<</if>>
		<<else>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				<<if $pain gte 100>>
					Feeling ashamed and in pain,
				<<elseif $pain gte 40>>
					Tears cover your ashamed face as
				<<else>>
					Ashamed of the feelings rising within you,
				<</if>>
			<<elseif $arousal gte $arousalmax / 5>>
				<<if $pain gte 100>>
					Your body hurts yet tingles shamefully as
				<<elseif $pain gte 40>>
					You sob at the injustice of it all as
				<<else>>
					Your <<genitals 1>> involuntarily twitches as
				<</if>>
			<<else>>
				<<if $pain gte 100>>
					Feeling lost and in pain,
				<<elseif $pain gte 40>>
					You try and fail to hold back your tears as
				<<else>>
					Shaken,
				<</if>>
			<</if>>
		<</if>>
	<<else>>
		<<if $stress gte ($stressmax / 5) * 4>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				<<if $pain gte 100>>
					You're an emotional wreck as
				<<elseif $pain gte 40>>
					Feeling emotionally and physically tender,
				<<else>>
					Though afraid your body will betray you,
				<</if>>
			<<elseif $arousal gte $arousalmax / 5>>
				<<if $pain gte 100>>
					Hurt and afraid,
				<<elseif $pain gte 40>>
					You struggle to cope with the myriad feelings assailing you as
				<<else>>
					You feel faint as
				<</if>>
			<<else>>
				<<if $pain gte 100>>
					You know you must look like a complete mess as
				<<elseif $pain gte 40>>
					You wonder what you did to deserve this as
				<<else>>
					Though at your wits' end,
				<</if>>
			<</if>>
		<<elseif $stress gte $stressmax / 5>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				<<if $pain gte 100>>
					You feel a primal yearning beneath your pain as
				<<elseif $pain gte 40>>
					Though humiliated by your body's signs of arousal,
				<<else>>
					Though embarrassed by your body's signs of arousal,
				<</if>>
			<<elseif $arousal gte $arousalmax / 5>>
				<<if $pain gte 100>>
					Shaken and hurt,
				<<elseif $pain gte 40>>
					Your body tingles painfully as
				<<else>>
					You feel self-conscious about the lewd warmth within you as
				<</if>>
			<<else>>
				<<if $pain gte 100>>
					<<if $water is 1>>
						Tears streaking away into the water,
					<<else>>
						Face covered in tears,
					<</if>>
				<<elseif $pain gte 40>>
					Feeling battered, but still determined to make the best of things,
				<<else>>
					Still determined to make the best of things,
				<</if>>
			<</if>>
		<<else>>
			<<if $arousal gte ($arousalmax / 5) * 4>>
				<<if $pain gte 100>>
					Your tortured body trembles with arousal as
				<<elseif $pain gte 40>>
					Tears run down your flushed cheeks as
				<<else>>
					Your body trembles with arousal as
				<</if>>
			<<elseif $arousal gte $arousalmax / 5>>
				<<if $pain gte 100>>
					Your body hurts and tingles as
				<<elseif $pain gte 40>>
					Your body feels sensitive as
				<<else>>
					You feel horny as
				<</if>>
			<<else>>
				<<if $pain gte 100>>
					Your whole body hurts as
				<<elseif $pain gte 40>>
					You wipe away your tears as
				<<else>>
					You waste no time as
				<</if>>
			<</if>>
		<</if>>
	<</if>>
<</widget>>

<<widget "slithers">>
	<<rng>>
	<<if $rng gte 95>>
		slithers
	<<elseif $rng gte 90>>
		writhes
	<<elseif $rng gte 85>>
		wriggles
	<<elseif $rng gte 80>>
		wiggles
	<<elseif $rng gte 75>>
		crawls
	<<elseif $rng gte 70>>
		slides
	<<elseif $rng gte 65>>
		slinks
	<<elseif $rng gte 60>>
		glides
	<<elseif $rng gte 55>>
		slips
	<<elseif $rng gte 50>>
		squirms
	<<elseif $rng gte 45>>
		worms
	<<elseif $rng gte 40>>
		twists
	<<elseif $rng gte 35>>
		twitches
	<<elseif $rng gte 30>>
		shivers
	<<elseif $rng gte 25>>
		trembles
	<<elseif $rng gte 20>>
		jerks
	<<elseif $rng gte 15>>
		crawls
	<<elseif $rng gte 10>>
		flutters
	<<elseif $rng gte 5>>
		meanders
	<<elseif $rng gte 0>>
		slips
	<</if>>
<</widget>>

<<widget "slithering">>
	<<rng>>
	<<if $rng gte 95>>
		slithering
	<<elseif $rng gte 90>>
		writhing
	<<elseif $rng gte 85>>
		wriggling
	<<elseif $rng gte 80>>
		wiggling
	<<elseif $rng gte 75>>
		crawling
	<<elseif $rng gte 70>>
		sliding
	<<elseif $rng gte 65>>
		slinking
	<<elseif $rng gte 60>>
		gliding
	<<elseif $rng gte 55>>
		slipping
	<<elseif $rng gte 50>>
		squirming
	<<elseif $rng gte 45>>
		worming
	<<elseif $rng gte 40>>
		twisting
	<<elseif $rng gte 35>>
		twitching
	<<elseif $rng gte 30>>
		shivering
	<<elseif $rng gte 25>>
		trembling
	<<elseif $rng gte 20>>
		jerking
	<<elseif $rng gte 15>>
		crawling
	<<elseif $rng gte 10>>
		fluttering
	<<elseif $rng gte 5>>
		meandering
	<<elseif $rng gte 0>>
		slipping
	<</if>>
<</widget>>

<<widget "wallet">><<silently>>
	<<if !isNaN(_args[0]) and $NPCList[_args[0]] and $NPCList[_args[0]].clothes and $NPCList[_args[0]].clothes.set>>
		<<set $_clothesSet to $NPCList[_args[0]].clothes.set>>
	<</if>>
	<<if $location is "island">>
		<<set _text_output to "clothes">>
	<<elseif ["maleSchoolSwim", "maleSchoolSwimShirt", "femaleSchoolSwim", "maleSwim1", "maleSwim2", "femaleSwim1", "femaleSwim2", "neutralSwim", "divingSuit"].includes($_clothesSet)>>
		<<set _text_output to "swimsuit">>
		<<set $_clothesType to setup.npcClothesSets.find(set => set.name is $_clothesSet)>>
		<<if $_clothesType>>
			<<set _stealType to $_clothesType.type>>
		<</if>>
	<<else>>
		<<set _text_output to ($pronoun is "m" ? "wallet" : "purse")>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "pullupall">>
	<<outfitChecks>>
	<<if _middleOutfit>>
		<<if _underOutfit>>
			You pull down your $worn.upper.name and $worn.under_upper.name, <span class="lewd">baring your <<breasts>>.</span>
		<<elseif !$worn.under_upper.type.includes("naked")>>
			You pull down your $worn.upper.name and pull up your $worn.under_upper.name, <span class="lewd">baring your <<breasts>>.</span>
		<<else>>
			You pull down your $worn.upper.name, <span class="lewd">baring your <<breasts>>.</span>
		<</if>>
	<<elseif !$worn.upper.type.includes("naked")>>
		<<if _underOutfit>>
			You pull up your $worn.upper.name and pull down your $worn.under_upper.name, <span class="lewd">baring your <<breasts>>.</span>
		<<elseif !$worn.under_upper.type.includes("naked")>>
			You pull up your $worn.upper.name and $worn.under_upper.name, <span class="lewd">baring your <<breasts>>.</span>
		<<else>>
			You pull up your $worn.upper.name, <span class="lewd">baring your <<breasts>>.</span>
		<</if>>
	<<else>>
		<<if _underOutfit>>
			You pull down your $worn.under_upper.name, <span class="lewd">baring your <<breasts>>.</span>
		<<elseif !$worn.under_upper.type.includes("naked")>>
			You pull up your $worn.under_upper.name, <span class="lewd">baring your <<breasts>>.</span>
		<<else>>
		<span class="lewd">You bare your <<breasts>>.</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "pulldownall">>
	<<outfitChecks>>
	<<if setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
		<<if setup.clothes.under_lower[clothesIndex('under_lower', $worn.under_lower)].skirt is 1>>
			You lift the hem of your $worn.lower.name and $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
		<<elseif _underOutfit>>
			You lift the hem of your $worn.lower.name and pull aside your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
		<<elseif !$worn.under_lower.type.includes("naked")>>
			You lift the hem of your $worn.lower.name and pull down your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
		<<else>>
			You lift the hem of your $worn.lower.name, <span class="lewd">baring your <<genitals>>.</span>
		<</if>>
	<<elseif _middleOutfit>>
		<<if setup.clothes.under_lower[clothesIndex('under_lower', $worn.under_lower)].skirt is 1>>
			You pull aside your $worn.lower.name and lift the hem of your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
		<<elseif _underOutfit>>
			You pull aside your $worn.lower.name and $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
		<<elseif !$worn.under_lower.type.includes("naked")>>
			You pull aside your $worn.lower.name and pull down your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
		<<else>>
			You pull aside your $worn.lower.name, <span class="lewd">baring your <<genitals>>.</span>
		<</if>>
	<<elseif !$worn.lower.type.includes("naked")>>
		<<if setup.clothes.under_lower[clothesIndex('under_lower', $worn.under_lower)].skirt is 1>>
			You tug down your $worn.lower.name and lift the hem of your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
		<<elseif _middleOutfit>>
			You tug down your $worn.lower.name and pull aside your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
		<<elseif !$worn.under_lower.type.includes("naked")>>
			You tug down your $worn.lower.name and $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
		<<else>>
			You tug down your $worn.lower.name, <span class="lewd">baring your <<genitals>>.</span>
		<</if>>
	<<else>>
		<<if setup.clothes.under_lower[clothesIndex('under_lower', $worn.under_lower)].skirt is 1>>
			You lift the hem of your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
		<<elseif _underOutfit>>
			You pull aside your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
		<<elseif !$worn.under_lower.type.includes("naked")>>
			You tug down your $worn.under_lower.name, <span class="lewd">baring your <<genitals>>.</span>
		<<else>>
			<span class="lewd">You bare your <<genitals>>.</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "pullup">>
	<<outfitChecks>>
	<<if _middleOutfit>>
		pull down
	<<elseif !$worn.upper.type.includes("naked")>>
		pull up
	<<else>>
		bare
	<</if>>
<</widget>>

<<widget "pulldown">>
	<<outfitChecks>>
	<<if setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
		lift up
	<<elseif _middleOutfit is false>>
		pull down
	<<else>>
		bare
	<</if>>
<</widget>>

<<widget "pullsup">>
	<<outfitChecks>>
	<<if _middleOutfit>>
		pulls down
	<<elseif !$worn.upper.type.includes("naked")>>
		pulls up
	<<else>>
		bares
	<</if>>
<</widget>>

<<widget "pullsdown">>
	<<outfitChecks>>
	<<if setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
		lifts up
	<<elseif _middleOutfit is false>>
		pulls down
	<<else>>
		bares
	<</if>>
<</widget>>

<<widget "overpullup">>
	<<outfitChecks>>
	<<if _overOutfit>>
		pull down
	<<elseif !$worn.over_upper.type.includes("naked")>>
		pull up
	<<else>>
		bare
	<</if>>
<</widget>>

<<widget "overpulldown">>
	<<outfitChecks>>
	<<if setup.clothes.over_lower[clothesIndex('over_lower', $worn.over_lower)].skirt is 1>>
		lift up
	<<elseif _overOutfit is false>>
		pull down
	<<else>>
		bare
	<</if>>
<</widget>>

<<widget "overpullsup">>
	<<outfitChecks>>
	<<if _overOutfit>>
		pulls down
	<<elseif !$worn.over_upper.type.includes("naked")>>
		pulls up
	<<else>>
		bares
	<</if>>
<</widget>>

<<widget "overpullsdown">>
	<<outfitChecks>>
	<<if setup.clothes.over_lower[clothesIndex('over_lower', $worn.over_lower)].skirt is 1>>
		lifts up
	<<elseif _overOutfit is false>>
		pulls down
	<<else>>
		bares
	<</if>>
<</widget>>

<<widget "glans">><<silently>>
	<<if $penisuse is 0>>
		<<set _text_output to "glans">>
	<<else>>
		<<set _text_output to "shaft">>
	<</if>>
	<<if playerHasStrapon()>>
		<<set _text_output to "strap-on">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "testicle">><<silently>>
	<<if _args[0] is "clinical">>
		<<set $_pool to ["testicle"]>>
	<<else>>
		<<set $_pool to ["ball", "nut", "testicle"]>>
	<</if>>
	<<set _text_output to $_pool.pluck()>>
<</silently>><<print _text_output>><</widget>>

<<widget "testicles">><<silently>>
	<<if _args[0] is "clinical">>
		<<set $_pool to ["testes", "testicles"]>>
	<<else>>
		<<set $_pool to ["balls", "nuts", "testicles", "testes"]>>
	<</if>>
	<<set _text_output to $_pool.pluck()>>
<</silently>><<print _text_output>><</widget>>

<<widget "ballsize">><<silently>>
	<<switch $ballssize>>
		<<case -2>><<set _text_output to ["invisible"].pluck()>>
		<<case -1>><<set _text_output to ["tiny", "mediocre", "pea-sized"].pluck()>>
		<<case 0>> <<set _text_output to ["tiny", "mediocre"].pluck()>>
		<<case 1>> <<set _text_output to ["small"].pluck()>>
		<<case 2>> <<set _text_output to [""].pluck()>>
		<<case 3>> <<set _text_output to ["large", "heavy", "thick", "dense"].pluck()>>
		<<case 4>> <<set _text_output to ["huge", "heavy", "thick", "massive", "hefty"].pluck()>>
		<<default>><<set _text_output to "Error: $ballssize is [" + $ballssize + "]">>
	<</switch>>
<</silently>><<print _text_output>><</widget>>

<<widget "swimmingdifficultytext0">>
	<<if $statdisable is "f">> |
		<span class="green">These waters look safe</span>
	<</if>>
<</widget>>

<<widget "nexttext">>
	<!-- Unused widget, sort of -->
<</widget>>

<<widget "monk">><<silently>>
	<<if _args[0] is "desc">>
		<<set _text_output to $description + " ">>
		<<set _text_output += ($pronoun is "m" ? "monk" : "nun")>>
	<<else>>		
		<<set _text_output to ($pronoun is "m" ? "monk" : "nun")>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "monks">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "monks" : "nuns")>>
<</silently>><<print _text_output>><</widget>>

<<widget "monks_and_nuns">><<silently>>
	<<if maleChance() is 100>>
		<<set _text_output to "monks">>
	<<elseif maleChance() is 0>>
		<<set _text_output to "nuns">>
	<<else>>
		<<set _text_output to "monks and nuns">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "Monks_and_Nuns">><<silently>>
	<<if maleChance() is 100>>
		<<set _text_output to "monks">>
	<<elseif maleChance() is 0>>
		<<set _text_output to "nuns">>
	<<else>>
		<<set _text_output to "monks and nuns">>
	<</if>><<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "brothers_and_sisters">><<silently>>
	<<if maleChance() is 100>>
		<<set _text_output to "brothers">>
	<<elseif maleChance() is 0>>
		<<set _text_output to "sisters">>
	<<else>>
		<<set _text_output to "brothers and sisters">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "monkapo">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "monk's" : "nun's")>>
<</silently>><<print _text_output>><</widget>>

<<widget "priest">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "priest" : "priestess")>>
<</silently>><<print _text_output>><</widget>>

<<widget "priests">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "priests" : "priestesses")>>
<</silently>><<print _text_output>><</widget>>

<<widget "priestapo">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "priest's" : "priestess'")>>
<</silently>><<print _text_output>><</widget>>

<<widget "bishop">><<silently>>
	<<if $temple_confessor_intro>>
		<<set _text_output to "bishop">>
	<<else>>
		<<set _text_output to ($pronoun is "m" ? "priest" : "priestess")>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "bishop_hands">><<silently>>
	<<if $temple_confessor_intro and _args[0] isnot "long">>
		<<set _text_output to "bishop's hands">>
	<<elseif $per_npc.bishop_right_hand>>
		<<if $per_npc.bishop_right_hand.pronoun is "m" and $per_npc.bishop_left_hand.pronoun is "m">>
			<<set _text_output to "priests">>
		<<elseif $per_npc.bishop_right_hand.pronoun is "f" and $per_npc.bishop_left_hand.pronoun is "f">>
			<<set _text_output to "priestesses">>
		<<else>>
			<<set _text_output to "priest and priestess">>
		<</if>>
	<<else>>
		<<set _text_output to "dark-robed pair">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "vaginalvirginitywarning">>
	<<if $player.virginity.vaginal is true and $statdisable is "f">>
		<<if !$combat>> | <</if>>
		<span class="red">This action will deflower you.</span>
	<</if>>
<</widget>>

<<widget "penilevirginitywarning">>
	<<if playerHasStrapon()>>
		<!-- do nothing -->
	<<elseif $player.virginity.penile is true and $statdisable is "f">>
		<<if !$combat>> | <</if>>
		<span class="red">This action will deflower you.</span>
	<</if>>
<</widget>>

<<widget "analvirginitywarning">>
	<<if $player.virginity.anal is true and $statdisable is "f">>
		<<if !$combat>> | <</if>>
		<span class="red">This action will take your anal virginity.</span>
	<</if>>
<</widget>>

<<widget "oralvirginitywarning">>
	<<if $player.virginity.oral is true and $statdisable is "f">>
		<<if !$combat>> | <</if>>
		<span class="red">This action will take your oral virginity.</span>
	<</if>>
<</widget>>

<<widget "handholdingvirginitywarning">>
	<<if $player.virginity.handholding is true and $statdisable is "f">>
		<<if !$combat>> | <</if>>
		<span class="red">This action will take your handholding virginity.</span>
	<</if>>
<</widget>>

<<widget "kissvirginitywarning">>
	<<if $player.virginity.kiss is true and $statdisable is "f">>
		<<if !$combat>> | <</if>>
		<span class="red">This action will take your first kiss.</span>
	<</if>>
<</widget>>

/* Argument 0 is the npc, argument 1 is their virginity. */
<<widget "NPCvirginitywarning">>
	<<if $NPCNameList.indexOf(_args[0]) >= 0 and $NPCName[$NPCNameList.indexOf(_args[0])].virginity[_args[1]] is true and $statdisable is "f">>
		<<if $options.combatControls.includes("ists")>>
			<br>
		<</if>>
		<<switch _args[1]>>
			<<case "vaginal">>
				<span class="red"> This action will deflower <<him>>.</span>
			<<case "penile">>
				<<if !npcHasStrapon(V.NPCList.findIndex(npc => npc.fullDescription === _args[0]))>>
					<span class="red"> This action will deflower <<him>>.</span>
				<</if>>
			<<case "anal">>
				<span class="red"> This action will take <<his>> anal virginity.</span>
			<<case "oral">>
				<span class="red"> This action will take <<his>> oral virginity.</span>
			<<case "kiss">>
				<span class="red"> This action will take <<his>> first kiss.</span>
			<<case "handholding">>
				<span class="red"> This action will take <<his>> handholding virginity.</span>
			<<default>>
		<</switch>>
	<</if>>
<</widget>>

<<widget "wolfgirl">>
	<<if $statdisable is "f">> |
		<span class="blue"><<print ($player.gender_appearance is "m" ? "Wolfboy" : "Wolfgirl")>></span>
	<</if>>
<</widget>>

<<widget "cat">>
	<<if $statdisable is "f">> |
		<span class="blue">Cat</span>
	<</if>>
<</widget>>

<<widget "cow">>
	<<if $statdisable is "f">> |
		<span class="blue">Cow</span>
	<</if>>
<</widget>>

<<widget "harpy">>
	<<if $statdisable is "f">> |
		<<if $hallucinations gte 2 or $bestialitydisable is "t">>
			<span class="gold">Harpy</span>
		<<else>>
			<span class="gold">Bird</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "fox">>
	<<if $statdisable is "f">> |
		<span class="orange"><<print ($player.gender_appearance is "m" ? "Foxboy" : "Foxgirl")>></span>
	<</if>>
<</widget>>

/* 北极星模组 */
<<widget "bee">>
	<<if $statdisable is "f">> |
		<span class="gold">蜜蜂</span>
	<</if>>
<</widget>>

<<widget "deer">>
	<<if $statdisable is "f">> |
		<span class="orange">鹿</span>
	<</if>>
<</widget>>

<<widget "bear">>
	<<if $statdisable is "f">> |
		<span class="blue">熊</span>
	<</if>>
<</widget>>

<<widget "sheep">>
	<<if $statdisable is "f">> |
		<span class="gold">羊</span>
	<</if>>
<</widget>>

<<widget "raccoon">>
	<<if $statdisable is "f">> |
		<span class="gold">浣熊</span>
	<</if>>
<</widget>>

<<widget "fish">>
	<<if $statdisable is "f">> |
		<span class="lblue">鱼</span>
	<</if>>
<</widget>>

<<widget "horse">>
	<<if $statdisable is "f">> |
		<span class="gold">马</span>
	<</if>>
<</widget>>

<<widget "spider">>
	<<if $statdisable is "f">> |
		<span class="gold">蜘蛛</span>
	<</if>>
<</widget>>

<<widget "frog">>
	<<if $statdisable is "f">> |
		<span class="gold">青蛙</span>
	<</if>>
<</widget>>

<<widget "pig">>
	<<if $statdisable is "f">> |
		<span class="gold">猪</span>
	<</if>>
<</widget>>

<<widget "dragon">>
	<<if $statdisable is "f">> |
        <span class="blue">龙</span>
    <</if>>
<</widget>>

<<widget "dolphin">>
	<<if $statdisable is "f">> |
        <span class="blue">海豚</span>
    <</if>>
<</widget>>

<<widget "dog">>
	<<if $statdisable is "f">> |
        <span class="blue">狗</span>
    <</if>>
<</widget>>
/* 北极星 */

<<widget "angel">>
	<<if $statdisable is "f">> |
		<span class="gold">Angel</span>
	<</if>>
<</widget>>

/* 北极星模组 */
<<widget "fallenangel">>
	<<if $statdisable is "f">> |
		<<if $fallenangel gte 5>>
    		<span class="grey">混沌天使</span>
        <<else>>
            <span class="black">堕天使</span>
    	<</if>>
	<</if>>
<</widget>>
/* 北极星 */

<<widget "demon">>
	<<if $statdisable is "f">> |
		<span class="red">Demon</span>
	<</if>>
<</widget>>

/* 北极星模组 */
<<widget "demonhunter">>
	<<if $statdisable is "f">> |
		<span class="lustful">恶魔猎手</span>
	<</if>>
<</widget>>

<<widget "ghost">>
    <<if $statdisable is "f">> |
        <span class="wraith">幽灵</span>
	<</if>>
<</widget>>

<<widget "slime">>
    <<if $statdisable is "f">> |
        <span class="green">史莱姆</span>
	<</if>>
<</widget>>

<<widget "mushroom">>
    <<if $statdisable is "f">> |
        <span class="yellow">蘑菇</span>
	<</if>>
<</widget>>
/* 北极星 */

<<widget "sharp_eyes">>
	<<if $statdisable is "f">> |
		<span class="gold">Sharp eyes</span>
	<</if>>
<</widget>>

<<widget "laughs">><<silently>>
	<<rng>>
	<<if $npcadult isnot 1>>
		<<set _text_output to either("giggles", "laughs")>>
	<<elseif $pronoun is "f">> <!-- female adult -->
		<<set _text_output to either("giggles", "chuckles", "laughs")>>
	<<else>> <!-- male adult -->
		<<set _text_output to either("chuckles", "laughs")>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "cursedtext">>
	<<if (_args[0] or _args[1]) is "collar">>
		<span class="blue">Perhaps the police can help.</span>
	<<elseif (_args[0] or _args[1]) is "chastity belt">>
		<span class="blue">Perhaps the temple can help.</span>
	<</if>>
<</widget>>

<<widget "randomteacher">><<silently>>
	<<set $_teacherNames to ["Sirris","River","Doren","Winter","Mason"].filter(name => $NPCName[$NPCNameList.indexOf(name)].init is 1)>>
	<<set _text_output to ($_teacherNames.length gte 1 ? $_teacherNames.random() : "a teacher")>>
<</silently>><<print _text_output>><</widget>>

<<widget "skincolourtext">>
	<<switch $skinColor.natural>>
		<<case "light" "ylight">>
			light
		<<case "medium" "ymedium">>
			medium
		<<case "dark" "ydark">>
			dark
		<<case "gyaru" "ygyaru">>
			<<set _textOverride to true>>
		/* 北极星模组 */
		<<case "ghostly">>
			苍白的
		<<case "slimy">>
			古怪的
		<<case "amethyst">>
			奇异的
		<<case "chilly">>
			纯净的
		<<case "dusky">>
			暗淡的
		/* 北极星 */
	<</switch>>
	<<if _textOverride is true>>
		<<if $skinColor.tanValues[0] gte 66>>
			dark
		<<elseif $skinColor.tanValues[0] gte 33>>
			medium
		<<else>>
			light
		<</if>>
		skin colour.
	<<elseif $skinColor.tanValues[0] gte 80>> skin colour with a dark tan.
	<<elseif $skinColor.tanValues[0] gte 60>> skin colour with a medium tan.
	<<elseif $skinColor.tanValues[0] gte 30>> skin colour with a tan.
	<<elseif $skinColor.tanValues[0] gte 10>> skin colour with a light tan.
	<<else>> skin colour.
	<</if>>
<</widget>>

<<widget "gtanned">>
	<<if $statdisable is "f">> |
		<span class="green">+ Tan</span>
	<</if>>
<</widget>>

<<widget "ggtanned">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Tan</span>
	<</if>>
<</widget>>

<<widget "gggtanned">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Tan</span>
	<</if>>
<</widget>>

<<widget "beasttype">><<silently>>
	<<if typeof _args[0] is "number">>
		<<set _na to _args[0]>>
	<<else>>
		<<set _na to 0>>
	<</if>>
	<<set _text_output to $NPCList[_na].type>>
<</silently>><<print _text_output>><</widget>>

<<widget "beasttypes">> <<beasttype>>'s<</widget>>

<<widget "beastsplural">><<silently>>
	<<if typeof _args[0] is "number">>
		<<set _na to _args[0]>>
	<<else>>
		<<set _na to 0>>
	<</if>>
	<<if $NPCList[_na].type is "wolf" and $monster isnot 1>>
		<<set _text_output to "wolves">>
	<<elseif $NPCList[_na].type is "fox" and $monster isnot 1>>
		<<set _text_output to "foxes">>
	<<elseif $NPCList[_na].type is "harpy">>
		<<set _text_output to "harpies">>
	<<elseif $monster isnot 1 or $NPCList[_na].type is "centaur">>
		<<set _text_output to "<<beasttype _na>>s">>
	<<else>>
		<<for _i = 0; _i < $NPCList.length; _i++>>
			<<if $NPCList[_i].pronoun is "m">>
				<<set _malespresent to true>>
			<</if>>
			<<if $NPCList[_i].pronoun is "f">>
				<<set _femalespresent to true>>
			<</if>>
		<</for>>
		<<if (_malespresent isnot true or _femalespresent isnot true)>>
			<<set _text_output to "<<beasttype>>s">>
		<<elseif !$NPCList[2].pronoun>>
			<<set _text_output to "$NPCList[0].type and $NPCList[1].type">>
		<<else>>
			<<switch $NPCList[_na].type>>
				<<case "lizardgirl" "lizardboy">><<set _text_output to "lizardgirls and lizardboys">>
				<<case "wolfgirl" "wolfboy">><<set _text_output to "wolfgirls and wolfboys">>
				<<case "doggirl" "dogboy">><<set _text_output to "doggirls and dogboys">>
				<<case "dolphingirl" "dolphinboy">><<set _text_output to "dolphingirls and dolphinboys">>
				<<case "beargirl" "bearboy">><<set _text_output to "beargirls and bearboys">>
				<<case "catgirl" "catboy">><<set _text_output to "catgirls and catboys">>
				<<case "piggirl" "pigboy">><<set _text_output to "piggirls and pigboys">>
				<<case "boargirl" "boarboy">><<set _text_output to "boargirls and boarboys">>
				<<case "cowgirl" "bullboy">><<set _text_output to "cowgirls and bullboys">>
				<<case "foxgirl" "foxboy">><<set _text_output to "foxgirls and foxboys">>
				<<case "spidergirl" "spiderboy">><<set _text_output to "spidergirls and spiderboys">>
				/* 北极星模组 */
				<<case "sheepgirl" "ramboy">><<set _text_output to "羊女孩和羊男孩">>
				<<case "deergirl" "stagboy">><<set _text_output to "鹿女孩和鹿男孩">>
				<<case "beegirl" "beeboy">><<set _text_output to "蜜蜂女孩和蜜蜂男孩">>
				<<case "dragongirl" "dragonboy">><<set _text_output to "龙女孩和龙男孩">>
				<<case "raccoongirl" "raccoonboy">><<set _text_output to "浣熊女孩和浣熊男孩">>
				/* 北极星 */
				<<default>><<set _text_output to "creatures">>
			<</switch>>
		<</if>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "slut">><<silently>>
	<<set _text_output to ($player.gender_appearance is "m" ? "pervert" : "slut")>>
<</silently>><<print _text_output>><</widget>>

<<widget "tending_text">>
	<<set $_tendingText to currentSkillValue('tending')>>
	<<if $_tendingText gte 1200>>
		<span class="gold">You're incredible at this.</span>
	<<elseif $_tendingText gte 800>>
		<span class="green">You're great at this.</span>
	<<elseif $_tendingText gte 600>>
		<span class="teal">You're good at this.</span>
	<<elseif $_tendingText gte 400>>
		<span class="lblue">You're okay at this.</span>
	<<elseif $_tendingText gte 200>>
		<span class="blue">You're getting the hang of this.</span>
	<<else>>
		<span class="purple">You muddle through.</span>
	<</if>>
<</widget>>

<<widget "housekeeping_text">>
<<set $_housekeepingText to currentSkillValue('housekeeping')>>
<<if $_housekeepingText gte 1200>>
	<span class="gold">You're incredible at this.</span>
<<elseif $_housekeepingText gte 800>>
	<span class="green">You're great at this.</span>
<<elseif $_housekeepingText gte 600>>
	<span class="teal">You're good at this.</span>
<<elseif $_housekeepingText gte 400>>
	<span class="lblue">You're okay at this.</span>
<<elseif $_housekeepingText gte 200>>
	<span class="blue">You're getting the hang of this.</span>
<<else>>
	<span class="purple">You muddle through.</span>
<</if>>
<</widget>>

<<widget "wordify_i">>
	<<switch _args[0]>>
		<<case 0>>
			<<set _text_output to "first">>
		<<case 1>>
			<<set _text_output to "second">>
		<<case 2>>
			<<set _text_output to "third">>
		<<case 3>>
			<<set _text_output to "fourth">>
		<<case 4>>
			<<set _text_output to "fifth">>
		<<case 5>>
			<<set _text_output to "sixth">>
		<<case 6>>
			<<set _text_output to "seventh">>
		<<case 7>>
			<<set _text_output to "eighth">>
		<<case 8>>
			<<set _text_output to "ninth">>
		<<case 9>>
			<<set _text_output to "tenth">>
	<</switch>>
	<<if _text_output is undefined>>
		<<set _text_output to "eleventh">>
	<</if>>
	<<if _args[1]>>
		<<capitalise>>
	<<else>>
		<<print _text_output>>
	<</if>>
<</widget>>

<<widget "threaten">>
	<<rng>>
	<<if $NPCList[_n].pronoun is "m">>
		<<if $NPCList[_n].penis isnot "none">>
			<<if $player.gender_appearance is "m">>
				<<if $rng gte 81>>
					"I'm gonna fuck your ass until you squeal."
				<<elseif $rng gte 61>>
					"I'm gonna make you my bitch."
				<<elseif $rng gte 41>>
					"You'll be worshipping my cock when I'm done with you."
				<<elseif $rng gte 21>>
					"I'm gonna make you my new cock sleeve."
				<<else>>
					"I'm gonna fill that ass of yours."
				<</if>>
			<<else>>
				<<if $rng gte 81>>
					"I'm gonna fuck your pussy until you squeal."
				<<elseif $rng gte 61>>
					"I'm gonna make you my bitch."
				<<elseif $rng gte 41>>
					"You'll be worshipping my cock when I'm done with you."
				<<elseif $rng gte 21>>
					"I'm gonna fuck every one of your holes."
				<<else>>
					"I'm gonna make you my new cock sleeve."
				<</if>>
			<</if>>
		<<else>>
			<<if $player.gender_appearance is "m">>
				<<if $rng gte 81>>
					"I'm gonna ride you until you pass out."
				<<elseif $rng gte 61>>
					"I'm gonna bully your cock into submission."
				<<elseif $rng gte 41>>
					"I'm gonna drain you empty."
				<<elseif $rng gte 21>>
					"Your cock will be sore when I'm through with you."
				<<else>>
					"You're gonna service my pussy in and every way I require."
				<</if>>
			<<else>>
				<<if $rng gte 81>>
					"I'm gonna fuck you until you squeal."
				<<elseif $rng gte 61>>
					"I'm gonna bully your pussy into submission."
				<<elseif $rng gte 41>>
					"You're gonna service my pussy in any and every way I require."
				<<elseif $rng gte 21>>
					"You're gonna get me off any way you can."
				<<else>>
					"I'm gonna dominate every part of you."
				<</if>>
			<</if>>
		<</if>>
	<<else>>
		<<if $NPCList[_n].penis isnot "none">>
			<<if $player.gender_appearance is "m">>
				<<if $rng gte 81>>
					"I'm gonna fuck your ass until you squeal."
				<<elseif $rng gte 61>>
					"I'm gonna make you my bitch."
				<<elseif $rng gte 41>>
					"You'll be worshipping my cock when I'm done with you."
				<<elseif $rng gte 21>>
					"I'm gonna make you my new cock sleeve."
				<<else>>
					"I'm gonna fill that ass of yours."
				<</if>>
			<<else>>
				<<if $rng gte 81>>
					"I'm gonna fuck your pussy until you squeal."
				<<elseif $rng gte 61>>
					"I'm gonna make you my bitch."
				<<elseif $rng gte 41>>
					"You'll be worshipping my cock when I'm done with you."
				<<elseif $rng gte 21>>
					"I'm gonna fuck every one of your holes."
				<<else>>
					"I'm gonna make you my new cock sleeve."
				<</if>>
			<</if>>
		<<else>>
			<<if $player.gender_appearance is "m">>
				<<if $rng gte 81>>
					"I'm gonna ride you until you pass out."
				<<elseif $rng gte 61>>
					"I'm gonna bully your cock into submission."
				<<elseif $rng gte 41>>
					"I'm gonna drain you empty."
				<<elseif $rng gte 21>>
					"Your cock will be sore when I'm through with you."
				<<else>>
					"I need your cum. All of it."
				<</if>>
			<<else>>
				<<if $rng gte 81>>
					"I'm gonna fuck you until you squeal."
				<<elseif $rng gte 61>>
					"I'm gonna bully your pussy into submission."
				<<elseif $rng gte 41>>
					"You're gonna service my pussy in any and every way I require."
				<<elseif $rng gte 21>>
					"You're gonna get me off any way you can."
				<<else>>
					"I'm gonna dominate every part of you."
				<</if>>
			<</if>>
		<</if>>
	<</if>>
<</widget>>

<<widget "voice">>
	<<switch _args[0]>>
		<<case "plead">>
			<<if $pain lte 60>>
				<<if $rng lte 33>>
					<<set _text_output to "plead">>
				<<elseif $rng lte 66>>
					<<set _text_output to "beg">>
				<<elseif $wolfgirl gte 4>>
					<<set _text_output to "whimper">>
				<<elseif $cat gte 4>>
					<<set _text_output to "mewl">>
				<<elseif $cow gte 4>>
					<<set _text_output to "moo">>
				<<elseif $harpy gte 4>>
					<<set _text_output to "chirp">>
				<<elseif $fox gte 4>>
					<<set _text_output to "whimper">>
				/* 北极星模组 */
				<<elseif $sheep gte 4>>
					<<set _text_output to "咩咩叫着">>
				<<elseif $bee gte 4>>
					<<set _text_output to "发出嗡嗡声">>
				<<elseif $deer gte 4>>
					<<set _text_output to "喷鼻息">>
				<<elseif $bear gte 4>>
					<<set _text_output to "呜咽着">>
				<<elseif $frog gte 4>>
					<<set _text_output to "呱呱叫着">>
				<<elseif $spider gte 4>>
					<<set _text_output to "唧唧喳喳叫着">>
				<<elseif $pig gte 4>>
					<<set _text_output to "尖锐地叫着">>
				<<elseif $raccoon gte 4>>
					<<set _text_output to "唧唧喳喳叫着">>
				<<elseif $horse gte 6>>
					<<set _text_output to "嘶叫着">>
				<<elseif $dragon gte 6>>
					<<set _text_output to "低声咆哮着">>
				/* 北极星 */
				<<else>>
					<<set _text_output to "plead">>
				<</if>>
			<<else>>
				<<if $rng lte 50>>
					<<set _text_output to "cry and plead">>
				<<else>>
					<<set _text_output to "weep and plead">>
				<</if>>
			<</if>>
		<<case "moan">>
			<<if $rng lte 25>>
				<<if $arousal lte ($arousalmax / 5) * 3>>
					<<set _text_output to "moan">>
				<<else>>
					<<set _text_output to "gasp and moan">>
				<</if>>
			<<elseif $rng lte 50>>
				<<set _text_output to "murmur">>
			<<elseif $rng lte 75>>
				<<if $arousal lte ($arousalmax / 5) * 3>>
					<<set _text_output to "giggle">>
				<<else>>
					<<set _text_output to "gasp and giggle">>
				<</if>>
			<<elseif $wolfgirl gte 4>>
				<<set _text_output to "pant">>
			<<elseif $cat gte 4>>
				<<set _text_output to "purr">>
			<<elseif $cow gte 4>>
				<<set _text_output to "moo">>
			<<elseif $harpy gte 4>>
				<<set _text_output to "chirp">>
			<<elseif $fox gte 4>>
				<<set _text_output to "yipp">>
			/* 北极星模组 */
			<<elseif $sheep gte 4>>
				<<set _text_output to "咩咩叫着">>
			<<elseif $bee gte 4>>
				<<set _text_output to "发出嗡嗡声">>
			<<elseif $deer gte 4>>
				<<set _text_output to "喷鼻息">>
			<<elseif $horse gte 6>>
				<<set _text_output to "嘶叫着">>
			<<elseif $raccoon gte 4>>
				<<set _text_output to "舒服的咕噜着">>
			<<elseif $bear gte 4>>
				<<set _text_output to "发出咕噜声">>
			<<elseif $dragon gte 6>>
				<<set _textoutput to "龙吟着">>
			/* 北极星 */
			<<else>>
				<<set _text_output to "moan">>
			<</if>>
		<<case "demand">>
			<<if $arousal lte ($arousalmax / 5) * 3>>
				<<if $rng lte 33>>
					<<set _text_output to "speak">>
				<<elseif $rng lte 66>>
					<<set _text_output to "yell">>
				<<elseif $wolfgirl gte 4>>
					<<set _text_output to "bark">>
				<<elseif $cat gte 4>>
					<<set _text_output to "hiss">>
				<<elseif $cow gte 4>>
					<<set _text_output to "exhale through your nostrils threateningly">>
				<<elseif $harpy gte 4>>
					<<set _text_output to "screech">>
				<<elseif $fox gte 4>>
					<<set _text_output to "scream">>
				/* 北极星模组 */
				<<elseif $sheep gte 4>>
					<<set _text_output to "嚣张地叫嚣着">>
				<<elseif $bee gte 4>>
					<<set _text_output to "发出威胁性的嗡嗡声">>
				<<elseif $deer gte 4>>
					<<set _text_output to "喷出生气的鼻息">>
				<<elseif $horse gte 4>>
					<<set _text_output to "喷出生气的鼻息">>
				<<elseif $raccoon gte 4>>
					<<set _text_output to "怒吼着">>
				<<elseif $bear gte 4>>
					<<set _text_output to "怒吼着">>
				<<elseif $dragon gte 6>>
					<<set _text_output to "咆哮着">>
				/* 北极星 */
				<<else>>
					<<set _text_output to "spit">>
				<</if>>
			<<elseif $rng lte 50>>
				<<set _text_output to "gasp">>
			<<else>>
				<<set _text_output to "growl">>
			<</if>>
		<<default>>
			<<set _text_output to "try to speak, but hiccup instead. This is a bug, Please report to Vrelnir" + (_args[0] isnot undefined ? _args[0] : "undefined")>>
	<</switch>>
	<<print _text_output>>
<</widget>>

<<widget "vagina_lube_amount">>
	<<if _vagina_lube_amount gte 12>>
		<span class="red">copious</span> amounts
	<<elseif _vagina_lube_amount gte 8>>
		<span class="pink">ample</span> amounts
	<<elseif _vagina_lube_amount gte 5>>
		<span class="pink">large amount</span>
	<<elseif _vagina_lube_amount gte 3>>
		<span class="purple">fair</span> amount
	<<elseif _vagina_lube_amount gte 2>>
		<span class="purple">meager</span> amount
	<<else>>
		<span class="purple">paltry</span> amount
	<</if>>
<</widget>>

<<widget "anus_lube_amount">>
	<<if _anus_lube_amount gte 12>>
		<span class="red">copious</span> amounts
	<<elseif _anus_lube_amount gte 8>>
		<span class="pink">ample</span> amounts
	<<elseif _anus_lube_amount gte 5>>
		<span class="pink">large amount</span>
	<<elseif _anus_lube_amount gte 3>>
		<span class="purple">fair</span> amount
	<<elseif _anus_lube_amount gte 2>>
		<span class="purple">meager</span> amount
	<<else>>
		<span class="purple">paltry</span> amount
	<</if>>
<</widget>>

<<widget "penis_lube_amount">>
	<<if _penis_lube_amount gte 10>>
		<span class="red">copious</span> amounts
	<<elseif _penis_lube_amount gte 6>>
		<span class="pink">ample</span> amounts
	<<elseif _penis_lube_amount gte 4>>
		<span class="pink">large amount</span>
	<<elseif _penis_lube_amount gte 3>>
		<span class="purple">fair</span> amount
	<<elseif _penis_lube_amount gte 2>>
		<span class="purple">meager</span> amount
	<<else>>
		<span class="purple">paltry</span> amount
	<</if>>
<</widget>>

<<widget "vagina_lube_text">>
	<<set _vagina_lube_amount to setup.bodyliquid.combined("vagina") + setup.bodyliquid.combined("vaginaoutside") + Math.max(0, $vaginaArousalWetness - 60) / 5>>
	<<if _vagina_lube_amount lte 0>>
		Despite how dry you are,
	<<else>>
		Aided by the <<vagina_lube_amount>> of lubricating fluid,
	<</if>>
<</widget>>

<<widget "anus_lube_text">>
	<<set _anus_lube_amount to setup.bodyliquid.combined("anus") + setup.bodyliquid.combined("bottom")>>
	<<if _anus_lube_amount lte 0>>
		Despite the lack of lubrication,
	<<else>>
		Aided by the <<anus_lube_amount>> of lubricating fluid,
	<</if>>
<</widget>>

<<widget "penis_lube_text">>
	<<set _penis_lube_amount to setup.bodyliquid.combined("penis")>>
	<<if _penis_lube_amount lte 0>>
		Despite the lack of lubrication,
	<<else>>
		Aided by the <<penis_lube_amount>> of lubricating fluid,
	<</if>>
<</widget>>

<<widget "small_text">>
	<<if $statdisable is "f">> |
		<<if $physiquesize lte 6000>>
			<span class="teal">Tiny Body</span>
		<<elseif $physiquesize lte 10000>>
			<span class="teal">Small Body</span>
		<<elseif $physiquesize lte 12000>>
			<span class="teal">Not too big</span>
		<<else>>
			<span class="teal">Not too big</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "large_text">>
		<<if $statdisable is "f">> |
		<<if $physiquesize gte 16000>>
			<span class="teal">Large Body</span>
		<<elseif $physiquesize gte 12000>>
			<span class="teal">Normal Body</span>
		<<elseif $physiquesize gte 10000>>
			<span class="teal">Not too small</span>
		<<else>>
			<span class="teal">Not too small</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "body_size_text">>
	<<switch $physiquesize>>
		<<case lte 6000>>
			<<set _text_output to either("tiny", "dainty", "petite", "minuscule", "delicate") + " ">>
		<<case lte 10000>>
			<<set _text_output to either("short", "small", "little", "smallish") + " ">>
		<<case lte 12000>>
			<<set _text_output to either("average", "normal", "regular") + " ">>
		<<case lte 16000>>
			<<set _text_output to either("tall", "strong", "powerful", "large") + " ">>
		<<default>>
	<</switch>>
	<<set _text_output to _text_output + either("body","frame","anatomy", "torso")>>
	<<print _text_output>>
<</widget>>

<<widget "monster_passage">>
	<!-- Unused widget -->
	<<if _monster_passage is undefined>>
		<<if ($monsterchance gte 1 and $hallucinations gte 1) or ($monsterchance gte 1 and $monsterhallucinations is "f")>>
			<<if maleChance() gte 100>>
				<<set _monster_passage to "m">>
			<<elseif maleChance() lte 0>>
				<<set _monster_passage to "f">>
			<<else>>
				<<set _monster_passage to "b">>
			<</if>>
		<<else>>
			<<set _monster_passage to "n">>
		<</if>>
	<</if>>
<</widget>>

<<widget "farm_text_many">>
	<<set $_bgender to $farm_work[_args[0]].gender_plural>>
	<<set $_bperson to ($farm_work[_args[0]].monster_roll is true and ($hallucinations gte 1 or $monsterhallucinations is "f"))>>
	<<if _args[0] is "horse">>
		<<if $_bperson>>
			<<set _text_output to "centaurs">>
		<<else>>
			<<set _text_output to "horses">>
		<</if>>
	<<elseif _args[0] is "pig">>
		<<if $_bperson>>
			<<if $_bgender is "m">>
				<<set _text_output to "pigboys">>
			<<elseif $_bgender is "f">>
				<<set _text_output to "piggirls">>
			<<else>>
				<<set _text_output to "piggirls and pigboys">>
			<</if>>
		<<else>>
			<<set _text_output to "pigs">>
		<</if>>
	<<elseif _args[0] is "dog">>
		<<if $_bperson>>
			<<if $_bgender is "m">>
				<<set _text_output to "dogboys">>
			<<elseif $_bgender is "f">>
				<<set _text_output to "doggirls">>
			<<else>>
				<<set _text_output to "doggirls and dogboys">>
			<</if>>
		<<else>>
			<<set _text_output to "dogs">>
		<</if>>
	<<else>>
		<<if $_bperson>>
			<<if $_bgender is "m">>
				<<set _text_output to "bullboys">>
			<<elseif $_bgender is "f">>
				<<set _text_output to "cowgirls">>
			<<else>>
				<<set _text_output to "cowgirls and bullboys">>
			<</if>>
		<<else>>
			<<set _text_output to "cattle">>
		<</if>>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "farm_text">>
	<<set $_bgender to $farm_work[_args[0]].gender>>
	<<set $_bperson to ($farm_work[_args[0]].monster_roll is true and ($hallucinations gte 1 or $monsterhallucinations is "f"))>>
	<<if _args[0] is "horse">>
		<<if $_bperson>>
			<<set _text_output to "centaur">>
		<<else>>
			<<set _text_output to "horse">>
		<</if>>
	<<elseif _args[0] is "pig">>
		<<if $_bperson>>
			<<set _text_output to ($_bgender is "m" ? "pigboy" : "piggirl")>>
		<<else>>
			<<set _text_output to "pig">>
		<</if>>
	<<elseif _args[0] is "dog">>
		<<if $_bperson>>
			<<set _text_output to ($_bgender is "m" ? "dogboy" : "doggirl")>>
		<<else>>
			<<set _text_output to "dog">>
		<</if>>
	<<else>>
		<<if $_bperson>>
			<<set _text_output to ($_bgender is "m" ? "bullboy" : "cowgirl")>>
		<<else>>
			<<set _text_output to ($_bgender is "m" ? "bull" : "cow")>>
		<</if>>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "farm_he">>
	<<if $farm_work[_args[0]].monster>>
		<<if $farm_work[_args[0]].gender is "m">>
			<<set _text_output to "he">>
		<<else>>
			<<set _text_output to "she">>
		<</if>>
	<<else>>
		<<set _text_output to "it">>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "farm_He">>
	<<if $farm_work[_args[0]].monster>>
		<<if $farm_work[_args[0]].gender is "m">>
			<<set _text_output to "He">>
		<<else>>
			<<set _text_output to "She">>
		<</if>>
	<<else>>
		<<set _text_output to "It">>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "farm_him">>
	<<if $farm_work[_args[0]].monster>>
		<<if $farm_work[_args[0]].gender is "m">>
			<<set _text_output to "him">>
		<<else>>
			<<set _text_output to "her">>
		<</if>>
	<<else>>
		<<set _text_output to "it">>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "farm_his">>
	<<if $farm_work[_args[0]].monster>>
		<<if $farm_work[_args[0]].gender is "m">>
			<<set _text_output to "his">>
		<<else>>
			<<set _text_output to "her">>
		<</if>>
	<<else>>
		<<set _text_output to "its">>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "farm_His">>
	<<if $farm_work[_args[0]].monster>>
		<<if $farm_work[_args[0]].gender is "m">>
			<<set _text_output to "His">>
		<<else>>
			<<set _text_output to "Her">>
		<</if>>
	<<else>>
		<<set _text_output to "Its">>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "master">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "master" : "mistress")>>
<</silently>>_text_output<</widget>>

<<widget "Master">><<silently>>
	<<master>><<capitalise>>
<</silently>>_text_output<</widget>>

<<widget "daughter">><<silently>>
	<<set _text_output to ($pronoun is "m" ? "son" : "daughter")>>
<</silently>>_text_output<</widget>>


<!-- Proper usage example: <<nnpc_he "Robin">> would return "he" or "she" based on Robin's pronoun. -->
<!-- Useful for needing to call a named NPC's pronoun in a scene that doesn't directly include them, or for more efficient usage in scenes with multiple named NPCs. -->

<<widget "nnpc_he">><<silently>>
	<<set _npcPronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<<set _text_output to (_npcPronoun is "m" ? "he" : "she")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_He">><<silently>>
	<<nnpc_he _args[0]>><<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_him">><<silently>>
	<<set _npcPronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<<set _text_output to (_npcPronoun is "m" ? "him" : "her")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_Him">><<silently>>
	<<nnpc_him _args[0]>><<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_his">><<silently>>
	<<set _npcPronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<<set _text_output to (_npcPronoun is "m" ? "his" : "her")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_His">><<silently>>
	<<nnpc_his _args[0]>><<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_hers">><<silently>>
	<<set _npcPronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<<set _text_output to (_npcPronoun is "m" ? "his" : "hers")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_hes">><<silently>>
	<<set _npcPronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<<set _text_output to (_npcPronoun is "m" ? "he's" : "she's")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_Hes">><<silently>>
	<<nnpc_hes _args[0]>><<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_himself">><<silently>>
	<<set _npcPronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<<set _text_output to (_npcPronoun is "m" ? "himself" : "herself")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_wife">><<silently>>
	<<set _npcPronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<<set _text_output to (_npcPronoun is "m" ? "husband" : "wife")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_lass">><<silently>>
	<<set _npcPronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<<set _text_output to (_npcPronoun is "m" ? "lad" : "lass")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_gender">><<silently>>
	<<set _npcPronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<<set _text_output to (_npcPronoun is "m" ? "man" : "woman")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_gendery">><<silently>>
	<<set _npcPronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<<set _text_output to (_npcPronoun is "m" ? "boy" : "girl")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_genitals">><<silently>>
	<<set _npcGender to $NPCName[$NPCNameList.indexOf(_args[0])].gender>>
	<<set _text_output to (_npcGender is "m" ? "penis" : "vagina")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_girlfriend">><<silently>>
	<<set _npcPronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<<set _text_output to (_npcPronoun is "m" ? "boyfriend" : "girlfriend")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_brother">><<silently>>
	<<set _npcPronoun to $NPCName[$NPCNameList.indexOf(_args[0])].pronoun>>
	<<set _text_output to (_npcPronoun is "m" ? "brother" : "sister")>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_Brother">><<silently>>
	<<nnpc_brother _args[0]>><<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_title">><<silently>>
	<<set _text_output to $NPCName[$NPCNameList.indexOf(_args[0])].title>>
<</silently>><<print _text_output>><</widget>>

<<widget "nnpc_Title">><<silently>>
	<<nnpc_title _args[0]>><<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "daylight">>
	<<if Time.dayState is "day">>
		<<set _text_output to "daylight">>
	<<elseif Time.dayState is "dawn">>
		<<set _text_output to "dawn's light">>
	<<elseif Time.dayState is "dusk">>
		<<set _text_output to "fading light">>
	<<else>>
		<<if Time.hour is 9 or Time.season is "summer">>
			<<set _text_output to "twilight">>
		<<else>>
			<<set _text_output to "night breeze">>
		<</if>>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "printTo">>
	to
<</widget>>

<<widget "printAnd">>
	and
<</widget>>

<<widget "printChastity">>
	$worn.genitals.name
<</widget>>

/* Replaced with js macro (timeMacros.js)
 <<widget "timeAfterXHours">><<silently>>
	<<if _args[0]>>
		<<if $options.timestyle is "military">>
			<<set $_hour to (Time.hour + _args[0]) % 24>>
			<<print $_hour>>:<<print $minute + ($minute lt 10? "0":"")>>
			<<set _text_output to ($_hour lt 10 ? "0":"") + $_hour + ":" + ($minute lt 10 ? "0":"") + $minute>>
		<<else>>
			<<set $_hour to (Time.hour + _args[0]) % 24>>
			<<if $_hour gte 13>>
				<<set _text_output to ($_hour - 12) + ":" + ($minute lt 10 ? "0":"") + $minute + "pm">>
			<<else>>
				<<set _text_output to ($_hour is 0 ? "12" : $_hour) + ":" + ($minute lt 10 ? "0":"") + $minute + ($_hour is 12? "pm": "am")>>
			<</if>>
		<</if>>
	<</if>>
<</silently>><<print _text_output>><</widget>> */

<<widget "beast_jaws_text">>
	<<if $NPCList[_n].type is "hawk">>
		<<set _text_output to "beak">>
	<<else>>
		<<set _text_output to "jaws">>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "beast_Jaws_text">>
	<<if $NPCList[_n].type is "hawk">>
		<<set _text_output to "Beak">>
	<<else>>
		<<set _text_output to "Jaws">>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "beast_teeth_text">>
	<<if $NPCList[_n].type is "hawk">>
		<<set _text_output to "beak">>
	<<else>>
		<<set _text_output to "teeth">>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "beast_claws_text">>
	<<if $NPCList[_n].type is "hawk">>
		<<set _text_output to "talons">>
	<<else>>
		<<set _text_output to $NPCList[_n].claws>>
		<!-- <<set _text_output to "claws">> -->
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "beast_growls_text">>
	<<if $NPCList[_n].type is "hawk">>
		<<set _text_output to "squawks">>
	<<elseif $NPCList[_n].type is "pig">>
		<<set _text_output to "oinks">>
	<<elseif $NPCList[_n].type is "dolphin">>
		<<set _text_output to "clicks">>
	<<elseif $NPCList[_n].type is "spider">>
		<<set _text_output to "chitters">>
	<<else>>
		<<set _text_output to "growls">>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "beast_growling_text">>
	<<if $NPCList[_n].type is "hawk">>
		<<set _text_output to "squawking">>
	<<elseif $NPCList[_n].type is "pig">>
		<<set _text_output to "oinking">>
	<<elseif $NPCList[_n].type is "dolphin">>
		<<set _text_output to "clicking">>
	<<else>>
		<<set _text_output to "growling">>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "dress">>
	<<if $worn.upper.set is $worn.lower.set>>
		<<if setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
			<<set _text_output to "dress">>
		<<else>>
			<<set _text_output to "clothes">>
		<</if>>
	<<else>>
		<<set _text_output to "top">>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "skirt">>
	<<if $worn.upper.set is $worn.lower.set>>
		<<if setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
			<<set _text_output to "dress">>
		<<else>>
			<<set _text_output to "clothes">>
		<</if>>
	<<else>>
		<<if setup.clothes.lower[clothesIndex('lower', $worn.lower)].skirt is 1>>
			<<set _text_output to "skirt">>
		<<else>>
			<<set _text_output to "bottoms">>
		<</if>>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "panties">>
	<<if $worn.under_upper.set is $worn.under_lower.set>>
		<<set _text_output to "underclothes">>
	<<else>>
		<<if setup.clothes.under_lower[clothesIndex('under_lower', $worn.under_lower)].skirt is 1>>
			<<set _text_output to "skirt">>
		<<else>>
			<<if $worn.under_lower.gender is "f">>
				<<if random(1, 2) is 2>>
					<<set _text_output to "panties">>
				<<else>>
					<<set _text_output to "knickers">>
				<</if>>
			<<else>>
				<<set _text_output to "undies">>
			<</if>>
		<</if>>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "bra">>
	<<if $worn.under_upper.set is $worn.under_lower.set>>
		<<set _text_output to "underclothes">>
	<<else>>
		<<if $worn.under_upper.gender is "f" and setup.clothes.under_upper[clothesIndex('under_upper', $worn.under_upper)].state_base is "midriff">>
			<<set _text_output to "bra">>
		<<else>>
			<<set _text_output to "top">>
		<</if>>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "npcPenis">><<silently>>
	<<set $_npcGen to (_args[0] ? _args[0] : $index)>>
	<<if !$NPCList[$_npcGen]>>
		<<set _text_output to `<span class="red">error-npcPenis-${$_npcGen}</span>`>>
	<<elseif $NPCList[$_npcGen].chastity.penis is "chastity cage">>
		<<set _text_output to "caged penis">>
	<<elseif $NPCList[$_npcGen].chastity.penis.includes("chastity")>>
		<<set _text_output to $NPCList[$_npcGen].chastity.penis>>
	<<else>>
		<<set _text_output to $NPCList[$_npcGen].penisdesc>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "npcPenisSimple">><<silently>>
	<<if $enemynomax is 1>>
		<<set _args[0] to 0>>
	<</if>>
	<<set $_npcGen to (_args[0] ? _args[0] : $index)>>
	<<if !$NPCList[$_npcGen]>>
		<<set _text_output to `<span class="red">error-npcPenisSimple-${$_npcGen}</span>`>>
	<<elseif $NPCList[$_npcGen].chastity.penis is "chastity cage">>
		<<set _text_output to "caged penis">>
	<<elseif $NPCList[$_npcGen].chastity.penis.includes("chastity")>>
		<<set _text_output to $NPCList[$_npcGen].chastity.penis>>
	<<elseif npcHasStrapon($_npcGen)>>
		<<set _text_output to either("strap-on","strap-on cock")>>
	<<else>>
		<<set _text_output to either("penis","penis","cock","shaft")>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "npcPenisColored">>
	<<set $_npcGen to (_args[0] ? _args[0] : $index)>>
	<<set $_ppcolor to "tan">>
	<<if !$NPCList[$_npcGen]>>
		<<set _text_output to `<span class="red">error-npcPenisColored-${$_npcGen}</span>`>>
	<<elseif $NPCList[$_npcGen].chastity.penis.includes("chastity")>>
		<<set $_ppcolor to "gray">>
		<<set _text_output to $NPCList[$_npcGen].chastity.penis>>
	<<elseif npcHasStrapon($_npcGen)>>
		/*<<set $_straponcolor to $NPCList[$_npcGen].penisdesc.split(" ")>>
		<<set $_ppcolor to $_straponcolor[1]>>*/
		<<set $_ppcolor to $NPCList[$_npcGen].strapon.color>>
		<<if $_ppcolor is "fleshy">><<set $_ppcolor to "tan">><</if>>
		<<set _text_output to $NPCList[$_npcGen].penisdesc>>
	<<else>>
		<<set _text_output to $NPCList[$_npcGen].penisdesc>>
	<</if>>
	<span @class=$_ppcolor><b><<print _text_output>></b></span>
<</widget>>

<<widget "npcVagina">><<silently>>
	<<if !_args[0]>>
		<<set _npcGen to $index>>
	<<else>>
		<<set _npcGen to _args[0]>>
	<</if>>
	<<if !$NPCList[_npcGen]>>
		<<set _text_output to `<span class="red">error-npcVagina-${_npcGen}</span>`>>
	<<elseif $NPCList[_npcGen].chastity.vagina.includes("chastity")>>
		<<set _text_output to $NPCList[_npcGen].chastity.vagina>>
	<<else>>
		<<set _text_output to "pussy">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "npcAnus">>
	<<if !_args[0]>>
		<<set _npcGen to $index>>
	<<else>>
		<<set _npcGen to _args[0]>>
	<</if>>
	<<if !$NPCList[_npcGen]>>
		<<set _text_output to `<span class="red">error-npcAnus-${_npcGen}</span>`>>
	<<elseif $NPCList[_npcGen].chastity.anus.includes("shield")>>
		<<set _text_output to $NPCList[_npcGen].chastity.anus>>
	<<else>>
		<<set _text_output to "ass">>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "npcGenitals">><<silently>>
	<<if !_args[0]>>
		<<set _npcGen to $index>>
	<<else>>
		<<set _npcGen to _args[0]>>
	<</if>>
	<<if !$NPCList[_npcGen]>>
		<<set _text_output to `<span class="red">error-npcGenitals-${_npcGen}</span>`>>
	<<elseif $NPCList[_npcGen].penis isnot "none" and $NPCList[_npcGen].vagina isnot "none">>
		<<if _args[1] is "simple">>
			<<set $_text_output to "<<npcPenisSimple _npcGen>> and <<npcVagina _npcGen>>">>
		<<else>>
			<<set $_text_output to "<<npcPenis _npcGen>> and <<npcVagina _npcGen>>">>
		<</if>>
	<<elseif $NPCList[_npcGen].penis isnot "none">>
		<<if _args[1] is "simple">>
			<<set $_text_output to "<<npcPenisSimple _npcGen>>">>
		<<else>>
			<<set $_text_output to "<<npcPenis _npcGen>>">>
		<</if>>
	<<else>>
		<<set $_text_output to "<<npcVagina _npcGen>>">>
	<</if>>
<</silently>><<print $_text_output>><</widget>>

<<widget "npcChest">><<silently>>
	<<if !_args[0]>>
		<<set _npcGen to $index>>
	<<else>>
		<<set _npcGen to _args[0]>>
	<</if>>

	<<if !$NPCList[_npcGen]>>
		<<set _text_output to `<span class="red">error-npcChest-${_npcGen}</span>`>>
	<<elseif $NPCList[_npcGen].pronoun is "m" or $NPCList[_npcGen].breastsize is 0>>
		<<set _text_output to "chest">>
	<<else>>
		<<set _text_output to $NPCList[_npcGen].breastsdesc>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "npcHairColour">><<silently>>
	<<if _args[0]>>
		<<switch $NPCName[$NPCNameList.indexOf(_args[0])].hairColour>>
			<<case "strawberryblond">>
				<<set _text_output to "strawberry blond">>
			<<case "platinumblond">>
				<<set _text_output to "platinum blond">>
			<<case "lightbrown">>
				<<set _text_output to "light brown">>
			<<default>>
				<<set _text_output to $NPCName[$NPCNameList.indexOf(_args[0])].hairColour>>
		<</switch>>
	<<else>>
		<<set _text_output to "phantasmal ghost colour because someone forgot to define an NPC for the npcHairColour widget, please inform Vrelnir">>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<!-- Argument 0 is the appropriate NPCName or NPCList object.
Argument 1 should be "upper", "lower", or "both"
Argument 2, where appropriate, determines whether it's the player undressing the NPC or the NPC undressing themselves-->
<<widget "npcClothesText">><<silently>>
	<<if _args[0]>>
		<<set $_npc to _args[0]>>
		<<set $_part to (_args[1] ? _args[1] : "both")>>
		<<switch $_part>>
			<<case "both">>
				<<set _text_output to setup.npcClothesSets.find(item => item.name === $_npc.clothes.set).desc>>
			<<case "upper">>
				<<set _text_output to $_npc.clothes.upper.name>>
			<<case "lower">>
				<<set _text_output to $_npc.clothes.lower.name>>
			<<default>>
				<<set _text_output to '<span class="red">ERROR: Invalid NPC clothing case. (NPC: $_npc.fullDescription, part called: $_part) Please inform PurityGuy</span>'>>
		<</switch>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "npcUndressText">><<silently>>
	<<if _args[0]>>
		<<set $_npc to _args[0]>>
		<<set $_part to (_args[1] ? _args[1] : "both")>>
		<<set $_self to (_args[2] ? true : false)>>
		<<set $_his to ($combat is 1 ? "<<hisselect $index>>" : "<<his>>")>>
		<<set _text_output to "">>
		<<if !$_npc.clothes>>
			<<set _text_output += '<span class="red">ERROR: NPC ($_npc.fullDescription) clothes are undefined! Please inform PurityGuy</span>'>>
		<<elseif $_part is "both">>
			<<set _text_output += ($_self ? "removes" : "remove")>>
			<<set _text_output += " $_his setup.npcClothesSets.find(item => item.name === $_npc.clothes.set).desc">>
		<<else>>
			<<set $_clothesAction to setup.npcClothesSets.find(item => item.name === $_npc.clothes.set).clothes[$_part].action>>
			<<switch $_clothesAction>>
				<<case "lift">><<set _actionText to ($_self ? "lifts" : "lift")>>
				<<case "pull">><<set _actionText to ($_self ? "pulls down" : "pull down")>>
				<<case "unbutton">><<set _actionText to ($_self ? "unbuttons" : "unbutton")>>
				<<case "unzip">><<set _actionText to ($_self ? "unzips" : "unzip")>>
				<<case "aside">><<set _actionText to ($_self ? "pushes aside" : "push aside")>>
				<<case "open">><<set _actionText to ($_self ? "opens" : "open")>>
				<<case "undo">><<set _actionText to ($_self ? "undoes" : "undo")>>
				<<case "unwrap">><<set _actionText to ($_self ? "unwraps" : "unwrap")>>
				<<default>><<set _actionText to '<span class="red">ERROR: Invalid NPC clothing action. (NPC: $_npc.fullDescription, part called: $_part, action: $_clothesAction) Please inform PurityGuy</span>'>>
			<</switch>>
			<<set _text_output += _actionText + " $_his $_npc.clothes[$_part].name">>
		<</if>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "npcRevealText">><<silently>>
	<<set $_npc to _args[0]>>
	<<set $_part to _args[1]>> /* can be "upper" or "lower" */
	<<set $_mod to _args[2]>>
	<<set _text_output to "revealing ">>
	<<if $_mod is "name">>
		<<if $NPCNameList.includes($_npc.fullDescription)>>
			<<set _text_output += "$_npc.fullDescription's ">>
		<<elseif $_npc.name_known is 1>>
			<<set _text_output += "$_npc.name's ">>
		<<else>>
			<<set _text_output += "the $_npc.fullDescription's ">>
		<</if>>
	<<elseif $_mod is "desc">>
		<<if $NPCNameList.includes($_npc.fullDescription)>>
			<<set _text_output += "the $_npc.description's ">>
		<<else>>
			<<set _text_output += "the $_npc.fullDescription's ">>
		<</if>>
	<<else>>
		<<set _text_output += "<<his>> ">>
	<</if>>
	<<if $_part is "both">>
		<<set $_chest to ($_npc.pronoun is "m" || $_npc.breastsize is 0 ? "chest" : $_npc.breastsdesc)>>
		<<set _text_output += "$_chest and ">>
	<</if>>
	<<if ["both","lower"].includes($_part)>>
		<<if $_npc.penis isnot "none" and $_npc.vagina isnot "none">>
			<<set _text_output += "$_npc.penisdesc and <<his>> ">>
			<<set _text_output += $enemyarousal gte 40 ? "moistened pussy" : "pussy">>
			<<if $_npc.chastity.penis.includes("chastity")>>
				<<set _text_output += ", inside of a $_npc.chastity.penis">>
			<</if>>
		<<elseif $_npc.penis isnot "none">>
			<<set _text_output += $_npc.penisdesc>>
			<<if $_npc.penisdesc.includes("strap-on")>>
				<!-- placeholder -->
			<<else>>
				<<if $_npc.chastity.penis.includes("chastity")>>
					<<set _text_output += ", inside of a $_npc.chastity.penis">>
				<<else>>
					<<set _text_output += ", fully erect">>
				<</if>>
			<</if>>
		<<elseif $_npc.vagina isnot "none">>
			<<set _text_output += $enemyarousal gte 40 ? "moistened pussy" : "pussy">>
			<<if $_npc.chastity.vagina.includes("chastity")>>
				<<set _text_output += " behind a $_npc.chastity.vagina">>
			<</if>>
		<</if>>
	<<else>>
		<<set $_chest to ($_npc.pronoun is "m" || $_npc.breastsize is 0 ? "chest" : $_npc.breastsdesc)>>
		<<set _text_output += "$_chest">>
	<</if>>
	<!-- intentionally omitting a period, for flexibility; do not forget to add one after you use this widget -->
<</silently>>_text_output<</widget>>

<<widget "npcGenitalReaction">>
	<<set $_npc to _args[0]>>
	<<if $_npc.penis isnot "none">>
		<<switch $_npc.penissize>>
			<<case 4>>
				<span class="red"> <<print setup.npcPenisRemarks["big"].random()>></span>
			<<case 1>>
				<span class="green"> <<print setup.npcPenisRemarks["small"].random()>></span>
			<<default>>
		<</switch>>
	<</if>>
	<<if $_npc.vagina isnot "none">>
		<!-- Placeholder -->
	<</if>>
<</widget>>

<<widget "gbeauty">>
	<<if $statdisable is "f">> |
		<span class="green">+ Beauty</span>
	<</if>>
<</widget>>

<<widget "ggbeauty">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Beauty</span>
	<</if>>
<</widget>>

<<widget "gggbeauty">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Beauty</span>
	<</if>>
<</widget>>

<<widget "gseduction">>
	<<if $statdisable is "f">> |
		<span class="green">+ Seduction</span>
	<</if>>
<</widget>>

<<widget "ggseduction">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Seduction</span>
	<</if>>
<</widget>>

<<widget "gggseduction">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Seduction</span>
	<</if>>
<</widget>>

<<widget "gskulduggery">>
	<<if $statdisable is "f">> |
		<span class="green">+ Skulduggery</span>
	<</if>>
<</widget>>

<<widget "ggskulduggery">>
	<<if $statdisable is "f">> |
		<span class="green">+ + Skulduggery</span>
	<</if>>
<</widget>>

<<widget "gggskulduggery">>
	<<if $statdisable is "f">> |
		<span class="green">+ + + Skulduggery</span>
	<</if>>
<</widget>>

/* Replaced with js macro
<<widget "ampm">><!-- [hour] [minute] -->
	/* displays time in accordance with player-set time format *//*
	<<if ndef _args[0]>>
		/* when called without arguments, display current time *//*
		<<set _hour to Time.hour>>
		<<set _minute to $minute>>
	<<elseif typeof(_args[0]) is "string">>
		/* if string, assume format H:mm or hh:mm *//*
		<<set _numberstring to _args[0].replace(":", ".")>>
		<<set _hour to Math.trunc(_numberstring)>>
		<<set _minute to _numberstring * 100 % 100>>
	<<else>>
		/* assume first numeric argument is hour *//*
		<<set _hour to _args[0]>>
		<<if ndef _args[1]>>
			/* without a second argument, assume 00 */ /*
			<<set _minute to 0>>
		<<else>>
			<<set _minute to _args[1]>>
		<</if>>
	<</if>>

	<<if $options.timestyle is "ampm">>
		<<if _hour gte 13>>
			<<set _text_output to (_hour - 12) +":"+ _minute.toString().padStart(2, "0") + " pm">>
		<<else>>
			<<set _text_output to (_hour is 0 ? "12" : _hour) +":"+ _minute.toString().padStart(2, "0") + (_hour is 12 ? " pm" : " am")>>
		<</if>>
	<<else>>
		<<set _text_output to _hour.toString().padStart(2,"0") +":"+ _minute.toString().padStart(2, "0")>>
	<</if>>
	<<print _text_output>>
<</widget>>
*/

<!-- usage
	<<number -69>> -> "negative sixty-nine"
	<<number 69 silent>> -> _text_output = "sixty-nine"
-->
<<widget "number">><<silently>>
	<<set $_x to _args[0]>>
	<<if $_x lte -100 or $_x gte 100 or Math.floor($_x) isnot $_x>>
		<<set _text_output to ""+$_x>>
	<<else>>
		<<if $_x lt 0>>
			<<set _text_output to "negative ">>
			<<set $_x to -$_x>>
		<<else>>
			<<set _text_output to "">>
		<</if>>
		<<if $_x is 0>>
			<<set _text_output to "zero">>
		<<elseif $_x gte 10 and $_x lte 20>>
			<<set _text_output to ["ten", "eleven", "twelve", "thirteen", "fourteen", "fifteen", "sixteen", "seventeen", "eighteen", "nineteen", "twenty"][$_x-10]>>
		<<else>>
			<<set $_ones to ($_x % 10)>>
			<<set $_tens to ($_x - $_ones)/10>>
			<<set $_tenword to ["", "", "twenty", "thirty", "forty", "fifty", "sixty", "seventy", "eighty", "ninety"][$_tens]>>
			<<set $_oneword to ["", "one", "two", "three", "four", "five", "six", "seven", "eight", "nine"][$_ones]>>
			<<if $_tenword and $_oneword>>
				<<set _text_output to $_tenword + "-" + $_oneword>>
			<<else>>
				<<set _text_output to $_tenword + "" + $_oneword>>
			<</if>>
		<</if>>
	<</if>>
<</silently>><<if _args[1] isnot "silent">><<print _text_output>><</if>><</widget>>

<<widget "Number">><<number _args[0] silent>><<capitalise>><</widget>>

<<widget "location_text">>
	<<switch $location>>
		<<case alley>>
			<<set _text_output to "alley">>
		<<case forest lake>>
			<<set _text_output to "forest">>
		<<case moor>>
			<<set _text_output to "moor">>
		<<default>>
			<<set _text_output to "street">>
	<</switch>>
	<<print _text_output>>
<</widget>>

<<widget "nude_text">>
	<<if $worn.under_upper.exposed gte 1 and $worn.upper.exposed gte 2 and $worn.over_upper.exposed gte 2>>
		<<if $worn.under_lower.exposed gte 1 and $worn.lower.exposed gte 2 and $worn.over_lower.exposed gte 2>>
			<<set _text_output to "naked">>
		<<else>>
			<<set _text_output to "topless">>
		<</if>>
	<<else>>
		<<if $worn.under_lower.exposed gte 1 and $worn.lower.exposed gte 2 and $worn.over_lower.exposed gte 2>>
			<<set _text_output to "bottomless">>
		<<else>>
			<<set _text_output to "underwear">>
		<</if>>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "cast_aside_clothes">>
	<<if $combatgoal is "strip">>
		<span class="purple"><<He>> bundles the fabric under <<his>> arm.</span>
	<<else>>
		<span class="purple"><<He>> casts aside the fabric.</span>
	<</if>>
<</widget>>

<<widget "plant_details">><<silently>>
	<<if ($location is "moor" and _args[0] isnot "forest") or _args[0] is "moor">>
		<<switch Time.season>>
			<<case "spring">>
				<<set _text_output to "yellow willow leaves">>
			<<case "summer">>
				<<set _text_output to "small purple flowers">>
			<<case "autumn">>
				<<set _text_output to "large amber flowers">>
			<<case "winter">>
				<<set _text_output to "straw-coloured reeds">>
		<</switch>>
	<<else>>
		<<switch Time.season>>
			<<case "spring">>
				<<set _text_output to "pink blossoms">>
			<<case "summer">>
				<<set _text_output to "leaves and flowers">>
			<<case "autumn">>
				<<set _text_output to "orange and red leaves">>
			<<case "winter">>
				<<set _text_output to "small red berries">>
		<</switch>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "Plant_details">><<silently>>
	<<plant_details _args[0]>><<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "tower_creature_text">>
	<<silently>>
	<<if $NPCList[0].monster is "monster">>
		<<set _text_output to "horned " + ($NPCList[0].gender is "m" ? "boy" : "girl")>>
	<<else>>
		<<set _text_output to either("creature","monster","beast")>>
	<</if>>
	<</silently>>
	<<print _text_output>>
<</widget>>

<!-- Jimmy: Commented out for deprecation. Use: ?vulva
			See 03-JavaScript/Templates/..
<<widget "vulva">>
	<<print either("vulva","vulva","quim","flange","pussy")>>
<</widget>>

-->

<<widget "penisSimple">><<silently>>
	<<set _text_output to (playerHasStrapon() ? "strap-on": "penis")>>
<</silently>><<print _text_output>><</widget>>

<<widget "gfabric">>
	<<if $statdisable is "f">>
		<span class="green">+ Fabric</span>
	<</if>>
<</widget>>

<<widget "passPercent">>
	<<if $statdisable is "f">> |
		<<if _args[0] gt 0>>
			<span class="green">+ _args[0]% pass chance</span>
		<<else>>
			<span class="red">- _args[0]% pass chance</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "galcohol">>
	<<if $statdisable is "f">> |
		<span class="purple">+ Alcohol</span>
	<</if>>
<</widget>>

<<widget "ggalcohol">>
	<<if $statdisable is "f">> |
		<span class="purple">+ + Alcohol</span>
	<</if>>
<</widget>>

<<widget "gggalcohol">>
	<<if $statdisable is "f">> |
		<span class="purple">+ + + Alcohol</span>
	<</if>>
<</widget>>

<<widget "gdrugged">>
	<<if $statdisable is "f">> |
		<span class="pink">+ Drugged</span>
	<</if>>
<</widget>>

<<widget "ggdrugged">>
	<<if $statdisable is "f">> |
		<span class="pink">+ + Drugged</span>
	<</if>>
<</widget>>

<<widget "gggdrugged">>
	<<if $statdisable is "f">> |
		<span class="pink">+ + + Drugged</span>
	<</if>>
<</widget>>

<<widget "cute">><<silently>>
	<<if $player.gender_appearance is "f">>
		<<set _text_output to (random(1) is 0 ? "cute" : "pretty")>>
	<<else>>
		<<set _text_output to (random(1) is 0 ? "cute" : "handsome")>>
	<</if>>
<</silently>>_text_output<</widget>>

<<widget "a_role">><<silently>>
	<<if $role and $role isnot "normal">>
		<<if ["A","E","I","O","U"].some(role => $role.startsWith(role))>>
			<<set _text_output to "an " + $role>>
		<<else>>
			<<set _text_output to "a " + $role>>
		<</if>>
	<<else>>
		<<personsimple "normal">>
		<<set _text_output to "a " + _text_output>>
	<</if>>
<</silently>><<print _text_output>><</widget>>

<<widget "A_role">><<silently>>
	<<a_role>><<capitalise>>
<</silently>><<print _text_output>><</widget>>

<<widget "bred">>
	<<if $pregnancyspeechdisable is "f">>
		<<if random(1, 10000) is 10000>>
			<<set _text_output to "bread">>
		<<else>>
			<<set _text_output to "bred">>
		<</if>>
	<<else>>
		<<set _text_output to "fucked">>
	<</if>>
	<<print _text_output>>
<</widget>>

<<widget "dangerousText">>
	<<if $statdisable is "f">> |
		<span class="red">Dangerous</span>
	<</if>>
<</widget>>

<<widget "orgasmTrait">>
	<<if $statdisable is "f">> |
		<<if $submissive lte 850>>
			<span class="lewd">Hedonist</span>
		<<else>>
			<span class="lewd">Orgasm Addict</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "chokeTrait">>
	<<if $statdisable is "f">> |
		<span class="lewd">Asphyxiophilia</span>
	<</if>>
<</widget>>

<<widget "ejacTrait">>
	<<if $statdisable is "f">> |
		<<if $submissive lte 850>>
			<span class="lewd">Cumoisseur</span>
		<<else>>
			<span class="lewd">Cum Dump</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "molestTrait">>
	<<if $statdisable is "f">> |
		<<if $submissive lte 850>>
			<span class="lewd">Graceful</span>
		<<else>>
			<span class="lewd">Plaything</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "rapeTrait">>
	<<if $statdisable is "f">> |
		<<if $submissive lte 850>>
			<span class="lewd">Survivor</span>
		<<else>>
			<span class="lewd">Fucktoy</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "bestialityTrait">>
	<<if $statdisable is "f">> |
		<<if $submissive lte 850>>
			<span class="lewd">Tamer</span>
		<<else>>
			<span class="lewd">Bitch</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "tentacleTrait">>
	<<if $statdisable is "f">> |
		<<if $submissive lte 850>>
			<span class="lewd">Witch</span>
		<<else>>
			<span class="lewd">Prey</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "voreTrait">>
	<<if $statdisable is "f">> |
		<<if $submissive lte 850>>
			<span class="lewd">Daredevil</span>
		<<else>>
			<span class="lewd">Tasty</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "milkTrait">>
	<<if $statdisable is "f">> |
		<<if $submissive lte 850>>
			<span class="lewd">Milk Enthusiast</span>
		<<else>>
			<span class="lewd">Milk Addict</span>
		<</if>>
	<</if>>
<</widget>>

<<widget "stockholmTrait">>
	<<if $statdisable is "f">>
		| <span class="gold">Stockholm Syndrome<<if _args[0]>>: <<print _args[0]>><</if>></span>
	<</if>>
<</widget>>

<<widget "note">>
	<<if $statdisable is "f" and _args[0]>> |
		<span @class="_args[1]"><<print _args[0]>></span>
	<</if>>
<</widget>>

<<widget "furnitureWarning">>
	<<switch _args[0]>>
		<<case "decoration">>
			<<set $_furniture to Furniture.get('decoration')>>
		<<case "windowsill">>
			<<set $_furniture to Furniture.get('windowsill')>>
		<<case "wallpaper">>
			<<set $_furniture to $furniture.bedroom.wallpaper>>
		<<case "poster">>
			<<set $_furniture to $furniture.bedroom.poster>>
	<</switch>>

	<<if $statdisable is "f" and $_furniture>>
		| <span class="blue">This will replace your <<if _args[0] is "wallpaper" or _args[0] is "poster">>current <<print _args[0]>><<else>><<print $_furniture.name>><</if>></span>
	<</if>>
<</widget>>
